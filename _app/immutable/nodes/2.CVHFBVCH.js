import{s as ne,e as N,b as M,d as y,O as fe,j as F,f as A,i as w,v as V,k as X,n as O,P as Ve,t as P,h as T,l as v,m as W,w as U,Q as Ye,R as K,A as Ee,S as Me,T as oe,U as ue,V as de,x as Q,W as re,p as Ne,r as Fe}from"../chunks/scheduler.BJXnsnwn.js";import{S as le,i as se,f as ie,b as $,d as x,m as ee,t as J,a as Z,e as te,c as He,g as Pe}from"../chunks/index.DQOnwU9f.js";function ce(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ye(e,n,t){const a=e.slice();return a[7]=n[t],a}function De(e,n,t){const a=e.slice();return a[10]=n[t],a}function Ce(e){let n,t,a=new Date(e[0][e[7]].dates[e[10]].date).toLocaleDateString()+"",i,r,l,d,f,o,c,g=e[0][e[7]].dates[e[10]].quantity+"",m,p,s,u,h,Y,C=e[0][e[7]].dates[e[10]].acquisitionValue+"",D,I,S,R,j=e[0][e[7]].nsn+"",B;return{c(){n=N("div"),t=N("div"),i=P(a),r=M(),l=N("div"),f=M(),o=N("p"),c=P("("),m=P(g),p=P(")"),s=M(),u=N("div"),h=N("p"),Y=P("Acquisition Value: "),D=P(C),I=M(),S=N("p"),R=P("NSN: "),B=P(j),this.h()},l(E){n=y(E,"DIV",{class:!0});var b=A(n);t=y(b,"DIV",{class:!0});var k=A(t);i=T(k,a),k.forEach(w),r=F(b),l=y(b,"DIV",{class:!0,title:!0,style:!0}),A(l).forEach(w),f=F(b),o=y(b,"P",{class:!0});var _=A(o);c=T(_,"("),m=T(_,g),p=T(_,")"),_.forEach(w),b.forEach(w),s=F(E),u=y(E,"DIV",{class:!0});var q=A(u);h=y(q,"P",{class:!0});var z=A(h);Y=T(z,"Acquisition Value: "),D=T(z,C),z.forEach(w),I=F(q),S=y(q,"P",{class:!0});var G=A(S);R=T(G,"NSN: "),B=T(G,j),G.forEach(w),q.forEach(w),this.h()},h(){V(t,"class","date svelte-1dnrrf3"),V(l,"class","bar svelte-1dnrrf3"),V(l,"title",d=`Quantity: ${e[0][e[7]].dates[e[10]].quantity}`),U(l,"width",e[0][e[7]].dates[e[10]].quantity*10+"px"),V(o,"class","tiny svelte-1dnrrf3"),V(n,"class","item svelte-1dnrrf3"),V(h,"class","tiny svelte-1dnrrf3"),V(S,"class","tiny svelte-1dnrrf3"),V(u,"class","meta svelte-1dnrrf3")},m(E,b){X(E,n,b),v(n,t),v(t,i),v(n,r),v(n,l),v(n,f),v(n,o),v(o,c),v(o,m),v(o,p),X(E,s,b),X(E,u,b),v(u,h),v(h,Y),v(h,D),v(u,I),v(u,S),v(S,R),v(S,B)},p(E,b){b&3&&a!==(a=new Date(E[0][E[7]].dates[E[10]].date).toLocaleDateString()+"")&&W(i,a),b&3&&d!==(d=`Quantity: ${E[0][E[7]].dates[E[10]].quantity}`)&&V(l,"title",d),b&3&&U(l,"width",E[0][E[7]].dates[E[10]].quantity*10+"px"),b&3&&g!==(g=E[0][E[7]].dates[E[10]].quantity+"")&&W(m,g),b&3&&C!==(C=E[0][E[7]].dates[E[10]].acquisitionValue+"")&&W(D,C),b&3&&j!==(j=E[0][E[7]].nsn+"")&&W(B,j)},d(E){E&&(w(n),w(s),w(u))}}}function Ie(e){let n,t,a,i=e[0][e[7]].totalValue+"",r,l,d,f,o,c=e[0][e[7]].agency+"",g,m,p,s,u=e[0][e[7]].state+"",h,Y,C,D,I=e[0][e[7]].item+"",S,R,j,B=ce(Object.keys(e[0][e[7]].dates)),E=[];for(let b=0;b<B.length;b+=1)E[b]=Ce(De(e,B,b));return{c(){n=N("div"),t=N("span"),a=P("(Total Value: $"),r=P(i),l=P(")"),d=M(),f=N("div"),o=N("h3"),g=P(c),m=M(),p=N("span"),s=P("("),h=P(u),Y=P(")"),C=M(),D=N("h3"),S=P(I),R=M();for(let b=0;b<E.length;b+=1)E[b].c();j=M(),this.h()},l(b){n=y(b,"DIV",{class:!0});var k=A(n);t=y(k,"SPAN",{class:!0});var _=A(t);a=T(_,"(Total Value: $"),r=T(_,i),l=T(_,")"),_.forEach(w),d=F(k),f=y(k,"DIV",{class:!0});var q=A(f);o=y(q,"H3",{class:!0});var z=A(o);g=T(z,c),m=F(z),p=y(z,"SPAN",{class:!0});var G=A(p);s=T(G,"("),h=T(G,u),Y=T(G,")"),G.forEach(w),z.forEach(w),C=F(q),D=y(q,"H3",{class:!0});var he=A(D);S=T(he,I),he.forEach(w),q.forEach(w),R=F(k);for(let me=0;me<E.length;me+=1)E[me].l(k);j=F(k),k.forEach(w),this.h()},h(){V(t,"class","tiny svelte-1dnrrf3"),V(p,"class","tiny svelte-1dnrrf3"),V(o,"class","svelte-1dnrrf3"),V(D,"class","svelte-1dnrrf3"),V(f,"class","header svelte-1dnrrf3"),V(n,"class","group svelte-1dnrrf3")},m(b,k){X(b,n,k),v(n,t),v(t,a),v(t,r),v(t,l),v(n,d),v(n,f),v(f,o),v(o,g),v(o,m),v(o,p),v(p,s),v(p,h),v(p,Y),v(f,C),v(f,D),v(D,S),v(n,R);for(let _=0;_<E.length;_+=1)E[_]&&E[_].m(n,null);v(n,j)},p(b,k){if(k&3&&i!==(i=b[0][b[7]].totalValue+"")&&W(r,i),k&3&&c!==(c=b[0][b[7]].agency+"")&&W(g,c),k&3&&u!==(u=b[0][b[7]].state+"")&&W(h,u),k&3&&I!==(I=b[0][b[7]].item+"")&&W(S,I),k&3){B=ce(Object.keys(b[0][b[7]].dates));let _;for(_=0;_<B.length;_+=1){const q=De(b,B,_);E[_]?E[_].p(q,k):(E[_]=Ce(q),E[_].c(),E[_].m(n,j))}for(;_<E.length;_+=1)E[_].d(1);E.length=B.length}},d(b){b&&w(n),Ve(E,b)}}}function Te(e){let n,t="The results are sorted according to the total value of the items.",a,i,r=ce(e[1]),l=[];for(let d=0;d<r.length;d+=1)l[d]=Ie(ye(e,r,d));return{c(){n=N("div"),n.textContent=t,a=M(),i=N("div");for(let d=0;d<l.length;d+=1)l[d].c();this.h()},l(d){n=y(d,"DIV",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1118j0o"&&(n.textContent=t),a=F(d),i=y(d,"DIV",{class:!0});var f=A(i);for(let o=0;o<l.length;o+=1)l[o].l(f);f.forEach(w),this.h()},h(){V(n,"class","info svelte-1dnrrf3"),V(i,"class","timeline svelte-1dnrrf3")},m(d,f){X(d,n,f),X(d,a,f),X(d,i,f);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,null)},p(d,[f]){if(f&3){r=ce(d[1]);let o;for(o=0;o<r.length;o+=1){const c=ye(d,r,o);l[o]?l[o].p(c,f):(l[o]=Ie(c),l[o].c(),l[o].m(i,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=r.length}},i:O,o:O,d(d){d&&(w(n),w(a),w(i)),Ve(l,d)}}}function Re(e,n,t){let a,i,r,{data:l=[]}=n,{itemName:d=""}=n,{agencyName:f=""}=n;const o=c=>parseFloat(c.replace("US$","").replace(/\./g,"").replace(",","."));return e.$$set=c=>{"data"in c&&t(2,l=c.data),"itemName"in c&&t(3,d=c.itemName),"agencyName"in c&&t(4,f=c.agencyName)},e.$$.update=()=>{e.$$.dirty&28&&t(5,a=l.filter(c=>(d===""||c["Item Name"]===d)&&(f===""||c["Agency Name"]===f))),e.$$.dirty&32&&t(0,i=a.reduce((c,g)=>{const m=`${g["Agency Name"]}, ${g["Item Name"]}`,p=new Date(g["Ship Date"]).toLocaleDateString();c[m]||(c[m]={totalValue:0,dates:{}}),c[m].dates[p]||(c[m].dates[p]={date:g["Ship Date"],quantity:0,items:[]});const s=o(g["Acquisition Value"]);return c[m].totalValue+=s,c[m].dates[p].quantity+=parseInt(g.Quantity),c[m].dates[p].acquisitionValue=g["Acquisition Value"],c[m].dates[p].items.push(g),c[m].agency=g["Agency Name"].toLowerCase(),c[m].item=g["Item Name"].toLowerCase(),c[m].state=g.State,c[m].nsn=g.NSN,c},{})),e.$$.dirty&1&&t(1,r=Object.keys(i).sort((c,g)=>i[g].totalValue-i[c].totalValue).slice(0,200))},[i,r,l,d,f,a]}class je extends le{constructor(n){super(),se(this,n,Re,Te,ne,{data:2,itemName:3,agencyName:4})}}function Le(e,n,t){const a=e.slice();return a[11]=n[t],a}function Ae(e){let n,t=e[11]+"",a,i,r,l;function d(){return e[9](e[11])}return{c(){n=N("div"),a=P(t),i=M(),this.h()},l(f){n=y(f,"DIV",{class:!0});var o=A(n);a=T(o,t),i=F(o),o.forEach(w),this.h()},h(){V(n,"class","svelte-mie8sr")},m(f,o){X(f,n,o),v(n,a),v(n,i),r||(l=K(n,"click",d),r=!0)},p(f,o){e=f,o&4&&t!==(t=e[11]+"")&&W(a,t)},d(f){f&&w(n),r=!1,l()}}}function Be(e){let n,t,a,i,r,l="All",d,f,o,c=ce(e[2]),g=[];for(let m=0;m<c.length;m+=1)g[m]=Ae(Le(e,c,m));return{c(){n=N("div"),t=N("input"),a=M(),i=N("div"),r=N("div"),r.textContent=l,d=M();for(let m=0;m<g.length;m+=1)g[m].c();this.h()},l(m){n=y(m,"DIV",{class:!0});var p=A(n);t=y(p,"INPUT",{type:!0,placeholder:!0,class:!0}),a=F(p),i=y(p,"DIV",{class:!0});var s=A(i);r=y(s,"DIV",{class:!0,"data-svelte-h":!0}),fe(r)!=="svelte-1kk2g5s"&&(r.textContent=l),d=F(s);for(let u=0;u<g.length;u+=1)g[u].l(s);s.forEach(w),p.forEach(w),this.h()},h(){V(t,"type","text"),V(t,"placeholder",e[0]),V(t,"class","svelte-mie8sr"),V(r,"class","svelte-mie8sr"),V(i,"class","dropdown-content svelte-mie8sr"),V(n,"class","dropdown svelte-mie8sr")},m(m,p){X(m,n,p),v(n,t),Ye(t,e[1]),v(n,a),v(n,i),v(i,r),v(i,d);for(let s=0;s<g.length;s+=1)g[s]&&g[s].m(i,null);f||(o=[K(t,"input",e[8]),K(t,"input",e[4]),K(r,"click",e[5])],f=!0)},p(m,[p]){if(p&1&&V(t,"placeholder",m[0]),p&2&&t.value!==m[1]&&Ye(t,m[1]),p&12){c=ce(m[2]);let s;for(s=0;s<c.length;s+=1){const u=Le(m,c,s);g[s]?g[s].p(u,p):(g[s]=Ae(u),g[s].c(),g[s].m(i,null))}for(;s<g.length;s+=1)g[s].d(1);g.length=c.length}},i:O,o:O,d(m){m&&w(n),Ve(g,m),f=!1,Ee(o)}}}function ze(e,n,t){let a,{options:i=[]}=n,{placeholder:r=""}=n,{selected:l=""}=n;const d=Me();let f="";function o(s){t(6,l=s),t(1,f=s),d("select",s)}function c(s){t(1,f=s.target.value),d("input",f)}function g(){t(6,l=""),t(1,f=""),d("select","")}function m(){f=this.value,t(1,f),t(6,l)}const p=s=>o(s);return e.$$set=s=>{"options"in s&&t(7,i=s.options),"placeholder"in s&&t(0,r=s.placeholder),"selected"in s&&t(6,l=s.selected)},e.$$.update=()=>{e.$$.dirty&64&&t(1,f=l),e.$$.dirty&130&&t(2,a=i.filter(s=>s.toLowerCase().includes(f.toLowerCase())).sort())},[r,f,a,o,c,g,l,i,m,p]}class Se extends le{constructor(n){super(),se(this,n,ze,Be,ne,{options:7,placeholder:0,selected:6})}}function Ue(e){let n,t,a,i,r,l,d,f,o,c,g,m,p;return{c(){n=N("div"),t=N("div"),a=N("div"),i=M(),r=N("div"),l=N("span"),d=P(e[0]),f=M(),o=N("div"),c=N("span"),g=P(e[1]),this.h()},l(s){n=y(s,"DIV",{class:!0});var u=A(n);t=y(u,"DIV",{class:!0});var h=A(t);a=y(h,"DIV",{class:!0,style:!0}),A(a).forEach(w),i=F(h),r=y(h,"DIV",{class:!0,"data-which":!0,style:!0});var Y=A(r);l=y(Y,"SPAN",{class:!0});var C=A(l);d=T(C,e[0]),C.forEach(w),Y.forEach(w),f=F(h),o=y(h,"DIV",{class:!0,"data-which":!0,style:!0});var D=A(o);c=y(D,"SPAN",{class:!0});var I=A(c);g=T(I,e[1]),I.forEach(w),D.forEach(w),h.forEach(w),u.forEach(w),this.h()},h(){V(a,"class","body svelte-16drinl"),U(a,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),U(a,"right",100*(1-(e[1]-e[2])/(e[3]-e[2]))+"%"),V(l,"class","svelte-16drinl"),V(r,"class","handle svelte-16drinl"),V(r,"data-which","start"),U(r,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),V(c,"class","svelte-16drinl"),V(o,"class","handle svelte-16drinl"),V(o,"data-which","end"),U(o,"left",100*((e[1]-e[2])/(e[3]-e[2]))+"%"),V(t,"class","slider svelte-16drinl"),V(n,"class","double-range-container svelte-16drinl")},m(s,u){X(s,n,u),v(n,t),v(t,a),e[9](a),v(t,i),v(t,r),v(r,l),v(l,d),e[10](r),v(t,f),v(t,o),v(o,c),v(c,g),e[11](t),m||(p=[oe(pe.call(null,a)),K(a,"dragmove",ue(de(e[8]))),oe(pe.call(null,r)),K(r,"dragmove",ue(de(e[7]("start")))),oe(pe.call(null,o)),K(o,"dragmove",ue(de(e[7]("end"))))],m=!0)},p(s,[u]){u&13&&U(a,"left",100*((s[0]-s[2])/(s[3]-s[2]))+"%"),u&14&&U(a,"right",100*(1-(s[1]-s[2])/(s[3]-s[2]))+"%"),u&1&&W(d,s[0]),u&13&&U(r,"left",100*((s[0]-s[2])/(s[3]-s[2]))+"%"),u&2&&W(g,s[1]),u&14&&U(o,"left",100*((s[1]-s[2])/(s[3]-s[2]))+"%")},i:O,o:O,d(s){s&&w(n),e[9](null),e[10](null),e[11](null),m=!1,Ee(p)}}}function qe(e,n,t){return e<n?n:e>t?t:e}function pe(e){let n,t;function a(l){l.type==="touchstart"&&(l=l.touches[0]),n=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:n,y:t}})),window.addEventListener("mousemove",i),window.addEventListener("mouseup",r),window.addEventListener("touchmove",i),window.addEventListener("touchend",r)}function i(l){l.type==="touchmove"&&(l=l.changedTouches[0]);const d=l.clientX-n,f=l.clientY-t;n=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:n,y:t,dx:d,dy:f}}))}function r(l){n=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:n,y:t}})),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",r),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",r)}return e.addEventListener("mousedown",a),e.addEventListener("touchstart",a),{destroy(){e.removeEventListener("mousedown",a),e.removeEventListener("touchstart",a)}}}function Xe(e,n,t){let{minYear:a}=n,{maxYear:i}=n,{startYear:r=1990}=n,{endYear:l=new Date().getFullYear()}=n,d,f,o;function c(u){return function(h){const{left:Y,right:C}=o.getBoundingClientRect(),D=C-Y,I=Math.min(Math.max((h.detail.x-Y)/D,0),1);u==="start"?(t(0,r=Math.round(a+I*(i-a))),t(1,l=Math.max(l,r))):(t(0,r=Math.min(r,l)),t(1,l=Math.round(a+I*(i-a))))}}function g(u){const{width:h}=f.getBoundingClientRect(),{left:Y,right:C}=o.getBoundingClientRect(),D=C-Y,I=d.getBoundingClientRect().left,S=qe(I+event.detail.dx-Y,0,D-h),R=qe(S+h,h,D),j=S/D,B=R/D;t(0,r=Math.round(a+j*(i-a))),t(1,l=Math.round(a+B*(i-a)))}function m(u){Q[u?"unshift":"push"](()=>{f=u,t(5,f)})}function p(u){Q[u?"unshift":"push"](()=>{d=u,t(4,d)})}function s(u){Q[u?"unshift":"push"](()=>{o=u,t(6,o)})}return e.$$set=u=>{"minYear"in u&&t(2,a=u.minYear),"maxYear"in u&&t(3,i=u.maxYear),"startYear"in u&&t(0,r=u.startYear),"endYear"in u&&t(1,l=u.endYear)},[r,l,a,i,d,f,o,c,g,m,p,s]}class Oe extends le{constructor(n){super(),se(this,n,Xe,Ue,ne,{minYear:2,maxYear:3,startYear:0,endYear:1})}}function We(e){let n,t,a,i,r,l,d,f,o,c,g,m,p,s,u;return{c(){n=N("div"),t=N("div"),a=N("div"),i=M(),r=N("div"),l=N("span"),d=P(e[0]),f=P("$"),o=M(),c=N("div"),g=N("span"),m=P(e[1]),p=P("$"),this.h()},l(h){n=y(h,"DIV",{class:!0});var Y=A(n);t=y(Y,"DIV",{class:!0});var C=A(t);a=y(C,"DIV",{class:!0,style:!0}),A(a).forEach(w),i=F(C),r=y(C,"DIV",{class:!0,"data-which":!0,style:!0});var D=A(r);l=y(D,"SPAN",{class:!0});var I=A(l);d=T(I,e[0]),f=T(I,"$"),I.forEach(w),D.forEach(w),o=F(C),c=y(C,"DIV",{class:!0,"data-which":!0,style:!0});var S=A(c);g=y(S,"SPAN",{class:!0});var R=A(g);m=T(R,e[1]),p=T(R,"$"),R.forEach(w),S.forEach(w),C.forEach(w),Y.forEach(w),this.h()},h(){V(a,"class","body svelte-16drinl"),U(a,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),U(a,"right",100*(1-(e[1]-e[2])/(e[3]-e[2]))+"%"),V(l,"class","svelte-16drinl"),V(r,"class","handle svelte-16drinl"),V(r,"data-which","start"),U(r,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),V(g,"class","svelte-16drinl"),V(c,"class","handle svelte-16drinl"),V(c,"data-which","end"),U(c,"left",100*((e[1]-e[2])/(e[3]-e[2]))+"%"),V(t,"class","slider svelte-16drinl"),V(n,"class","double-range-container svelte-16drinl")},m(h,Y){X(h,n,Y),v(n,t),v(t,a),e[9](a),v(t,i),v(t,r),v(r,l),v(l,d),v(l,f),e[10](r),v(t,o),v(t,c),v(c,g),v(g,m),v(g,p),e[11](t),s||(u=[oe(we.call(null,a)),K(a,"dragmove",ue(de(e[8]))),oe(we.call(null,r)),K(r,"dragmove",ue(de(e[7]("start")))),oe(we.call(null,c)),K(c,"dragmove",ue(de(e[7]("end"))))],s=!0)},p(h,[Y]){Y&13&&U(a,"left",100*((h[0]-h[2])/(h[3]-h[2]))+"%"),Y&14&&U(a,"right",100*(1-(h[1]-h[2])/(h[3]-h[2]))+"%"),Y&1&&W(d,h[0]),Y&13&&U(r,"left",100*((h[0]-h[2])/(h[3]-h[2]))+"%"),Y&2&&W(m,h[1]),Y&14&&U(c,"left",100*((h[1]-h[2])/(h[3]-h[2]))+"%")},i:O,o:O,d(h){h&&w(n),e[9](null),e[10](null),e[11](null),s=!1,Ee(u)}}}function ke(e,n,t){return e<n?n:e>t?t:e}function we(e){let n,t;function a(l){l.type==="touchstart"&&(l=l.touches[0]),n=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:n,y:t}})),window.addEventListener("mousemove",i),window.addEventListener("mouseup",r),window.addEventListener("touchmove",i),window.addEventListener("touchend",r)}function i(l){l.type==="touchmove"&&(l=l.changedTouches[0]);const d=l.clientX-n,f=l.clientY-t;n=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:n,y:t,dx:d,dy:f}}))}function r(l){n=l.clientX,t=l.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:n,y:t}})),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",r),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",r)}return e.addEventListener("mousedown",a),e.addEventListener("touchstart",a),{destroy(){e.removeEventListener("mousedown",a),e.removeEventListener("touchstart",a)}}}function Qe(e,n,t){let{minValue:a}=n,{maxValue:i}=n,{startValue:r=100}=n,{endValue:l=4e5}=n,d,f,o;function c(u){return function(h){const{left:Y,right:C}=o.getBoundingClientRect(),D=C-Y,I=Math.min(Math.max((h.detail.x-Y)/D,0),1);u==="start"?(t(0,r=Math.round(a+I*(i-a))),t(1,l=Math.max(l,r))):(t(0,r=Math.min(r,l)),t(1,l=Math.round(a+I*(i-a))))}}function g(u){const{width:h}=f.getBoundingClientRect(),{left:Y,right:C}=o.getBoundingClientRect(),D=C-Y,I=d.getBoundingClientRect().left,S=ke(I+event.detail.dx-Y,0,D-h),R=ke(S+h,h,D),j=S/D,B=R/D;t(0,r=Math.round(a+j*(i-a))),t(1,l=Math.round(a+B*(i-a)))}function m(u){Q[u?"unshift":"push"](()=>{f=u,t(5,f)})}function p(u){Q[u?"unshift":"push"](()=>{d=u,t(4,d)})}function s(u){Q[u?"unshift":"push"](()=>{o=u,t(6,o)})}return e.$$set=u=>{"minValue"in u&&t(2,a=u.minValue),"maxValue"in u&&t(3,i=u.maxValue),"startValue"in u&&t(0,r=u.startValue),"endValue"in u&&t(1,l=u.endValue)},[r,l,a,i,d,f,o,c,g,m,p,s]}class Ke extends le{constructor(n){super(),se(this,n,Qe,We,ne,{minValue:2,maxValue:3,startValue:0,endValue:1})}}function Ge(e){let n,t,a="Filter the dataset",i,r,l,d,f,o,c,g,m,p,s,u,h,Y,C,D,I,S="Reset Filters",R,j,B;function E(L){e[16](L)}function b(L){e[17](L)}let k={minYear:e[10],maxYear:e[11]};e[2]!==void 0&&(k.startYear=e[2]),e[3]!==void 0&&(k.endYear=e[3]),r=new Oe({props:k}),Q.push(()=>ie(r,"startYear",E)),Q.push(()=>ie(r,"endYear",b));function _(L){e[18](L)}function q(L){e[19](L)}let z={minValue:e[8],maxValue:e[9]};e[4]!==void 0&&(z.startValue=e[4]),e[5]!==void 0&&(z.endValue=e[5]),o=new Ke({props:z}),Q.push(()=>ie(o,"startValue",_)),Q.push(()=>ie(o,"endValue",q));function G(L){e[20](L)}let he={options:e[7],placeholder:"Type to filter Agency Names..."};e[1]!==void 0&&(he.selected=e[1]),p=new Se({props:he}),Q.push(()=>ie(p,"selected",G)),p.$on("select",e[12]),p.$on("input",e[21]);function me(L){e[22](L)}let be={options:e[6],placeholder:"Type to filter Item Names..."};return e[0]!==void 0&&(be.selected=e[0]),h=new Se({props:be}),Q.push(()=>ie(h,"selected",me)),h.$on("select",e[12]),h.$on("input",e[23]),{c(){n=N("div"),t=N("h2"),t.textContent=a,i=M(),$(r.$$.fragment),f=M(),$(o.$$.fragment),m=M(),$(p.$$.fragment),u=M(),$(h.$$.fragment),C=M(),D=N("div"),I=N("button"),I.textContent=S,this.h()},l(L){n=y(L,"DIV",{class:!0});var H=A(n);t=y(H,"H2",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1q9tntr"&&(t.textContent=a),i=F(H),x(r.$$.fragment,H),f=F(H),x(o.$$.fragment,H),m=F(H),x(p.$$.fragment,H),u=F(H),x(h.$$.fragment,H),C=F(H),D=y(H,"DIV",{class:!0});var ae=A(D);I=y(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(I)!=="svelte-p5k4b6"&&(I.textContent=S),ae.forEach(w),H.forEach(w),this.h()},h(){V(t,"class","svelte-8nip6n"),V(I,"class","svelte-8nip6n"),V(D,"class","reset svelte-8nip6n"),V(n,"class","svelte-8nip6n")},m(L,H){X(L,n,H),v(n,t),v(n,i),ee(r,n,null),v(n,f),ee(o,n,null),v(n,m),ee(p,n,null),v(n,u),ee(h,n,null),v(n,C),v(n,D),v(D,I),R=!0,j||(B=K(I,"click",e[13]),j=!0)},p(L,[H]){const ae={};!l&&H&4&&(l=!0,ae.startYear=L[2],re(()=>l=!1)),!d&&H&8&&(d=!0,ae.endYear=L[3],re(()=>d=!1)),r.$set(ae);const ge={};!c&&H&16&&(c=!0,ge.startValue=L[4],re(()=>c=!1)),!g&&H&32&&(g=!0,ge.endValue=L[5],re(()=>g=!1)),o.$set(ge);const ve={};H&128&&(ve.options=L[7]),!s&&H&2&&(s=!0,ve.selected=L[1],re(()=>s=!1)),p.$set(ve);const _e={};H&64&&(_e.options=L[6]),!Y&&H&1&&(Y=!0,_e.selected=L[0],re(()=>Y=!1)),h.$set(_e)},i(L){R||(J(r.$$.fragment,L),J(o.$$.fragment,L),J(p.$$.fragment,L),J(h.$$.fragment,L),R=!0)},o(L){Z(r.$$.fragment,L),Z(o.$$.fragment,L),Z(p.$$.fragment,L),Z(h.$$.fragment,L),R=!1},d(L){L&&w(n),te(r),te(o),te(p),te(h),j=!1,B()}}}function Je(e,n,t){let{data:a=[]}=n,{selectedItemName:i=""}=n,{selectedAgencyName:r=""}=n,{startYear:l=1990}=n,{endYear:d=new Date().getFullYear()}=n,{onFilterChange:f}=n,o=10,c=44e5,g=o,m=c,p=l,s=d,u=[],h=[];const Y=_=>parseFloat(_.replace("US$","").replace(/\./g,"").replace(",","."));function C(){f(i,r,l,d,o,c)}function D(){t(0,i=""),t(1,r=""),t(2,l=1990),t(3,d=new Date().getFullYear()),t(4,o=10),t(5,c=44e5),C()}function I(_){l=_,t(2,l)}function S(_){d=_,t(3,d)}function R(_){o=_,t(4,o)}function j(_){c=_,t(5,c)}function B(_){r=_,t(1,r)}const E=()=>C();function b(_){i=_,t(0,i)}const k=()=>C();return e.$$set=_=>{"data"in _&&t(14,a=_.data),"selectedItemName"in _&&t(0,i=_.selectedItemName),"selectedAgencyName"in _&&t(1,r=_.selectedAgencyName),"startYear"in _&&t(2,l=_.startYear),"endYear"in _&&t(3,d=_.endYear),"onFilterChange"in _&&t(15,f=_.onFilterChange)},e.$$.update=()=>{if(e.$$.dirty&16447){let _=a;(l||d)&&(_=_.filter(q=>{const z=new Date(q["Ship Date"]).getFullYear();return z>=l&&z<=d})),(o||c)&&(_=_.filter(q=>{const z=Y(q["Acquisition Value"]);return z>=o&&z<=c})),i&&(_=_.filter(q=>q["Item Name"].toLowerCase().includes(i.toLowerCase()))),r&&(_=_.filter(q=>q["Agency Name"].toLowerCase().includes(r.toLowerCase()))),t(6,u=[...new Set(_.map(q=>q["Item Name"]))]),t(7,h=[...new Set(_.map(q=>q["Agency Name"]))]),C()}},[i,r,l,d,o,c,u,h,g,m,p,s,C,D,a,f,I,S,R,j,B,E,b,k]}class Ze extends le{constructor(n){super(),se(this,n,Je,Ge,ne,{data:14,selectedItemName:0,selectedAgencyName:1,startYear:2,endYear:3,onFilterChange:15})}}function $e(e){let n,t=`<h1 class="svelte-17c550">All transfers of US military weapons to local police departments from
        1994 to 2024.</h1> <p class="svelte-17c550">It includes the item name, quantity, cost, and date of shipment for
        police departments the US.</p> <p class="svelte-17c550">This data comes from the Defense Logistics Agency.</p>`;return{c(){n=N("header"),n.innerHTML=t,this.h()},l(a){n=y(a,"HEADER",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-ij26dw"&&(n.innerHTML=t),this.h()},h(){V(n,"class","svelte-17c550")},m(a,i){X(a,n,i)},p:O,i:O,o:O,d(a){a&&w(n)}}}class xe extends le{constructor(n){super(),se(this,n,null,$e,ne,{})}}function et(e){let n,t="...";return{c(){n=N("p"),n.textContent=t,this.h()},l(a){n=y(a,"P",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-nvw4vi"&&(n.textContent=t),this.h()},h(){V(n,"class","svelte-1j0qzbe")},m(a,i){X(a,n,i)},p:O,i:O,o:O,d(a){a&&w(n)}}}function tt(e){let n,t,a;return t=new je({props:{data:e[7],itemName:e[1],agencyName:e[2]}}),{c(){n=N("div"),$(t.$$.fragment),this.h()},l(i){n=y(i,"DIV",{class:!0});var r=A(n);x(t.$$.fragment,r),r.forEach(w),this.h()},h(){V(n,"class","viz svelte-1j0qzbe")},m(i,r){X(i,n,r),ee(t,n,null),a=!0},p(i,r){const l={};r&128&&(l.data=i[7]),r&2&&(l.itemName=i[1]),r&4&&(l.agencyName=i[2]),t.$set(l)},i(i){a||(J(t.$$.fragment,i),a=!0)},o(i){Z(t.$$.fragment,i),a=!1},d(i){i&&w(n),te(t)}}}function nt(e){let n,t,a,i,r,l,d,f,o,c;t=new xe({}),r=new Ze({props:{data:e[0],selectedItemName:e[1],selectedAgencyName:e[2],startYear:e[3],endYear:e[4],startValue:e[5],endValue:e[6],onFilterChange:e[8]}});const g=[tt,et],m=[];function p(s,u){return s[7].length>0?0:1}return d=p(e),f=m[d]=g[d](e),{c(){n=N("div"),$(t.$$.fragment),a=M(),i=N("div"),$(r.$$.fragment),l=M(),f.c(),o=Ne(),this.h()},l(s){n=y(s,"DIV",{class:!0});var u=A(n);x(t.$$.fragment,u),a=F(u),i=y(u,"DIV",{class:!0});var h=A(i);x(r.$$.fragment,h),h.forEach(w),u.forEach(w),l=F(s),f.l(s),o=Ne(),this.h()},h(){V(i,"class","filters svelte-1j0qzbe"),V(n,"class","header svelte-1j0qzbe")},m(s,u){X(s,n,u),ee(t,n,null),v(n,a),v(n,i),ee(r,i,null),X(s,l,u),m[d].m(s,u),X(s,o,u),c=!0},p(s,[u]){const h={};u&1&&(h.data=s[0]),u&2&&(h.selectedItemName=s[1]),u&4&&(h.selectedAgencyName=s[2]),u&8&&(h.startYear=s[3]),u&16&&(h.endYear=s[4]),u&32&&(h.startValue=s[5]),u&64&&(h.endValue=s[6]),r.$set(h);let Y=d;d=p(s),d===Y?m[d].p(s,u):(Pe(),Z(m[Y],1,1,()=>{m[Y]=null}),He(),f=m[d],f?f.p(s,u):(f=m[d]=g[d](s),f.c()),J(f,1),f.m(o.parentNode,o))},i(s){c||(J(t.$$.fragment,s),J(r.$$.fragment,s),J(f),c=!0)},o(s){Z(t.$$.fragment,s),Z(r.$$.fragment,s),Z(f),c=!1},d(s){s&&(w(n),w(l),w(o)),te(t),te(r),m[d].d(s)}}}function lt(e,n,t){let a=[],i="",r="",l=1990,d=new Date().getFullYear(),f=10,o=1e3,c=[];const g=s=>parseFloat(s.replace("US$","").replace(/\./g,"").replace(",","."));Fe(async()=>{const s=await fetch("data.json");t(0,a=await s.json()),m()});function m(){t(7,c=a.filter(s=>{const u=new Date(s["Ship Date"]).getFullYear(),h=g(s["Acquisition Value"]);return(i==""||s["Item Name"].toLowerCase().includes(i.toLowerCase()))&&(r==""||s["Agency Name"].toLowerCase().includes(r.toLowerCase()))&&u>=l&&u<=d&&h>=f&&h<=o}))}function p(s,u,h,Y,C,D){t(1,i=s),t(2,r=u),t(3,l=h),t(4,d=Y),t(5,f=C),t(6,o=D),m()}return[a,i,r,l,d,f,o,c,p]}class rt extends le{constructor(n){super(),se(this,n,lt,nt,ne,{})}}export{rt as component};
