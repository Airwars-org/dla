import{s as qe,e as V,P as Qe,c as T,b as F,Q as Ke,f as A,p as C,B as Hr,i as K,h as k,R as zr,n as ne,S as $e,o as gr,l as yt,a as G,g as W,T as Je,U as _e,w as cn,V as Br,t as Z,d as Q,j as fe,q as ce,W as qt,X as Dt,Y as Lt,r as Se,K as Ne,Z as ot}from"../chunks/scheduler.BmpbIF5Y.js";import{S as De,i as Le,f as st,b as Me,d as xe,m as ke,a as we,t as ye,e as Ce,c as jr,g as Ur}from"../chunks/index.BGvYnbyl.js";function ge(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Xr(e){return e}function Gr(e){if(e==null)return Xr;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],a=e.translate[1];return function(u,c){c||(t=n=0);var f=2,o=u.length,h=new Array(o);for(h[0]=(t+=u[0])*r+s,h[1]=(n+=u[1])*i+a;f<o;)h[f]=u[f],++f;return h}}function Wr(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Zr(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return yn(e,n)})}:yn(e,t)}function yn(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=Qr(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function Qr(e,t){var n=Gr(e.transform),r=e.arcs;function i(o,h){h.length&&h.pop();for(var l=r[o<0?~o:o],d=0,g=l.length;d<g;++d)h.push(n(l[d],d));o<0&&Wr(h,g)}function s(o){return n(o)}function a(o){for(var h=[],l=0,d=o.length;l<d;++l)i(o[l],h);return h.length<2&&h.push(h[0]),h}function u(o){for(var h=a(o);h.length<4;)h.push(h[0]);return h}function c(o){return o.map(u)}function f(o){var h=o.type,l;switch(h){case"GeometryCollection":return{type:h,geometries:o.geometries.map(f)};case"Point":l=s(o.coordinates);break;case"MultiPoint":l=o.coordinates.map(s);break;case"LineString":l=a(o.arcs);break;case"MultiLineString":l=o.arcs.map(a);break;case"Polygon":l=c(o.arcs);break;case"MultiPolygon":l=o.arcs.map(c);break;default:return null}return{type:h,coordinates:l}}return f(t)}function mt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pr(e){let t,n,r;e.length!==2?(t=mt,n=(u,c)=>mt(e(u),c),r=(u,c)=>e(u)-c):(t=e===mt||e===Kr?e:Jr,n=e,r=e);function i(u,c,f=0,o=u.length){if(f<o){if(t(c,c)!==0)return o;do{const h=f+o>>>1;n(u[h],c)<0?f=h+1:o=h}while(f<o)}return f}function s(u,c,f=0,o=u.length){if(f<o){if(t(c,c)!==0)return o;do{const h=f+o>>>1;n(u[h],c)<=0?f=h+1:o=h}while(f<o)}return f}function a(u,c,f=0,o=u.length){const h=i(u,c,f,o-1);return h>f&&r(u[h-1],c)>-r(u[h],c)?h-1:h}return{left:i,center:a,right:s}}function Jr(){return 0}function $r(e){return e===null?NaN:+e}const ei=pr(mt),ti=ei.right;pr($r).center;class Ie{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],a=t+s,u=Math.abs(t)<Math.abs(s)?t-(a-s):s-(a-t);u&&(n[r++]=u),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,s,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,s=i-(a-r),!s););n>0&&(s<0&&t[n-1]<0||s>0&&t[n-1]>0)&&(i=s*2,r=a+i,i==r-a&&(a=r))}return a}}const ni=Math.sqrt(50),ri=Math.sqrt(10),ii=Math.sqrt(2);function _t(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=ni?10:s>=ri?5:s>=ii?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(e*f),c=Math.round(t*f),u/f<e&&++u,c/f>t&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(e/f),c=Math.round(t/f),u*f<e&&++u,c*f>t&&--c),c<u&&.5<=n&&n<2?_t(e,t,n*2):[u,c,f]}function ai(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?_t(t,e,n):_t(e,t,n);if(!(s>=i))return[];const u=s-i+1,c=new Array(u);if(r)if(a<0)for(let f=0;f<u;++f)c[f]=(s-f)/-a;else for(let f=0;f<u;++f)c[f]=(s-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(i+f)/-a;else for(let f=0;f<u;++f)c[f]=(i+f)*a;return c}function jt(e,t,n){return t=+t,e=+e,n=+n,_t(e,t,n)[2]}function li(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?jt(t,e,n):jt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function*oi(e){for(const t of e)yield*t}function mr(e){return Array.from(oi(e))}var z=1e-6,si=1e-12,H=Math.PI,ae=H/2,_n=H/4,oe=H*2,se=180/H,ee=H/180,U=Math.abs,ui=Math.atan,He=Math.atan2,X=Math.cos,j=Math.sin,vt=Math.sign||function(e){return e>0?1:e<0?-1:0},Ee=Math.sqrt;function fi(e){return e>1?0:e<-1?H:Math.acos(e)}function Re(e){return e>1?ae:e<-1?-ae:Math.asin(e)}function le(){}function Et(e,t){e&&Nn.hasOwnProperty(e.type)&&Nn[e.type](e,t)}var En={Feature:function(e,t){Et(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Et(n[r].geometry,t)}},Nn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ut(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ut(n[r],t,0)},Polygon:function(e,t){bn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Et(n[r],t)}};function Ut(e,t,n){var r=-1,i=e.length-n,s;for(t.lineStart();++r<i;)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function bn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ut(e[n],t,1);t.polygonEnd()}function Te(e,t){e&&En.hasOwnProperty(e.type)?En[e.type](e,t):Et(e,t)}function Xt(e){return[He(e[1],e[0]),Re(e[2])]}function ze(e){var t=e[0],n=e[1],r=X(n);return[r*X(t),r*j(t),j(n)]}function ut(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Nt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Vt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ft(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Gt(e){var t=Ee(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Wt(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Zt(e,t){return U(e)>H&&(e-=Math.round(e/oe)*oe),[e,t]}Zt.invert=Zt;function ci(e,t,n){return(e%=oe)?t||n?Wt(Mn(e),xn(t,n)):Mn(e):t||n?xn(t,n):Zt}function Sn(e){return function(t,n){return t+=e,U(t)>H&&(t-=Math.round(t/oe)*oe),[t,n]}}function Mn(e){var t=Sn(e);return t.invert=Sn(-e),t}function xn(e,t){var n=X(e),r=j(e),i=X(t),s=j(t);function a(u,c){var f=X(c),o=X(u)*f,h=j(u)*f,l=j(c),d=l*n+o*r;return[He(h*i-d*s,o*n-l*r),Re(d*i+h*s)]}return a.invert=function(u,c){var f=X(c),o=X(u)*f,h=j(u)*f,l=j(c),d=l*i-h*s;return[He(h*i+l*s,o*n+d*r),Re(d*n-o*r)]},a}function hi(e,t,n,r,i,s){if(n){var a=X(t),u=j(t),c=r*n;i==null?(i=t+r*oe,s=t-c/2):(i=kn(a,i),s=kn(a,s),(r>0?i<s:i>s)&&(i+=r*oe));for(var f,o=i;r>0?o>s:o<s;o-=c)f=Xt([a,-u*X(o),-u*j(o)]),e.point(f[0],f[1])}}function kn(e,t){t=ze(t),t[0]-=e,Gt(t);var n=fi(-t[1]);return((-t[2]<0?-n:n)+oe-z)%oe}function vr(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:le,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function wt(e,t){return U(e[0]-t[0])<z&&U(e[1]-t[1])<z}function ct(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wr(e,t,n,r,i){var s=[],a=[],u,c;if(e.forEach(function(g){if(!((p=g.length-1)<=0)){var p,m=g[0],_=g[p],v;if(wt(m,_)){if(!m[2]&&!_[2]){for(i.lineStart(),u=0;u<p;++u)i.point((m=g[u])[0],m[1]);i.lineEnd();return}_[0]+=2*z}s.push(v=new ct(m,g,null,!0)),a.push(v.o=new ct(m,null,v,!1)),s.push(v=new ct(_,g,null,!1)),a.push(v.o=new ct(_,null,v,!0))}}),!!s.length){for(a.sort(t),Cn(s),Cn(a),u=0,c=a.length;u<c;++u)a[u].e=n=!n;for(var f=s[0],o,h;;){for(var l=f,d=!0;l.v;)if((l=l.n)===f)return;o=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(u=0,c=o.length;u<c;++u)i.point((h=o[u])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(o=l.p.z,u=o.length-1;u>=0;--u)i.point((h=o[u])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,o=l.z,d=!d}while(!l.v);i.lineEnd()}}}function Cn(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Tt(e){return U(e[0])<=H?e[0]:vt(e[0])*((U(e[0])+H)%oe-H)}function di(e,t){var n=Tt(t),r=t[1],i=j(r),s=[j(n),-X(n),0],a=0,u=0,c=new Ie;i===1?r=ae+z:i===-1&&(r=-ae-z);for(var f=0,o=e.length;f<o;++f)if(l=(h=e[f]).length)for(var h,l,d=h[l-1],g=Tt(d),p=d[1]/2+_n,m=j(p),_=X(p),v=0;v<l;++v,g=y,m=S,_=P,d=N){var N=h[v],y=Tt(N),b=N[1]/2+_n,S=j(b),P=X(b),I=y-g,M=I>=0?1:-1,x=M*I,E=x>H,Y=m*S;if(c.add(He(Y*M*j(x),_*P+Y*X(x))),a+=E?I+M*oe:I,E^g>=n^y>=n){var q=Nt(ze(d),ze(N));Gt(q);var D=Nt(s,q);Gt(D);var w=(E^I>=0?-1:1)*Re(D[2]);(r>w||r===w&&(q[0]||q[1]))&&(u+=E^I>=0?1:-1)}}return(a<-z||a<z&&c<-si)^u&1}function yr(e,t,n,r){return function(i){var s=t(i),a=vr(),u=t(a),c=!1,f,o,h,l={point:d,lineStart:p,lineEnd:m,polygonStart:function(){l.point=_,l.lineStart=v,l.lineEnd=N,o=[],f=[]},polygonEnd:function(){l.point=d,l.lineStart=p,l.lineEnd=m,o=mr(o);var y=di(f,r);o.length?(c||(i.polygonStart(),c=!0),wr(o,pi,y,n,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),o=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,b){e(y,b)&&i.point(y,b)}function g(y,b){s.point(y,b)}function p(){l.point=g,s.lineStart()}function m(){l.point=d,s.lineEnd()}function _(y,b){h.push([y,b]),u.point(y,b)}function v(){u.lineStart(),h=[]}function N(){_(h[0][0],h[0][1]),u.lineEnd();var y=u.clean(),b=a.result(),S,P=b.length,I,M,x;if(h.pop(),f.push(h),h=null,!!P){if(y&1){if(M=b[0],(I=M.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),S=0;S<I;++S)i.point((x=M[S])[0],x[1]);i.lineEnd()}return}P>1&&y&2&&b.push(b.pop().concat(b.shift())),o.push(b.filter(gi))}}return l}}function gi(e){return e.length>1}function pi(e,t){return((e=e.x)[0]<0?e[1]-ae-z:ae-e[1])-((t=t.x)[0]<0?t[1]-ae-z:ae-t[1])}const An=yr(function(){return!0},mi,wi,[-H,-ae]);function mi(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(s,a){var u=s>0?H:-H,c=U(s-t);U(c-H)<z?(e.point(t,n=(n+a)/2>0?ae:-ae),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),e.point(s,n),i=0):r!==u&&c>=H&&(U(t-r)<z&&(t-=r*z),U(s-u)<z&&(s-=u*z),n=vi(t,n,s,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),i=0),e.point(t=s,n=a),r=u},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function vi(e,t,n,r){var i,s,a=j(e-n);return U(a)>z?ui((j(t)*(s=X(r))*j(n)-j(r)*(i=X(t))*j(e))/(i*s*a)):(t+r)/2}function wi(e,t,n,r){var i;if(e==null)i=n*ae,r.point(-H,i),r.point(0,i),r.point(H,i),r.point(H,0),r.point(H,-i),r.point(0,-i),r.point(-H,-i),r.point(-H,0),r.point(-H,i);else if(U(e[0]-t[0])>z){var s=e[0]<t[0]?H:-H;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}function yi(e){var t=X(e),n=2*ee,r=t>0,i=U(t)>z;function s(o,h,l,d){hi(d,e,n,l,o,h)}function a(o,h){return X(o)*X(h)>t}function u(o){var h,l,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(m,_){var v=[m,_],N,y=a(m,_),b=r?y?0:f(m,_):y?f(m+(m<0?H:-H),_):0;if(!h&&(g=d=y)&&o.lineStart(),y!==d&&(N=c(h,v),(!N||wt(h,N)||wt(v,N))&&(v[2]=1)),y!==d)p=0,y?(o.lineStart(),N=c(v,h),o.point(N[0],N[1])):(N=c(h,v),o.point(N[0],N[1],2),o.lineEnd()),h=N;else if(i&&h&&r^y){var S;!(b&l)&&(S=c(v,h,!0))&&(p=0,r?(o.lineStart(),o.point(S[0][0],S[0][1]),o.point(S[1][0],S[1][1]),o.lineEnd()):(o.point(S[1][0],S[1][1]),o.lineEnd(),o.lineStart(),o.point(S[0][0],S[0][1],3)))}y&&(!h||!wt(h,v))&&o.point(v[0],v[1]),h=v,d=y,l=b},lineEnd:function(){d&&o.lineEnd(),h=null},clean:function(){return p|(g&&d)<<1}}}function c(o,h,l){var d=ze(o),g=ze(h),p=[1,0,0],m=Nt(d,g),_=ut(m,m),v=m[0],N=_-v*v;if(!N)return!l&&o;var y=t*_/N,b=-t*v/N,S=Nt(p,m),P=ft(p,y),I=ft(m,b);Vt(P,I);var M=S,x=ut(P,M),E=ut(M,M),Y=x*x-E*(ut(P,P)-1);if(!(Y<0)){var q=Ee(Y),D=ft(M,(-x-q)/E);if(Vt(D,P),D=Xt(D),!l)return D;var w=o[0],L=h[0],R=o[1],O=h[1],B;L<w&&(B=w,w=L,L=B);var J=L-w,$=U(J-H)<z,re=$||J<z;if(!$&&O<R&&(B=R,R=O,O=B),re?$?R+O>0^D[1]<(U(D[0]-w)<z?R:O):R<=D[1]&&D[1]<=O:J>H^(w<=D[0]&&D[0]<=L)){var me=ft(M,(-x+q)/E);return Vt(me,P),[D,Xt(me)]}}}function f(o,h){var l=r?e:H-e,d=0;return o<-l?d|=1:o>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return yr(a,u,s,r?[0,-e]:[-H,e-H])}function _i(e,t,n,r,i,s){var a=e[0],u=e[1],c=t[0],f=t[1],o=0,h=1,l=c-a,d=f-u,g;if(g=n-a,!(!l&&g>0)){if(g/=l,l<0){if(g<o)return;g<h&&(h=g)}else if(l>0){if(g>h)return;g>o&&(o=g)}if(g=i-a,!(!l&&g<0)){if(g/=l,l<0){if(g>h)return;g>o&&(o=g)}else if(l>0){if(g<o)return;g<h&&(h=g)}if(g=r-u,!(!d&&g>0)){if(g/=d,d<0){if(g<o)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>o&&(o=g)}if(g=s-u,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>o&&(o=g)}else if(d>0){if(g<o)return;g<h&&(h=g)}return o>0&&(e[0]=a+o*l,e[1]=u+o*d),h<1&&(t[0]=a+h*l,t[1]=u+h*d),!0}}}}}var Ue=1e9,ht=-Ue;function Ei(e,t,n,r){function i(f,o){return e<=f&&f<=n&&t<=o&&o<=r}function s(f,o,h,l){var d=0,g=0;if(f==null||(d=a(f,h))!==(g=a(o,h))||c(f,o)<0^h>0)do l.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+h+4)%4)!==g);else l.point(o[0],o[1])}function a(f,o){return U(f[0]-e)<z?o>0?0:3:U(f[0]-n)<z?o>0?2:1:U(f[1]-t)<z?o>0?1:0:o>0?3:2}function u(f,o){return c(f.x,o.x)}function c(f,o){var h=a(f,1),l=a(o,1);return h!==l?h-l:h===0?o[1]-f[1]:h===1?f[0]-o[0]:h===2?f[1]-o[1]:o[0]-f[0]}return function(f){var o=f,h=vr(),l,d,g,p,m,_,v,N,y,b,S,P={point:I,lineStart:Y,lineEnd:q,polygonStart:x,polygonEnd:E};function I(w,L){i(w,L)&&o.point(w,L)}function M(){for(var w=0,L=0,R=d.length;L<R;++L)for(var O=d[L],B=1,J=O.length,$=O[0],re,me,lt=$[0],Ve=$[1];B<J;++B)re=lt,me=Ve,$=O[B],lt=$[0],Ve=$[1],me<=r?Ve>r&&(lt-re)*(r-me)>(Ve-me)*(e-re)&&++w:Ve<=r&&(lt-re)*(r-me)<(Ve-me)*(e-re)&&--w;return w}function x(){o=h,l=[],d=[],S=!0}function E(){var w=M(),L=S&&w,R=(l=mr(l)).length;(L||R)&&(f.polygonStart(),L&&(f.lineStart(),s(null,null,1,f),f.lineEnd()),R&&wr(l,u,w,s,f),f.polygonEnd()),o=f,l=d=g=null}function Y(){P.point=D,d&&d.push(g=[]),b=!0,y=!1,v=N=NaN}function q(){l&&(D(p,m),_&&y&&h.rejoin(),l.push(h.result())),P.point=I,y&&o.lineEnd()}function D(w,L){var R=i(w,L);if(d&&g.push([w,L]),b)p=w,m=L,_=R,b=!1,R&&(o.lineStart(),o.point(w,L));else if(R&&y)o.point(w,L);else{var O=[v=Math.max(ht,Math.min(Ue,v)),N=Math.max(ht,Math.min(Ue,N))],B=[w=Math.max(ht,Math.min(Ue,w)),L=Math.max(ht,Math.min(Ue,L))];_i(O,B,e,t,n,r)?(y||(o.lineStart(),o.point(O[0],O[1])),o.point(B[0],B[1]),R||o.lineEnd(),S=!1):R&&(o.lineStart(),o.point(w,L),S=!1)}v=w,N=L,y=R}return P}}const Qt=e=>e;var Ft=new Ie,Kt=new Ie,_r,Er,Jt,$t,ve={point:le,lineStart:le,lineEnd:le,polygonStart:function(){ve.lineStart=Ni,ve.lineEnd=Si},polygonEnd:function(){ve.lineStart=ve.lineEnd=ve.point=le,Ft.add(U(Kt)),Kt=new Ie},result:function(){var e=Ft/2;return Ft=new Ie,e}};function Ni(){ve.point=bi}function bi(e,t){ve.point=Nr,_r=Jt=e,Er=$t=t}function Nr(e,t){Kt.add($t*e-Jt*t),Jt=e,$t=t}function Si(){Nr(_r,Er)}var Be=1/0,bt=Be,et=-Be,St=et,Mt={point:Mi,lineStart:le,lineEnd:le,polygonStart:le,polygonEnd:le,result:function(){var e=[[Be,bt],[et,St]];return et=St=-(bt=Be=1/0),e}};function Mi(e,t){e<Be&&(Be=e),e>et&&(et=e),t<bt&&(bt=t),t>St&&(St=t)}var en=0,tn=0,Xe=0,xt=0,kt=0,Fe=0,nn=0,rn=0,Ge=0,br,Sr,he,de,ie={point:Ye,lineStart:Pn,lineEnd:In,polygonStart:function(){ie.lineStart=Ci,ie.lineEnd=Ai},polygonEnd:function(){ie.point=Ye,ie.lineStart=Pn,ie.lineEnd=In},result:function(){var e=Ge?[nn/Ge,rn/Ge]:Fe?[xt/Fe,kt/Fe]:Xe?[en/Xe,tn/Xe]:[NaN,NaN];return en=tn=Xe=xt=kt=Fe=nn=rn=Ge=0,e}};function Ye(e,t){en+=e,tn+=t,++Xe}function Pn(){ie.point=xi}function xi(e,t){ie.point=ki,Ye(he=e,de=t)}function ki(e,t){var n=e-he,r=t-de,i=Ee(n*n+r*r);xt+=i*(he+e)/2,kt+=i*(de+t)/2,Fe+=i,Ye(he=e,de=t)}function In(){ie.point=Ye}function Ci(){ie.point=Pi}function Ai(){Mr(br,Sr)}function Pi(e,t){ie.point=Mr,Ye(br=he=e,Sr=de=t)}function Mr(e,t){var n=e-he,r=t-de,i=Ee(n*n+r*r);xt+=i*(he+e)/2,kt+=i*(de+t)/2,Fe+=i,i=de*e-he*t,nn+=i*(he+e),rn+=i*(de+t),Ge+=i*3,Ye(he=e,de=t)}function xr(e){this._context=e}xr.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,oe);break}}},result:le};var an=new Ie,Ot,kr,Cr,We,Ze,tt={point:le,lineStart:function(){tt.point=Ii},lineEnd:function(){Ot&&Ar(kr,Cr),tt.point=le},polygonStart:function(){Ot=!0},polygonEnd:function(){Ot=null},result:function(){var e=+an;return an=new Ie,e}};function Ii(e,t){tt.point=Ar,kr=We=e,Cr=Ze=t}function Ar(e,t){We-=e,Ze-=t,an.add(Ee(We*We+Ze*Ze)),We=e,Ze=t}let Rn,Ct,Yn,qn;class Dn{constructor(t){this._append=t==null?Pr:Ri(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Yn||this._append!==Ct){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Yn=r,Ct=this._append,qn=this._,this._=i}this._+=qn;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Pr(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ri(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Pr;if(t!==Rn){const n=10**t;Rn=t,Ct=function(i){let s=1;this._+=i[0];for(const a=i.length;s<a;++s)this._+=Math.round(arguments[s]*n)/n+i[s]}}return Ct}function Yi(e,t){let n=3,r=4.5,i,s;function a(u){return u&&(typeof r=="function"&&s.pointRadius(+r.apply(this,arguments)),Te(u,i(s))),s.result()}return a.area=function(u){return Te(u,i(ve)),ve.result()},a.measure=function(u){return Te(u,i(tt)),tt.result()},a.bounds=function(u){return Te(u,i(Mt)),Mt.result()},a.centroid=function(u){return Te(u,i(ie)),ie.result()},a.projection=function(u){return arguments.length?(i=u==null?(e=null,Qt):(e=u).stream,a):e},a.context=function(u){return arguments.length?(s=u==null?(t=null,new Dn(n)):new xr(t=u),typeof r!="function"&&s.pointRadius(r),a):t},a.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(s.pointRadius(+u),+u),a):r},a.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);n=c}return t===null&&(s=new Dn(n)),a},a.projection(e).digits(n).context(t)}function hn(e){return function(t){var n=new ln;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ln(){}ln.prototype={constructor:ln,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dn(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Te(n,e.stream(Mt)),t(Mt.result()),r!=null&&e.clipExtent(r),e}function gn(e,t,n){return dn(e,function(r){var i=t[1][0]-t[0][0],s=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),u=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(s-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([u,c])},n)}function Ir(e,t,n){return gn(e,[[0,0],t],n)}function Rr(e,t,n){return dn(e,function(r){var i=+t,s=i/(r[1][0]-r[0][0]),a=(i-s*(r[1][0]+r[0][0]))/2,u=-s*r[0][1];e.scale(150*s).translate([a,u])},n)}function Yr(e,t,n){return dn(e,function(r){var i=+t,s=i/(r[1][1]-r[0][1]),a=-s*r[0][0],u=(i-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,u])},n)}var Ln=16,qi=X(30*ee);function Vn(e,t){return+t?Li(e,t):Di(e)}function Di(e){return hn({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Li(e,t){function n(r,i,s,a,u,c,f,o,h,l,d,g,p,m){var _=f-r,v=o-i,N=_*_+v*v;if(N>4*t&&p--){var y=a+l,b=u+d,S=c+g,P=Ee(y*y+b*b+S*S),I=Re(S/=P),M=U(U(S)-1)<z||U(s-h)<z?(s+h)/2:He(b,y),x=e(M,I),E=x[0],Y=x[1],q=E-r,D=Y-i,w=v*q-_*D;(w*w/N>t||U((_*q+v*D)/N-.5)>.3||a*l+u*d+c*g<qi)&&(n(r,i,s,a,u,c,E,Y,M,y/=P,b/=P,S,p,m),m.point(E,Y),n(E,Y,M,y,b,S,f,o,h,l,d,g,p,m))}}return function(r){var i,s,a,u,c,f,o,h,l,d,g,p,m={point:_,lineStart:v,lineEnd:y,polygonStart:function(){r.polygonStart(),m.lineStart=b},polygonEnd:function(){r.polygonEnd(),m.lineStart=v}};function _(I,M){I=e(I,M),r.point(I[0],I[1])}function v(){h=NaN,m.point=N,r.lineStart()}function N(I,M){var x=ze([I,M]),E=e(I,M);n(h,l,o,d,g,p,h=E[0],l=E[1],o=I,d=x[0],g=x[1],p=x[2],Ln,r),r.point(h,l)}function y(){m.point=_,r.lineEnd()}function b(){v(),m.point=S,m.lineEnd=P}function S(I,M){N(i=I,M),s=h,a=l,u=d,c=g,f=p,m.point=N}function P(){n(h,l,o,d,g,p,s,a,i,u,c,f,Ln,r),m.lineEnd=y,y()}return m}}var Vi=hn({point:function(e,t){this.stream.point(e*ee,t*ee)}});function Ti(e){return hn({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Fi(e,t,n,r,i){function s(a,u){return a*=r,u*=i,[t+e*a,n-e*u]}return s.invert=function(a,u){return[(a-t)/e*r,(n-u)/e*i]},s}function Tn(e,t,n,r,i,s){if(!s)return Fi(e,t,n,r,i);var a=X(s),u=j(s),c=a*e,f=u*e,o=a/e,h=u/e,l=(u*n-a*t)/e,d=(u*t+a*n)/e;function g(p,m){return p*=r,m*=i,[c*p-f*m+t,n-f*p-c*m]}return g.invert=function(p,m){return[r*(o*p-h*m+l),i*(d-h*p-o*m)]},g}function Oi(e){var t,n=150,r=480,i=250,s=0,a=0,u=0,c=0,f=0,o,h=0,l=1,d=1,g=null,p=An,m=null,_,v,N,y=Qt,b=.5,S,P,I,M,x;function E(w){return I(w[0]*ee,w[1]*ee)}function Y(w){return w=I.invert(w[0],w[1]),w&&[w[0]*se,w[1]*se]}E.stream=function(w){return M&&x===w?M:M=Vi(Ti(o)(p(S(y(x=w)))))},E.preclip=function(w){return arguments.length?(p=w,g=void 0,D()):p},E.postclip=function(w){return arguments.length?(y=w,m=_=v=N=null,D()):y},E.clipAngle=function(w){return arguments.length?(p=+w?yi(g=w*ee):(g=null,An),D()):g*se},E.clipExtent=function(w){return arguments.length?(y=w==null?(m=_=v=N=null,Qt):Ei(m=+w[0][0],_=+w[0][1],v=+w[1][0],N=+w[1][1]),D()):m==null?null:[[m,_],[v,N]]},E.scale=function(w){return arguments.length?(n=+w,q()):n},E.translate=function(w){return arguments.length?(r=+w[0],i=+w[1],q()):[r,i]},E.center=function(w){return arguments.length?(s=w[0]%360*ee,a=w[1]%360*ee,q()):[s*se,a*se]},E.rotate=function(w){return arguments.length?(u=w[0]%360*ee,c=w[1]%360*ee,f=w.length>2?w[2]%360*ee:0,q()):[u*se,c*se,f*se]},E.angle=function(w){return arguments.length?(h=w%360*ee,q()):h*se},E.reflectX=function(w){return arguments.length?(l=w?-1:1,q()):l<0},E.reflectY=function(w){return arguments.length?(d=w?-1:1,q()):d<0},E.precision=function(w){return arguments.length?(S=Vn(P,b=w*w),D()):Ee(b)},E.fitExtent=function(w,L){return gn(E,w,L)},E.fitSize=function(w,L){return Ir(E,w,L)},E.fitWidth=function(w,L){return Rr(E,w,L)},E.fitHeight=function(w,L){return Yr(E,w,L)};function q(){var w=Tn(n,0,0,l,d,h).apply(null,t(s,a)),L=Tn(n,r-w[0],i-w[1],l,d,h);return o=ci(u,c,f),P=Wt(t,L),I=Wt(o,P),S=Vn(P,b),D()}function D(){return M=x=null,E}return function(){return t=e.apply(this,arguments),E.invert=t.invert&&Y,q()}}function Hi(e){var t=0,n=H/3,r=Oi(e),i=r(t,n);return i.parallels=function(s){return arguments.length?r(t=s[0]*ee,n=s[1]*ee):[t*se,n*se]},i}function zi(e){var t=X(e);function n(r,i){return[r*t,j(i)/t]}return n.invert=function(r,i){return[r/t,Re(i*t)]},n}function Bi(e,t){var n=j(e),r=(n+j(t))/2;if(U(r)<z)return zi(e);var i=1+n*(2*r-n),s=Ee(i)/r;function a(u,c){var f=Ee(i-2*r*j(c))/r;return[f*j(u*=r),s-f*X(u)]}return a.invert=function(u,c){var f=s-c,o=He(u,U(f))*vt(f);return f*r<0&&(o-=H*vt(u)*vt(f)),[o/r,Re((i-(u*u+f*f)*r*r)/(2*r))]},a}function on(){return Hi(Bi).scale(155.424).center([0,33.6442])}function ji(){return on().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ui(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Xi(){var e,t,n=ji(),r,i=on().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,a=on().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,c,f={point:function(l,d){c=[l,d]}};function o(l){var d=l[0],g=l[1];return c=null,r.point(d,g),c||(s.point(d,g),c)||(u.point(d,g),c)}o.invert=function(l){var d=n.scale(),g=n.translate(),p=(l[0]-g[0])/d,m=(l[1]-g[1])/d;return(m>=.12&&m<.234&&p>=-.425&&p<-.214?i:m>=.166&&m<.234&&p>=-.214&&p<-.115?a:n).invert(l)},o.stream=function(l){return e&&t===l?e:e=Ui([n.stream(t=l),i.stream(l),a.stream(l)])},o.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),h()):n.precision()},o.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),o.translate(n.translate())):n.scale()},o.translate=function(l){if(!arguments.length)return n.translate();var d=n.scale(),g=+l[0],p=+l[1];return r=n.translate(l).clipExtent([[g-.455*d,p-.238*d],[g+.455*d,p+.238*d]]).stream(f),s=i.translate([g-.307*d,p+.201*d]).clipExtent([[g-.425*d+z,p+.12*d+z],[g-.214*d-z,p+.234*d-z]]).stream(f),u=a.translate([g-.205*d,p+.212*d]).clipExtent([[g-.214*d+z,p+.166*d+z],[g-.115*d-z,p+.234*d-z]]).stream(f),h()},o.fitExtent=function(l,d){return gn(o,l,d)},o.fitSize=function(l,d){return Ir(o,l,d)},o.fitWidth=function(l,d){return Rr(o,l,d)},o.fitHeight=function(l,d){return Yr(o,l,d)};function h(){return e=t=null,o}return o.scale(1070)}function Gi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function at(){}var nt=.7,At=1/nt,Oe="\\s*([+-]?\\d+)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wi=/^#([0-9a-f]{3,8})$/,Zi=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),Qi=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),Ki=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${rt}\\)$`),Ji=new RegExp(`^rgba\\(${pe},${pe},${pe},${rt}\\)$`),$i=new RegExp(`^hsl\\(${rt},${pe},${pe}\\)$`),ea=new RegExp(`^hsla\\(${rt},${pe},${pe},${rt}\\)$`),Fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pn(at,it,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:On,formatHex:On,formatHex8:ta,formatHsl:na,formatRgb:Hn,toString:Hn});function On(){return this.rgb().formatHex()}function ta(){return this.rgb().formatHex8()}function na(){return Dr(this).formatHsl()}function Hn(){return this.rgb().formatRgb()}function it(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zn(t):n===3?new te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zi.exec(e))?new te(t[1],t[2],t[3],1):(t=Qi.exec(e))?new te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ki.exec(e))?dt(t[1],t[2],t[3],t[4]):(t=Ji.exec(e))?dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$i.exec(e))?Un(t[1],t[2]/100,t[3]/100,1):(t=ea.exec(e))?Un(t[1],t[2]/100,t[3]/100,t[4]):Fn.hasOwnProperty(e)?zn(Fn[e]):e==="transparent"?new te(NaN,NaN,NaN,0):null}function zn(e){return new te(e>>16&255,e>>8&255,e&255,1)}function dt(e,t,n,r){return r<=0&&(e=t=n=NaN),new te(e,t,n,r)}function ra(e){return e instanceof at||(e=it(e)),e?(e=e.rgb(),new te(e.r,e.g,e.b,e.opacity)):new te}function sn(e,t,n,r){return arguments.length===1?ra(e):new te(e,t,n,r??1)}function te(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pn(te,sn,qr(at,{brighter(e){return e=e==null?At:Math.pow(At,e),new te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nt:Math.pow(nt,e),new te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new te(Pe(this.r),Pe(this.g),Pe(this.b),Pt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bn,formatHex:Bn,formatHex8:ia,formatRgb:jn,toString:jn}));function Bn(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}`}function ia(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}${Ae((isNaN(this.opacity)?1:this.opacity)*255)}`}function jn(){const e=Pt(this.opacity);return`${e===1?"rgb(":"rgba("}${Pe(this.r)}, ${Pe(this.g)}, ${Pe(this.b)}${e===1?")":`, ${e})`}`}function Pt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ae(e){return e=Pe(e),(e<16?"0":"")+e.toString(16)}function Un(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ue(e,t,n,r)}function Dr(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);if(e instanceof at||(e=it(e)),!e)return new ue;if(e instanceof ue)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,u=s-i,c=(s+i)/2;return u?(t===s?a=(n-r)/u+(n<r)*6:n===s?a=(r-t)/u+2:a=(t-n)/u+4,u/=c<.5?s+i:2-s-i,a*=60):u=c>0&&c<1?0:a,new ue(a,u,c,e.opacity)}function aa(e,t,n,r){return arguments.length===1?Dr(e):new ue(e,t,n,r??1)}function ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pn(ue,aa,qr(at,{brighter(e){return e=e==null?At:Math.pow(At,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nt:Math.pow(nt,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new te(Ht(e>=240?e-240:e+120,i,r),Ht(e,i,r),Ht(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ue(Xn(this.h),gt(this.s),gt(this.l),Pt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pt(this.opacity);return`${e===1?"hsl(":"hsla("}${Xn(this.h)}, ${gt(this.s)*100}%, ${gt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xn(e){return e=(e||0)%360,e<0?e+360:e}function gt(e){return Math.max(0,Math.min(1,e||0))}function Ht(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mn=e=>()=>e;function la(e,t){return function(n){return e+n*t}}function oa(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function sa(e){return(e=+e)==1?Lr:function(t,n){return n-t?oa(t,n,e):mn(isNaN(t)?n:t)}}function Lr(e,t){var n=t-e;return n?la(e,n):mn(isNaN(e)?t:e)}const Gn=function e(t){var n=sa(t);function r(i,s){var a=n((i=sn(i)).r,(s=sn(s)).r),u=n(i.g,s.g),c=n(i.b,s.b),f=Lr(i.opacity,s.opacity);return function(o){return i.r=a(o),i.g=u(o),i.b=c(o),i.opacity=f(o),i+""}}return r.gamma=e,r}(1);function ua(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function fa(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ca(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=vn(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(u){for(a=0;a<r;++a)s[a]=i[a](u);return s}}function ha(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function It(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function da(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=vn(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zt=new RegExp(un.source,"g");function ga(e){return function(){return e}}function pa(e){return function(t){return e(t)+""}}function ma(e,t){var n=un.lastIndex=zt.lastIndex=0,r,i,s,a=-1,u=[],c=[];for(e=e+"",t=t+"";(r=un.exec(e))&&(i=zt.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[a]?u[a]+=s:u[++a]=s),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:It(r,i)})),n=zt.lastIndex;return n<t.length&&(s=t.slice(n),u[a]?u[a]+=s:u[++a]=s),u.length<2?c[0]?pa(c[0].x):ga(t):(t=c.length,function(f){for(var o=0,h;o<t;++o)u[(h=c[o]).i]=h.x(f);return u.join("")})}function vn(e,t){var n=typeof t,r;return t==null||n==="boolean"?mn(t):(n==="number"?It:n==="string"?(r=it(t))?(t=r,Gn):ma:t instanceof it?Gn:t instanceof Date?ha:fa(t)?ua:Array.isArray(t)?ca:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?da:It)(e,t)}function va(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wa(e){return function(){return e}}function ya(e){return+e}var Wn=[0,1];function be(e){return e}function fn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:wa(isNaN(t)?NaN:.5)}function _a(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ea(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=fn(i,r),s=n(a,s)):(r=fn(r,i),s=n(s,a)),function(u){return s(r(u))}}function Na(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=fn(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(u){var c=ti(e,u,1,r)-1;return s[c](i[c](u))}}function ba(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sa(){var e=Wn,t=Wn,n=vn,r,i,s,a=be,u,c,f;function o(){var l=Math.min(e.length,t.length);return a!==be&&(a=_a(e[0],e[l-1])),u=l>2?Na:Ea,c=f=null,h}function h(l){return l==null||isNaN(l=+l)?s:(c||(c=u(e.map(r),t,n)))(r(a(l)))}return h.invert=function(l){return a(i((f||(f=u(t,e.map(r),It)))(l)))},h.domain=function(l){return arguments.length?(e=Array.from(l,ya),o()):e.slice()},h.range=function(l){return arguments.length?(t=Array.from(l),o()):t.slice()},h.rangeRound=function(l){return t=Array.from(l),n=va,o()},h.clamp=function(l){return arguments.length?(a=l?!0:be,o()):a!==be},h.interpolate=function(l){return arguments.length?(n=l,o()):n},h.unknown=function(l){return arguments.length?(s=l,h):s},function(l,d){return r=l,i=d,o()}}function Ma(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function je(e){return e=Rt(Math.abs(e)),e?e[1]:NaN}function xa(e,t){return function(n,r){for(var i=n.length,s=[],a=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),s.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[a=(a+1)%e.length];return s.reverse().join(t)}}function ka(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ca=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yt(e){if(!(t=Ca.exec(e)))throw new Error("invalid format: "+e);var t;return new wn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yt.prototype=wn.prototype;function wn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aa(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Vr;function Pa(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Vr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Rt(e,Math.max(0,t+s-1))[0]}function Zn(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ma,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zn(e*100,t),r:Zn,s:Pa,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kn(e){return e}var Jn=Array.prototype.map,$n=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ia(e){var t=e.grouping===void 0||e.thousands===void 0?Kn:xa(Jn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Kn:ka(Jn.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Yt(h);var l=h.fill,d=h.align,g=h.sign,p=h.symbol,m=h.zero,_=h.width,v=h.comma,N=h.precision,y=h.trim,b=h.type;b==="n"?(v=!0,b="g"):Qn[b]||(N===void 0&&(N=12),y=!0,b="g"),(m||l==="0"&&d==="=")&&(m=!0,l="0",d="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",P=p==="$"?r:/[%p]/.test(b)?a:"",I=Qn[b],M=/[defgprs%]/.test(b);N=N===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function x(E){var Y=S,q=P,D,w,L;if(b==="c")q=I(E)+q,E="";else{E=+E;var R=E<0||1/E<0;if(E=isNaN(E)?c:I(Math.abs(E),N),y&&(E=Aa(E)),R&&+E==0&&g!=="+"&&(R=!1),Y=(R?g==="("?g:u:g==="-"||g==="("?"":g)+Y,q=(b==="s"?$n[8+Vr/3]:"")+q+(R&&g==="("?")":""),M){for(D=-1,w=E.length;++D<w;)if(L=E.charCodeAt(D),48>L||L>57){q=(L===46?i+E.slice(D+1):E.slice(D))+q,E=E.slice(0,D);break}}}v&&!m&&(E=t(E,1/0));var O=Y.length+E.length+q.length,B=O<_?new Array(_-O+1).join(l):"";switch(v&&m&&(E=t(B+E,B.length?_-q.length:1/0),B=""),d){case"<":E=Y+E+q+B;break;case"=":E=Y+B+E+q;break;case"^":E=B.slice(0,O=B.length>>1)+Y+E+q+B.slice(O);break;default:E=B+Y+E+q;break}return s(E)}return x.toString=function(){return h+""},x}function o(h,l){var d=f((h=Yt(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(je(l)/3)))*3,p=Math.pow(10,-g),m=$n[8+g/3];return function(_){return d(p*_)+m}}return{format:f,formatPrefix:o}}var pt,Tr,Fr;Ra({thousands:",",grouping:[3],currency:["$",""]});function Ra(e){return pt=Ia(e),Tr=pt.format,Fr=pt.formatPrefix,pt}function Ya(e){return Math.max(0,-je(Math.abs(e)))}function qa(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(je(t)/3)))*3-je(Math.abs(e)))}function Da(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,je(t)-je(e))+1}function La(e,t,n,r){var i=li(e,t,n),s;switch(r=Yt(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=qa(i,a))&&(r.precision=s),Fr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Da(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Ya(i))&&(r.precision=s-(r.type==="%")*2);break}}return Tr(r)}function Va(e){var t=e.domain;return e.ticks=function(n){var r=t();return ai(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return La(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],u=r[s],c,f,o=10;for(u<a&&(f=a,a=u,u=f,f=i,i=s,s=f);o-- >0;){if(f=jt(a,u,n),f===c)return r[i]=a,r[s]=u,t(r);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return e},e}function er(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ta(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fa(e){return e<0?-e*e:e*e}function Oa(e){var t=e(be,be),n=1;function r(){return n===1?e(be,be):n===.5?e(Ta,Fa):e(er(n),er(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Va(t)}function Or(){var e=Oa(Sa());return e.copy=function(){return ba(e,Or()).exponent(e.exponent())},Gi.apply(e,arguments),e}function Ha(){return Or.apply(null,arguments).exponent(.5)}function tr(e,t,n){const r=e.slice();return r[14]=t[n].cx,r[15]=t[n].cy,r[16]=t[n].count,r}function nr(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function rr(e){let t,n;return{c(){t=Qe("path"),this.h()},l(r){t=Ke(r,"path",{d:!0,class:!0}),F(t).forEach(A),this.h()},h(){C(t,"d",n=e[4](e[19])),C(t,"class","country svelte-dpwry7")},m(r,i){K(r,t,i)},p(r,i){i&1&&n!==(n=r[4](r[19]))&&C(t,"d",n)},d(r){r&&A(t)}}}function ir(e){let t,n,r,i;return{c(){t=Qe("circle"),this.h()},l(s){t=Ke(s,"circle",{cx:!0,cy:!0,r:!0,class:!0}),F(t).forEach(A),this.h()},h(){C(t,"cx",n=e[14]),C(t,"cy",r=e[15]),C(t,"r",i=e[5](e[16])),C(t,"class","point svelte-dpwry7")},m(s,a){K(s,t,a)},p(s,a){a&8&&n!==(n=s[14])&&C(t,"cx",n),a&8&&r!==(r=s[15])&&C(t,"cy",r),a&8&&i!==(i=s[5](s[16]))&&C(t,"r",i)},d(s){s&&A(t)}}}function ar(e){let t,n=e[14]&&e[15]&&ir(e);return{c(){n&&n.c(),t=yt()},l(r){n&&n.l(r),t=yt()},m(r,i){n&&n.m(r,i),K(r,t,i)},p(r,i){r[14]&&r[15]?n?n.p(r,i):(n=ir(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&A(t),n&&n.d(r)}}}function za(e){let t,n,r,i,s,a=ge(e[0]),u=[];for(let o=0;o<a.length;o+=1)u[o]=rr(nr(e,a,o));let c=ge(e[3]),f=[];for(let o=0;o<c.length;o+=1)f[o]=ar(tr(e,c,o));return{c(){t=V("article"),n=Qe("svg"),r=Qe("g");for(let o=0;o<u.length;o+=1)u[o].c();i=Qe("g");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){t=T(o,"ARTICLE",{class:!0});var h=F(t);n=Ke(h,"svg",{viewBox:!0});var l=F(n);r=Ke(l,"g",{fill:!0,stroke:!0});var d=F(r);for(let p=0;p<u.length;p+=1)u[p].l(d);d.forEach(A),i=Ke(l,"g",{class:!0});var g=F(i);for(let p=0;p<f.length;p+=1)f[p].l(g);g.forEach(A),l.forEach(A),h.forEach(A),this.h()},h(){C(r,"fill","white"),C(r,"stroke","black"),C(i,"class","points"),C(n,"viewBox","0 0 975 610"),C(t,"class","container svelte-dpwry7"),Hr(()=>e[9].call(t))},m(o,h){K(o,t,h),k(t,n),k(n,r);for(let l=0;l<u.length;l+=1)u[l]&&u[l].m(r,null);k(n,i);for(let l=0;l<f.length;l+=1)f[l]&&f[l].m(i,null);s=zr(t,e[9].bind(t))},p(o,[h]){if(h&17){a=ge(o[0]);let l;for(l=0;l<a.length;l+=1){const d=nr(o,a,l);u[l]?u[l].p(d,h):(u[l]=rr(d),u[l].c(),u[l].m(r,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=a.length}if(h&40){c=ge(o[3]);let l;for(l=0;l<c.length;l+=1){const d=tr(o,c,l);f[l]?f[l].p(d,h):(f[l]=ar(d),f[l].c(),f[l].m(i,null))}for(;l<f.length;l+=1)f[l].d(1);f.length=c.length}},i:ne,o:ne,d(o){o&&A(t),$e(u,o),$e(f,o),s()}}}function Ba(e,t,n){let r,{data:i=[]}=t,{itemName:s}=t,{agencyName:a}=t,u=[],c,f;gr(async()=>{const p=await fetch("us.json").then(m=>m.json());n(0,u=Zr(p,p.objects.states).features)});let o=Xi().scale(1300).translate([487.5,305]),h=Yi().projection(null);function l(p){const m=new Map;return p.forEach(_=>{const v=o([_.Longitude,_.Latitude]);if(!v)return;const[N,y]=v,b=`${N}-${y}`;m.has(b)||m.set(b,{..._,cx:N,cy:y,count:0}),m.get(b).count+=1}),Array.from(m.values())}function d(p){return Ha().domain([1,Math.max(...r.map(N=>N.count))]).range([3,30])(p)}function g(){c=this.clientWidth,f=this.clientHeight,n(1,c),n(2,f)}return e.$$set=p=>{"data"in p&&n(6,i=p.data),"itemName"in p&&n(7,s=p.itemName),"agencyName"in p&&n(8,a=p.agencyName)},e.$$.update=()=>{e.$$.dirty&64&&n(3,r=l(i))},[u,c,f,r,h,d,i,s,a,g]}class ja extends De{constructor(t){super(),Le(this,t,Ba,za,qe,{data:6,itemName:7,agencyName:8})}}function lr(e,t,n){const r=e.slice();return r[11]=t[n],r}function or(e){let t,n=e[11]+"",r,i,s,a;function u(){return e[8](e[11])}return{c(){t=V("div"),r=Z(n),i=G(),this.h()},l(c){t=T(c,"DIV",{class:!0});var f=F(t);r=Q(f,n),i=W(f),f.forEach(A),this.h()},h(){C(t,"class","svelte-mie8sr")},m(c,f){K(c,t,f),k(t,r),k(t,i),s||(a=_e(t,"click",u),s=!0)},p(c,f){e=c,f&4&&n!==(n=e[11]+"")&&fe(r,n)},d(c){c&&A(t),s=!1,a()}}}function Ua(e){let t,n,r,i,s,a,u=ge(e[2]),c=[];for(let f=0;f<u.length;f+=1)c[f]=or(lr(e,u,f));return{c(){t=V("div"),n=V("input"),r=G(),i=V("div");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){t=T(f,"DIV",{class:!0});var o=F(t);n=T(o,"INPUT",{type:!0,placeholder:!0,class:!0}),r=W(o),i=T(o,"DIV",{class:!0});var h=F(i);for(let l=0;l<c.length;l+=1)c[l].l(h);h.forEach(A),o.forEach(A),this.h()},h(){C(n,"type","text"),C(n,"placeholder",e[0]),C(n,"class","svelte-mie8sr"),C(i,"class","dropdown-content svelte-mie8sr"),C(t,"class","dropdown svelte-mie8sr")},m(f,o){K(f,t,o),k(t,n),Je(n,e[1]),k(t,r),k(t,i);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(i,null);s||(a=[_e(n,"input",e[7]),_e(n,"input",e[4])],s=!0)},p(f,[o]){if(o&1&&C(n,"placeholder",f[0]),o&2&&n.value!==f[1]&&Je(n,f[1]),o&12){u=ge(f[2]);let h;for(h=0;h<u.length;h+=1){const l=lr(f,u,h);c[h]?c[h].p(l,o):(c[h]=or(l),c[h].c(),c[h].m(i,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}},i:ne,o:ne,d(f){f&&A(t),$e(c,f),s=!1,cn(a)}}}function Xa(e,t,n){let r,{options:i=[]}=t,{placeholder:s=""}=t,{selected:a=""}=t;const u=Br();let c="";function f(d){n(5,a=d),n(1,c=d),u("select",d)}function o(d){n(1,c=d.target.value),u("input",c)}function h(){c=this.value,n(1,c),n(5,a)}const l=d=>f(d);return e.$$set=d=>{"options"in d&&n(6,i=d.options),"placeholder"in d&&n(0,s=d.placeholder),"selected"in d&&n(5,a=d.selected)},e.$$.update=()=>{e.$$.dirty&32&&n(1,c=a),e.$$.dirty&66&&n(2,r=i.filter(d=>d.toLowerCase().includes(c.toLowerCase())).sort())},[s,c,r,f,o,a,i,h,l]}class sr extends De{constructor(t){super(),Le(this,t,Xa,Ua,qe,{options:6,placeholder:0,selected:5})}}function Ga(e){let t,n,r,i,s,a,u,c,f,o,h,l,d;return{c(){t=V("div"),n=V("div"),r=V("div"),i=G(),s=V("div"),a=V("span"),u=Z(e[0]),c=G(),f=V("div"),o=V("span"),h=Z(e[1]),this.h()},l(g){t=T(g,"DIV",{class:!0});var p=F(t);n=T(p,"DIV",{class:!0});var m=F(n);r=T(m,"DIV",{class:!0,style:!0}),F(r).forEach(A),i=W(m),s=T(m,"DIV",{class:!0,"data-which":!0,style:!0});var _=F(s);a=T(_,"SPAN",{class:!0});var v=F(a);u=Q(v,e[0]),v.forEach(A),_.forEach(A),c=W(m),f=T(m,"DIV",{class:!0,"data-which":!0,style:!0});var N=F(f);o=T(N,"SPAN",{class:!0});var y=F(o);h=Q(y,e[1]),y.forEach(A),N.forEach(A),m.forEach(A),p.forEach(A),this.h()},h(){C(r,"class","body svelte-1as0dqw"),ce(r,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),ce(r,"right",100*(1-(e[1]-e[2])/(e[3]-e[2]))+"%"),C(a,"class","svelte-1as0dqw"),C(s,"class","handle svelte-1as0dqw"),C(s,"data-which","start"),ce(s,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),C(o,"class","svelte-1as0dqw"),C(f,"class","handle svelte-1as0dqw"),C(f,"data-which","end"),ce(f,"left",100*((e[1]-e[2])/(e[3]-e[2]))+"%"),C(n,"class","slider svelte-1as0dqw"),C(t,"class","double-range-container svelte-1as0dqw")},m(g,p){K(g,t,p),k(t,n),k(n,r),e[9](r),k(n,i),k(n,s),k(s,a),k(a,u),e[10](s),k(n,c),k(n,f),k(f,o),k(o,h),e[11](n),l||(d=[qt(Bt.call(null,r)),_e(r,"dragmove",Dt(Lt(e[8]))),qt(Bt.call(null,s)),_e(s,"dragmove",Dt(Lt(e[7]("start")))),qt(Bt.call(null,f)),_e(f,"dragmove",Dt(Lt(e[7]("end"))))],l=!0)},p(g,[p]){p&13&&ce(r,"left",100*((g[0]-g[2])/(g[3]-g[2]))+"%"),p&14&&ce(r,"right",100*(1-(g[1]-g[2])/(g[3]-g[2]))+"%"),p&1&&fe(u,g[0]),p&13&&ce(s,"left",100*((g[0]-g[2])/(g[3]-g[2]))+"%"),p&2&&fe(h,g[1]),p&14&&ce(f,"left",100*((g[1]-g[2])/(g[3]-g[2]))+"%")},i:ne,o:ne,d(g){g&&A(t),e[9](null),e[10](null),e[11](null),l=!1,cn(d)}}}function ur(e,t,n){return e<t?t:e>n?n:e}function Bt(e){let t,n;function r(a){a.type==="touchstart"&&(a=a.touches[0]),t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:t,y:n}})),window.addEventListener("mousemove",i),window.addEventListener("mouseup",s),window.addEventListener("touchmove",i),window.addEventListener("touchend",s)}function i(a){a.type==="touchmove"&&(a=a.changedTouches[0]);const u=a.clientX-t,c=a.clientY-n;t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:t,y:n,dx:u,dy:c}}))}function s(a){t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:t,y:n}})),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",s),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",s)}return e.addEventListener("mousedown",r),e.addEventListener("touchstart",r),{destroy(){e.removeEventListener("mousedown",r),e.removeEventListener("touchstart",r)}}}function Wa(e,t,n){let{minYear:r}=t,{maxYear:i}=t,{startYear:s=1990}=t,{endYear:a=new Date().getFullYear()}=t,u,c,f;function o(p){return function(m){const{left:_,right:v}=f.getBoundingClientRect(),N=v-_,y=Math.min(Math.max((m.detail.x-_)/N,0),1);p==="start"?(n(0,s=Math.round(r+y*(i-r))),n(1,a=Math.max(a,s))):(n(0,s=Math.min(s,a)),n(1,a=Math.round(r+y*(i-r))))}}function h(p){const{width:m}=c.getBoundingClientRect(),{left:_,right:v}=f.getBoundingClientRect(),N=v-_,y=u.getBoundingClientRect().left,b=ur(y+event.detail.dx-_,0,N-m),S=ur(b+m,m,N),P=b/N,I=S/N;n(0,s=Math.round(r+P*(i-r))),n(1,a=Math.round(r+I*(i-r)))}function l(p){Se[p?"unshift":"push"](()=>{c=p,n(5,c)})}function d(p){Se[p?"unshift":"push"](()=>{u=p,n(4,u)})}function g(p){Se[p?"unshift":"push"](()=>{f=p,n(6,f)})}return e.$$set=p=>{"minYear"in p&&n(2,r=p.minYear),"maxYear"in p&&n(3,i=p.maxYear),"startYear"in p&&n(0,s=p.startYear),"endYear"in p&&n(1,a=p.endYear)},[s,a,r,i,u,c,f,o,h,l,d,g]}class Za extends De{constructor(t){super(),Le(this,t,Wa,Ga,qe,{minYear:2,maxYear:3,startYear:0,endYear:1})}}function Qa(e){let t,n=`<p class="svelte-16lv7xm">It includes the item name, quantity, cost, and date of shipment for
        police departments the US.</p> <p class="svelte-16lv7xm">The data comes from the Defense Logistics Agency.</p>`;return{c(){t=V("header"),t.innerHTML=n,this.h()},l(r){t=T(r,"HEADER",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-1458xmh"&&(t.innerHTML=n),this.h()},h(){C(t,"class","svelte-16lv7xm")},m(r,i){K(r,t,i)},p:ne,i:ne,o:ne,d(r){r&&A(t)}}}class Ka extends De{constructor(t){super(),Le(this,t,null,Qa,qe,{})}}function Ja(e){let t,n,r,i,s,a,u,c,f,o,h,l,d,g,p,m,_,v,N="Apply Filters",y,b,S="Reset Filters",P,I,M;r=new Ka({});function x(R){e[12](R)}function E(R){e[13](R)}let Y={minYear:e[6],maxYear:e[7]};e[2]!==void 0&&(Y.startYear=e[2]),e[3]!==void 0&&(Y.endYear=e[3]),a=new Za({props:Y}),Se.push(()=>st(a,"startYear",x)),Se.push(()=>st(a,"endYear",E));function q(R){e[14](R)}let D={options:e[5],placeholder:"Type to filter Agency Names..."};e[1]!==void 0&&(D.selected=e[1]),o=new sr({props:D}),Se.push(()=>st(o,"selected",q)),o.$on("select",e[8]);function w(R){e[15](R)}let L={options:e[4],placeholder:"Type to filter Item Names..."};return e[0]!==void 0&&(L.selected=e[0]),d=new sr({props:L}),Se.push(()=>st(d,"selected",w)),d.$on("select",e[8]),{c(){t=V("div"),n=V("section"),Me(r.$$.fragment),i=G(),s=V("section"),Me(a.$$.fragment),f=G(),Me(o.$$.fragment),l=G(),Me(d.$$.fragment),p=G(),m=V("section"),_=V("div"),v=V("button"),v.textContent=N,y=G(),b=V("button"),b.textContent=S,this.h()},l(R){t=T(R,"DIV",{class:!0});var O=F(t);n=T(O,"SECTION",{class:!0});var B=F(n);xe(r.$$.fragment,B),B.forEach(A),i=W(O),s=T(O,"SECTION",{class:!0});var J=F(s);xe(a.$$.fragment,J),f=W(J),xe(o.$$.fragment,J),l=W(J),xe(d.$$.fragment,J),J.forEach(A),p=W(O),m=T(O,"SECTION",{class:!0});var $=F(m);_=T($,"DIV",{class:!0});var re=F(_);v=T(re,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(v)!=="svelte-1mdto3n"&&(v.textContent=N),y=W(re),b=T(re,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(b)!=="svelte-p5k4b6"&&(b.textContent=S),re.forEach(A),$.forEach(A),O.forEach(A),this.h()},h(){C(n,"class","svelte-430mf7"),C(s,"class","svelte-430mf7"),C(v,"class","svelte-430mf7"),C(b,"class","svelte-430mf7"),C(_,"class","actions svelte-430mf7"),C(m,"class","svelte-430mf7"),C(t,"class","filterContainer svelte-430mf7")},m(R,O){K(R,t,O),k(t,n),ke(r,n,null),k(t,i),k(t,s),ke(a,s,null),k(s,f),ke(o,s,null),k(s,l),ke(d,s,null),k(t,p),k(t,m),k(m,_),k(_,v),k(_,y),k(_,b),P=!0,I||(M=[_e(v,"click",e[8]),_e(b,"click",e[9])],I=!0)},p(R,[O]){const B={};!u&&O&4&&(u=!0,B.startYear=R[2],ot(()=>u=!1)),!c&&O&8&&(c=!0,B.endYear=R[3],ot(()=>c=!1)),a.$set(B);const J={};O&32&&(J.options=R[5]),!h&&O&2&&(h=!0,J.selected=R[1],ot(()=>h=!1)),o.$set(J);const $={};O&16&&($.options=R[4]),!g&&O&1&&(g=!0,$.selected=R[0],ot(()=>g=!1)),d.$set($)},i(R){P||(we(r.$$.fragment,R),we(a.$$.fragment,R),we(o.$$.fragment,R),we(d.$$.fragment,R),P=!0)},o(R){ye(r.$$.fragment,R),ye(a.$$.fragment,R),ye(o.$$.fragment,R),ye(d.$$.fragment,R),P=!1},d(R){R&&A(t),Ce(r),Ce(a),Ce(o),Ce(d),I=!1,cn(M)}}}function $a(e,t,n){let{data:r=[]}=t,{selectedItemName:i=""}=t,{selectedAgencyName:s=""}=t,{startYear:a=1990}=t,{endYear:u=new Date().getFullYear()}=t,{onFilterChange:c}=t,f=10,o=44e5,h=a,l=u,d=[],g=[];const p=S=>parseFloat(S.replace("US$","").replace(/\./g,"").replace(",","."));m();function m(){let S=r;(a||u)&&(S=S.filter(P=>{const I=new Date(P["Ship Date"]).getFullYear();return I>=a&&I<=u})),(f||o)&&(S=S.filter(P=>{const I=p(P["Acquisition Value"]);return I>=f&&I<=o})),i&&(S=S.filter(P=>P["Item Name"].toLowerCase().includes(i.toLowerCase()))),s&&(S=S.filter(P=>P["Agency Name"].toLowerCase().includes(s.toLowerCase()))),n(4,d=[...new Set(r.map(P=>P["Item Name"]))]),n(5,g=[...new Set(r.map(P=>P["Agency Name"]))]),c(i,s,a,u,f,o)}function _(){n(0,i=""),n(1,s=""),n(2,a=1990),n(3,u=new Date().getFullYear()),f=10,o=44e5,m()}function v(S){a=S,n(2,a)}function N(S){u=S,n(3,u)}function y(S){s=S,n(1,s)}function b(S){i=S,n(0,i)}return e.$$set=S=>{"data"in S&&n(10,r=S.data),"selectedItemName"in S&&n(0,i=S.selectedItemName),"selectedAgencyName"in S&&n(1,s=S.selectedAgencyName),"startYear"in S&&n(2,a=S.startYear),"endYear"in S&&n(3,u=S.endYear),"onFilterChange"in S&&n(11,c=S.onFilterChange)},[i,s,a,u,d,g,h,l,m,_,r,c,v,N,y,b]}class el extends De{constructor(t){super(),Le(this,t,$a,Ja,qe,{data:10,selectedItemName:0,selectedAgencyName:1,startYear:2,endYear:3,onFilterChange:11})}}function fr(e,t,n){const r=e.slice();return r[9]=t[n],r}function cr(e,t,n){const r=e.slice();return r[12]=t[n],r}function hr(e){let t,n,r=new Date(e[0][e[9]].dates[e[12]].date).toLocaleDateString()+"",i,s,a,u,c,f,o,h=e[0][e[9]].dates[e[12]].quantity+"",l,d,g,p,m,_,v=e[0][e[9]].dates[e[12]].acquisitionValue+"",N,y,b,S,P=e[0][e[9]].nsn+"",I;return{c(){t=V("div"),n=V("div"),i=Z(r),s=G(),a=V("div"),c=G(),f=V("p"),o=Z("("),l=Z(h),d=Z(")"),g=G(),p=V("div"),m=V("p"),_=Z("Acquisition Value: "),N=Z(v),y=G(),b=V("p"),S=Z("NSN: "),I=Z(P),this.h()},l(M){t=T(M,"DIV",{class:!0});var x=F(t);n=T(x,"DIV",{class:!0});var E=F(n);i=Q(E,r),E.forEach(A),s=W(x),a=T(x,"DIV",{class:!0,title:!0,style:!0}),F(a).forEach(A),c=W(x),f=T(x,"P",{class:!0});var Y=F(f);o=Q(Y,"("),l=Q(Y,h),d=Q(Y,")"),Y.forEach(A),x.forEach(A),g=W(M),p=T(M,"DIV",{class:!0});var q=F(p);m=T(q,"P",{class:!0});var D=F(m);_=Q(D,"Acquisition Value: "),N=Q(D,v),D.forEach(A),y=W(q),b=T(q,"P",{class:!0});var w=F(b);S=Q(w,"NSN: "),I=Q(w,P),w.forEach(A),q.forEach(A),this.h()},h(){C(n,"class","date svelte-lmotak"),C(a,"class","bar svelte-lmotak"),C(a,"title",u=`Quantity: ${e[0][e[9]].dates[e[12]].quantity}`),ce(a,"width",e[0][e[9]].dates[e[12]].quantity*10+"px"),C(f,"class","tiny svelte-lmotak"),C(t,"class","item svelte-lmotak"),C(m,"class","tiny svelte-lmotak"),C(b,"class","tiny svelte-lmotak"),C(p,"class","meta svelte-lmotak")},m(M,x){K(M,t,x),k(t,n),k(n,i),k(t,s),k(t,a),k(t,c),k(t,f),k(f,o),k(f,l),k(f,d),K(M,g,x),K(M,p,x),k(p,m),k(m,_),k(m,N),k(p,y),k(p,b),k(b,S),k(b,I)},p(M,x){x&3&&r!==(r=new Date(M[0][M[9]].dates[M[12]].date).toLocaleDateString()+"")&&fe(i,r),x&3&&u!==(u=`Quantity: ${M[0][M[9]].dates[M[12]].quantity}`)&&C(a,"title",u),x&3&&ce(a,"width",M[0][M[9]].dates[M[12]].quantity*10+"px"),x&3&&h!==(h=M[0][M[9]].dates[M[12]].quantity+"")&&fe(l,h),x&3&&v!==(v=M[0][M[9]].dates[M[12]].acquisitionValue+"")&&fe(N,v),x&3&&P!==(P=M[0][M[9]].nsn+"")&&fe(I,P)},d(M){M&&(A(t),A(g),A(p))}}}function dr(e){let t,n,r,i=e[0][e[9]].totalValue+"",s,a,u,c,f,o=e[0][e[9]].agency+"",h,l,d,g,p=e[0][e[9]].state+"",m,_,v,N,y=e[0][e[9]].item+"",b,S,P,I=ge(Object.keys(e[0][e[9]].dates)),M=[];for(let x=0;x<I.length;x+=1)M[x]=hr(cr(e,I,x));return{c(){t=V("div"),n=V("span"),r=Z("(Total Value: $"),s=Z(i),a=Z(")"),u=G(),c=V("div"),f=V("h3"),h=Z(o),l=G(),d=V("span"),g=Z("("),m=Z(p),_=Z(")"),v=G(),N=V("h3"),b=Z(y),S=G();for(let x=0;x<M.length;x+=1)M[x].c();P=G(),this.h()},l(x){t=T(x,"DIV",{class:!0});var E=F(t);n=T(E,"SPAN",{class:!0});var Y=F(n);r=Q(Y,"(Total Value: $"),s=Q(Y,i),a=Q(Y,")"),Y.forEach(A),u=W(E),c=T(E,"DIV",{class:!0});var q=F(c);f=T(q,"H3",{class:!0});var D=F(f);h=Q(D,o),l=W(D),d=T(D,"SPAN",{class:!0});var w=F(d);g=Q(w,"("),m=Q(w,p),_=Q(w,")"),w.forEach(A),D.forEach(A),v=W(q),N=T(q,"H3",{class:!0});var L=F(N);b=Q(L,y),L.forEach(A),q.forEach(A),S=W(E);for(let R=0;R<M.length;R+=1)M[R].l(E);P=W(E),E.forEach(A),this.h()},h(){C(n,"class","tiny svelte-lmotak"),C(d,"class","tiny svelte-lmotak"),C(f,"class","agency svelte-lmotak"),C(N,"class","svelte-lmotak"),C(c,"class","header svelte-lmotak"),C(t,"class","group svelte-lmotak")},m(x,E){K(x,t,E),k(t,n),k(n,r),k(n,s),k(n,a),k(t,u),k(t,c),k(c,f),k(f,h),k(f,l),k(f,d),k(d,g),k(d,m),k(d,_),k(c,v),k(c,N),k(N,b),k(t,S);for(let Y=0;Y<M.length;Y+=1)M[Y]&&M[Y].m(t,null);k(t,P)},p(x,E){if(E&3&&i!==(i=x[0][x[9]].totalValue+"")&&fe(s,i),E&3&&o!==(o=x[0][x[9]].agency+"")&&fe(h,o),E&3&&p!==(p=x[0][x[9]].state+"")&&fe(m,p),E&3&&y!==(y=x[0][x[9]].item+"")&&fe(b,y),E&3){I=ge(Object.keys(x[0][x[9]].dates));let Y;for(Y=0;Y<I.length;Y+=1){const q=cr(x,I,Y);M[Y]?M[Y].p(q,E):(M[Y]=hr(q),M[Y].c(),M[Y].m(t,P))}for(;Y<M.length;Y+=1)M[Y].d(1);M.length=I.length}},d(x){x&&A(t),$e(M,x)}}}function tl(e){let t,n,r="Sort by:",i,s,a,u="Value",c,f="Alphabet",o,h="Date",l,d,g,p,m=ge(e[1]),_=[];for(let v=0;v<m.length;v+=1)_[v]=dr(fr(e,m,v));return{c(){t=V("div"),n=V("label"),n.textContent=r,i=G(),s=V("select"),a=V("option"),a.textContent=u,c=V("option"),c.textContent=f,o=V("option"),o.textContent=h,l=G(),d=V("div");for(let v=0;v<_.length;v+=1)_[v].c();this.h()},l(v){t=T(v,"DIV",{class:!0});var N=F(t);n=T(N,"LABEL",{for:!0,"data-svelte-h":!0}),Ne(n)!=="svelte-ne7zl7"&&(n.textContent=r),i=W(N),s=T(N,"SELECT",{id:!0});var y=F(s);a=T(y,"OPTION",{"data-svelte-h":!0}),Ne(a)!=="svelte-zquwu0"&&(a.textContent=u),c=T(y,"OPTION",{"data-svelte-h":!0}),Ne(c)!=="svelte-1egzec6"&&(c.textContent=f),o=T(y,"OPTION",{"data-svelte-h":!0}),Ne(o)!=="svelte-38wycu"&&(o.textContent=h),y.forEach(A),N.forEach(A),l=W(v),d=T(v,"DIV",{class:!0});var b=F(d);for(let S=0;S<_.length;S+=1)_[S].l(b);b.forEach(A),this.h()},h(){C(n,"for","sortOptions"),a.__value="value",Je(a,a.__value),c.__value="alphabet",Je(c,c.__value),o.__value="date",Je(o,o.__value),C(s,"id","sortOptions"),C(t,"class","info svelte-lmotak"),C(d,"class","timeline svelte-lmotak")},m(v,N){K(v,t,N),k(t,n),k(t,i),k(t,s),k(s,a),k(s,c),k(s,o),K(v,l,N),K(v,d,N);for(let y=0;y<_.length;y+=1)_[y]&&_[y].m(d,null);g||(p=_e(s,"change",e[2]),g=!0)},p(v,[N]){if(N&3){m=ge(v[1]);let y;for(y=0;y<m.length;y+=1){const b=fr(v,m,y);_[y]?_[y].p(b,N):(_[y]=dr(b),_[y].c(),_[y].m(d,null))}for(;y<_.length;y+=1)_[y].d(1);_.length=m.length}},i:ne,o:ne,d(v){v&&(A(t),A(l),A(d)),$e(_,v),g=!1,p()}}}function nl(e,t,n){let r,i,s,{data:a=[]}=t,{itemName:u=""}=t,{agencyName:c=""}=t,{sortOption:f="value"}=t;const o=l=>parseFloat(l.replace("US$","").replace(/\./g,"").replace(",","."));function h(l){n(3,f=l.target.value)}return e.$$set=l=>{"data"in l&&n(4,a=l.data),"itemName"in l&&n(5,u=l.itemName),"agencyName"in l&&n(6,c=l.agencyName),"sortOption"in l&&n(3,f=l.sortOption)},e.$$.update=()=>{e.$$.dirty&112&&n(7,r=a.filter(l=>(u===""||l["Item Name"]===u)&&(c===""||l["Agency Name"]===c))),e.$$.dirty&128&&n(0,i=r.reduce((l,d)=>{const g=`${d["Agency Name"]}, ${d["Item Name"]}`,p=new Date(d["Ship Date"]).toLocaleDateString();l[g]||(l[g]={totalValue:0,dates:{}}),l[g].dates[p]||(l[g].dates[p]={date:d["Ship Date"],quantity:0,items:[]});const m=o(d["Acquisition Value"]);return l[g].totalValue+=m,l[g].dates[p].quantity+=parseInt(d.Quantity),l[g].dates[p].acquisitionValue=d["Acquisition Value"],l[g].dates[p].items.push(d),l[g].agency=d["Agency Name"].toLowerCase(),l[g].item=d["Item Name"].toLowerCase(),l[g].state=d.State,l[g].nsn=d.NSN,l},{})),e.$$.dirty&9&&n(1,s=Object.keys(i).sort((l,d)=>{if(f==="value")return i[d].totalValue-i[l].totalValue;if(f==="alphabet")return l.localeCompare(d);if(f==="date"){const g=new Date(i[l].dates[Object.keys(i[l].dates)[0]].date),p=new Date(i[d].dates[Object.keys(i[d].dates)[0]].date);return g-p}}).slice(0,500))},[i,s,h,f,a,u,c,r]}class rl extends De{constructor(t){super(),Le(this,t,nl,tl,qe,{data:4,itemName:5,agencyName:6,sortOption:3})}}function il(e){let t,n="Loading...";return{c(){t=V("p"),t.textContent=n,this.h()},l(r){t=T(r,"P",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-qdsr2u"&&(t.textContent=n),this.h()},h(){C(t,"class","svelte-ybf4om")},m(r,i){K(r,t,i)},p:ne,i:ne,o:ne,d(r){r&&A(t)}}}function al(e){let t,n,r,i,s,a,u,c,f,o,h;return i=new el({props:{data:e[0],selectedItemName:e[1],selectedAgencyName:e[2],startYear:e[3],endYear:e[4],startValue:e[5],endValue:e[6],onFilterChange:e[8]}}),u=new ja({props:{data:e[7],itemName:e[1],agencyName:e[2]}}),o=new rl({props:{data:e[7],itemName:e[1],agencyName:e[2]}}),{c(){t=V("section"),n=V("div"),r=V("section"),Me(i.$$.fragment),s=G(),a=V("section"),Me(u.$$.fragment),c=G(),f=V("section"),Me(o.$$.fragment),this.h()},l(l){t=T(l,"SECTION",{class:!0});var d=F(t);n=T(d,"DIV",{class:!0});var g=F(n);r=T(g,"SECTION",{class:!0});var p=F(r);xe(i.$$.fragment,p),p.forEach(A),s=W(g),a=T(g,"SECTION",{class:!0});var m=F(a);xe(u.$$.fragment,m),m.forEach(A),g.forEach(A),c=W(d),f=T(d,"SECTION",{class:!0});var _=F(f);xe(o.$$.fragment,_),_.forEach(A),d.forEach(A),this.h()},h(){C(r,"class","filters svelte-ybf4om"),C(a,"class","map svelte-ybf4om"),C(n,"class","svelte-ybf4om"),C(f,"class","timeline svelte-ybf4om"),C(t,"class","vizContainer svelte-ybf4om")},m(l,d){K(l,t,d),k(t,n),k(n,r),ke(i,r,null),k(n,s),k(n,a),ke(u,a,null),k(t,c),k(t,f),ke(o,f,null),h=!0},p(l,d){const g={};d&1&&(g.data=l[0]),d&2&&(g.selectedItemName=l[1]),d&4&&(g.selectedAgencyName=l[2]),d&8&&(g.startYear=l[3]),d&16&&(g.endYear=l[4]),d&32&&(g.startValue=l[5]),d&64&&(g.endValue=l[6]),i.$set(g);const p={};d&128&&(p.data=l[7]),d&2&&(p.itemName=l[1]),d&4&&(p.agencyName=l[2]),u.$set(p);const m={};d&128&&(m.data=l[7]),d&2&&(m.itemName=l[1]),d&4&&(m.agencyName=l[2]),o.$set(m)},i(l){h||(we(i.$$.fragment,l),we(u.$$.fragment,l),we(o.$$.fragment,l),h=!0)},o(l){ye(i.$$.fragment,l),ye(u.$$.fragment,l),ye(o.$$.fragment,l),h=!1},d(l){l&&A(t),Ce(i),Ce(u),Ce(o)}}}function ll(e){let t,n,r,i;const s=[al,il],a=[];function u(c,f){return c[0].length>0?0:1}return t=u(e),n=a[t]=s[t](e),{c(){n.c(),r=yt()},l(c){n.l(c),r=yt()},m(c,f){a[t].m(c,f),K(c,r,f),i=!0},p(c,[f]){let o=t;t=u(c),t===o?a[t].p(c,f):(Ur(),ye(a[o],1,1,()=>{a[o]=null}),jr(),n=a[t],n?n.p(c,f):(n=a[t]=s[t](c),n.c()),we(n,1),n.m(r.parentNode,r))},i(c){i||(we(n),i=!0)},o(c){ye(n),i=!1},d(c){c&&A(r),a[t].d(c)}}}function ol(e,t,n){let r=[],i="",s="",a=1990,u=new Date().getFullYear(),c=10,f=1e3,o=[];const h=g=>parseFloat(g.replace("US$","").replace(/\./g,"").replace(",","."));gr(async()=>{const g=await fetch("data.json");n(0,r=await g.json()),l()});function l(){n(7,o=r.filter(g=>{const p=new Date(g["Ship Date"]).getFullYear(),m=h(g["Acquisition Value"]);return(i==""||g["Item Name"].toLowerCase().includes(i.toLowerCase()))&&(s==""||g["Agency Name"].toLowerCase().includes(s.toLowerCase()))&&p>=a&&p<=u&&m>=c&&m<=f}))}function d(g,p,m,_,v,N){n(1,i=g),n(2,s=p),n(3,a=m),n(4,u=_),n(5,c=v),n(6,f=N),l()}return[r,i,s,a,u,c,f,o,d]}class fl extends De{constructor(t){super(),Le(this,t,ol,ll,qe,{})}}export{fl as component};
