import{s as De,e as V,P as Qe,c as T,b as F,Q as Ke,f as C,p as A,B as Hr,i as Z,h as k,R as zr,n as ne,S as $e,o as gr,l as _t,a as G,g as W,T as Je,U as ye,w as cn,V as Br,t as Q,d as K,j as fe,q as ce,W as Dt,X as qt,Y as Lt,r as Se,K as Ne,Z as ot}from"../chunks/scheduler.BmpbIF5Y.js";import{S as qe,i as Le,f as ut,b as Me,d as xe,m as ke,a as we,t as _e,e as Ae,c as jr,g as Ur}from"../chunks/index.BGvYnbyl.js";function ge(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Xr(e){return e}function Gr(e){if(e==null)return Xr;var t,n,r=e.scale[0],i=e.scale[1],l=e.translate[0],a=e.translate[1];return function(f,h){h||(t=n=0);var s=2,u=f.length,c=new Array(u);for(c[0]=(t+=f[0])*r+l,c[1]=(n+=f[1])*i+a;s<u;)c[s]=f[s],++s;return c}}function Wr(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Zr(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return _n(e,n)})}:_n(e,t)}function _n(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,l=Qr(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:l}:r==null?{type:"Feature",id:n,properties:i,geometry:l}:{type:"Feature",id:n,bbox:r,properties:i,geometry:l}}function Qr(e,t){var n=Gr(e.transform),r=e.arcs;function i(u,c){c.length&&c.pop();for(var o=r[u<0?~u:u],d=0,g=o.length;d<g;++d)c.push(n(o[d],d));u<0&&Wr(c,g)}function l(u){return n(u)}function a(u){for(var c=[],o=0,d=u.length;o<d;++o)i(u[o],c);return c.length<2&&c.push(c[0]),c}function f(u){for(var c=a(u);c.length<4;)c.push(c[0]);return c}function h(u){return u.map(f)}function s(u){var c=u.type,o;switch(c){case"GeometryCollection":return{type:c,geometries:u.geometries.map(s)};case"Point":o=l(u.coordinates);break;case"MultiPoint":o=u.coordinates.map(l);break;case"LineString":o=a(u.arcs);break;case"MultiLineString":o=u.arcs.map(a);break;case"Polygon":o=h(u.arcs);break;case"MultiPolygon":o=u.arcs.map(h);break;default:return null}return{type:c,coordinates:o}}return s(t)}function mt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pr(e){let t,n,r;e.length!==2?(t=mt,n=(f,h)=>mt(e(f),h),r=(f,h)=>e(f)-h):(t=e===mt||e===Kr?e:Jr,n=e,r=e);function i(f,h,s=0,u=f.length){if(s<u){if(t(h,h)!==0)return u;do{const c=s+u>>>1;n(f[c],h)<0?s=c+1:u=c}while(s<u)}return s}function l(f,h,s=0,u=f.length){if(s<u){if(t(h,h)!==0)return u;do{const c=s+u>>>1;n(f[c],h)<=0?s=c+1:u=c}while(s<u)}return s}function a(f,h,s=0,u=f.length){const c=i(f,h,s,u-1);return c>s&&r(f[c-1],h)>-r(f[c],h)?c-1:c}return{left:i,center:a,right:l}}function Jr(){return 0}function $r(e){return e===null?NaN:+e}const ei=pr(mt),ti=ei.right;pr($r).center;class Ie{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const l=n[i],a=t+l,f=Math.abs(t)<Math.abs(l)?t-(a-l):l-(a-t);f&&(n[r++]=f),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,l,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,l=i-(a-r),!l););n>0&&(l<0&&t[n-1]<0||l>0&&t[n-1]>0)&&(i=l*2,r=a+i,i==r-a&&(a=r))}return a}}const ni=Math.sqrt(50),ri=Math.sqrt(10),ii=Math.sqrt(2);function yt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),l=r/Math.pow(10,i),a=l>=ni?10:l>=ri?5:l>=ii?2:1;let f,h,s;return i<0?(s=Math.pow(10,-i)/a,f=Math.round(e*s),h=Math.round(t*s),f/s<e&&++f,h/s>t&&--h,s=-s):(s=Math.pow(10,i)*a,f=Math.round(e/s),h=Math.round(t/s),f*s<e&&++f,h*s>t&&--h),h<f&&.5<=n&&n<2?yt(e,t,n*2):[f,h,s]}function ai(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,l,a]=r?yt(t,e,n):yt(e,t,n);if(!(l>=i))return[];const f=l-i+1,h=new Array(f);if(r)if(a<0)for(let s=0;s<f;++s)h[s]=(l-s)/-a;else for(let s=0;s<f;++s)h[s]=(l-s)*a;else if(a<0)for(let s=0;s<f;++s)h[s]=(i+s)/-a;else for(let s=0;s<f;++s)h[s]=(i+s)*a;return h}function jt(e,t,n){return t=+t,e=+e,n=+n,yt(e,t,n)[2]}function li(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?jt(t,e,n):jt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function*oi(e){for(const t of e)yield*t}function mr(e){return Array.from(oi(e))}var z=1e-6,ui=1e-12,H=Math.PI,ae=H/2,yn=H/4,oe=H*2,ue=180/H,ee=H/180,U=Math.abs,si=Math.atan,He=Math.atan2,X=Math.cos,j=Math.sin,vt=Math.sign||function(e){return e>0?1:e<0?-1:0},Ee=Math.sqrt;function fi(e){return e>1?0:e<-1?H:Math.acos(e)}function Re(e){return e>1?ae:e<-1?-ae:Math.asin(e)}function le(){}function Et(e,t){e&&Nn.hasOwnProperty(e.type)&&Nn[e.type](e,t)}var En={Feature:function(e,t){Et(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Et(n[r].geometry,t)}},Nn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ut(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ut(n[r],t,0)},Polygon:function(e,t){bn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Et(n[r],t)}};function Ut(e,t,n){var r=-1,i=e.length-n,l;for(t.lineStart();++r<i;)l=e[r],t.point(l[0],l[1],l[2]);t.lineEnd()}function bn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ut(e[n],t,1);t.polygonEnd()}function Te(e,t){e&&En.hasOwnProperty(e.type)?En[e.type](e,t):Et(e,t)}function Xt(e){return[He(e[1],e[0]),Re(e[2])]}function ze(e){var t=e[0],n=e[1],r=X(n);return[r*X(t),r*j(t),j(n)]}function st(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Nt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Vt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ft(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Gt(e){var t=Ee(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Wt(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Zt(e,t){return U(e)>H&&(e-=Math.round(e/oe)*oe),[e,t]}Zt.invert=Zt;function ci(e,t,n){return(e%=oe)?t||n?Wt(Mn(e),xn(t,n)):Mn(e):t||n?xn(t,n):Zt}function Sn(e){return function(t,n){return t+=e,U(t)>H&&(t-=Math.round(t/oe)*oe),[t,n]}}function Mn(e){var t=Sn(e);return t.invert=Sn(-e),t}function xn(e,t){var n=X(e),r=j(e),i=X(t),l=j(t);function a(f,h){var s=X(h),u=X(f)*s,c=j(f)*s,o=j(h),d=o*n+u*r;return[He(c*i-d*l,u*n-o*r),Re(d*i+c*l)]}return a.invert=function(f,h){var s=X(h),u=X(f)*s,c=j(f)*s,o=j(h),d=o*i-c*l;return[He(c*i+o*l,u*n+d*r),Re(d*n-u*r)]},a}function hi(e,t,n,r,i,l){if(n){var a=X(t),f=j(t),h=r*n;i==null?(i=t+r*oe,l=t-h/2):(i=kn(a,i),l=kn(a,l),(r>0?i<l:i>l)&&(i+=r*oe));for(var s,u=i;r>0?u>l:u<l;u-=h)s=Xt([a,-f*X(u),-f*j(u)]),e.point(s[0],s[1])}}function kn(e,t){t=ze(t),t[0]-=e,Gt(t);var n=fi(-t[1]);return((-t[2]<0?-n:n)+oe-z)%oe}function vr(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:le,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function wt(e,t){return U(e[0]-t[0])<z&&U(e[1]-t[1])<z}function ct(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wr(e,t,n,r,i){var l=[],a=[],f,h;if(e.forEach(function(g){if(!((p=g.length-1)<=0)){var p,m=g[0],E=g[p],v;if(wt(m,E)){if(!m[2]&&!E[2]){for(i.lineStart(),f=0;f<p;++f)i.point((m=g[f])[0],m[1]);i.lineEnd();return}E[0]+=2*z}l.push(v=new ct(m,g,null,!0)),a.push(v.o=new ct(m,null,v,!1)),l.push(v=new ct(E,g,null,!1)),a.push(v.o=new ct(E,null,v,!0))}}),!!l.length){for(a.sort(t),An(l),An(a),f=0,h=a.length;f<h;++f)a[f].e=n=!n;for(var s=l[0],u,c;;){for(var o=s,d=!0;o.v;)if((o=o.n)===s)return;u=o.z,i.lineStart();do{if(o.v=o.o.v=!0,o.e){if(d)for(f=0,h=u.length;f<h;++f)i.point((c=u[f])[0],c[1]);else r(o.x,o.n.x,1,i);o=o.n}else{if(d)for(u=o.p.z,f=u.length-1;f>=0;--f)i.point((c=u[f])[0],c[1]);else r(o.x,o.p.x,-1,i);o=o.p}o=o.o,u=o.z,d=!d}while(!o.v);i.lineEnd()}}}function An(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Tt(e){return U(e[0])<=H?e[0]:vt(e[0])*((U(e[0])+H)%oe-H)}function di(e,t){var n=Tt(t),r=t[1],i=j(r),l=[j(n),-X(n),0],a=0,f=0,h=new Ie;i===1?r=ae+z:i===-1&&(r=-ae-z);for(var s=0,u=e.length;s<u;++s)if(o=(c=e[s]).length)for(var c,o,d=c[o-1],g=Tt(d),p=d[1]/2+yn,m=j(p),E=X(p),v=0;v<o;++v,g=_,m=b,E=P,d=N){var N=c[v],_=Tt(N),S=N[1]/2+yn,b=j(S),P=X(S),I=_-g,M=I>=0?1:-1,x=M*I,y=x>H,Y=m*b;if(h.add(He(Y*M*j(x),E*P+Y*X(x))),a+=y?I+M*oe:I,y^g>=n^_>=n){var D=Nt(ze(d),ze(N));Gt(D);var q=Nt(l,D);Gt(q);var w=(y^I>=0?-1:1)*Re(q[2]);(r>w||r===w&&(D[0]||D[1]))&&(f+=y^I>=0?1:-1)}}return(a<-z||a<z&&h<-ui)^f&1}function _r(e,t,n,r){return function(i){var l=t(i),a=vr(),f=t(a),h=!1,s,u,c,o={point:d,lineStart:p,lineEnd:m,polygonStart:function(){o.point=E,o.lineStart=v,o.lineEnd=N,u=[],s=[]},polygonEnd:function(){o.point=d,o.lineStart=p,o.lineEnd=m,u=mr(u);var _=di(s,r);u.length?(h||(i.polygonStart(),h=!0),wr(u,pi,_,n,i)):_&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(_,S){e(_,S)&&i.point(_,S)}function g(_,S){l.point(_,S)}function p(){o.point=g,l.lineStart()}function m(){o.point=d,l.lineEnd()}function E(_,S){c.push([_,S]),f.point(_,S)}function v(){f.lineStart(),c=[]}function N(){E(c[0][0],c[0][1]),f.lineEnd();var _=f.clean(),S=a.result(),b,P=S.length,I,M,x;if(c.pop(),s.push(c),c=null,!!P){if(_&1){if(M=S[0],(I=M.length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),b=0;b<I;++b)i.point((x=M[b])[0],x[1]);i.lineEnd()}return}P>1&&_&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(gi))}}return o}}function gi(e){return e.length>1}function pi(e,t){return((e=e.x)[0]<0?e[1]-ae-z:ae-e[1])-((t=t.x)[0]<0?t[1]-ae-z:ae-t[1])}const Cn=_r(function(){return!0},mi,wi,[-H,-ae]);function mi(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(l,a){var f=l>0?H:-H,h=U(l-t);U(h-H)<z?(e.point(t,n=(n+a)/2>0?ae:-ae),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(l,n),i=0):r!==f&&h>=H&&(U(t-r)<z&&(t-=r*z),U(l-f)<z&&(l-=f*z),n=vi(t,n,l,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=l,n=a),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function vi(e,t,n,r){var i,l,a=j(e-n);return U(a)>z?si((j(t)*(l=X(r))*j(n)-j(r)*(i=X(t))*j(e))/(i*l*a)):(t+r)/2}function wi(e,t,n,r){var i;if(e==null)i=n*ae,r.point(-H,i),r.point(0,i),r.point(H,i),r.point(H,0),r.point(H,-i),r.point(0,-i),r.point(-H,-i),r.point(-H,0),r.point(-H,i);else if(U(e[0]-t[0])>z){var l=e[0]<t[0]?H:-H;i=n*l/2,r.point(-l,i),r.point(0,i),r.point(l,i)}else r.point(t[0],t[1])}function _i(e){var t=X(e),n=2*ee,r=t>0,i=U(t)>z;function l(u,c,o,d){hi(d,e,n,o,u,c)}function a(u,c){return X(u)*X(c)>t}function f(u){var c,o,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(m,E){var v=[m,E],N,_=a(m,E),S=r?_?0:s(m,E):_?s(m+(m<0?H:-H),E):0;if(!c&&(g=d=_)&&u.lineStart(),_!==d&&(N=h(c,v),(!N||wt(c,N)||wt(v,N))&&(v[2]=1)),_!==d)p=0,_?(u.lineStart(),N=h(v,c),u.point(N[0],N[1])):(N=h(c,v),u.point(N[0],N[1],2),u.lineEnd()),c=N;else if(i&&c&&r^_){var b;!(S&o)&&(b=h(v,c,!0))&&(p=0,r?(u.lineStart(),u.point(b[0][0],b[0][1]),u.point(b[1][0],b[1][1]),u.lineEnd()):(u.point(b[1][0],b[1][1]),u.lineEnd(),u.lineStart(),u.point(b[0][0],b[0][1],3)))}_&&(!c||!wt(c,v))&&u.point(v[0],v[1]),c=v,d=_,o=S},lineEnd:function(){d&&u.lineEnd(),c=null},clean:function(){return p|(g&&d)<<1}}}function h(u,c,o){var d=ze(u),g=ze(c),p=[1,0,0],m=Nt(d,g),E=st(m,m),v=m[0],N=E-v*v;if(!N)return!o&&u;var _=t*E/N,S=-t*v/N,b=Nt(p,m),P=ft(p,_),I=ft(m,S);Vt(P,I);var M=b,x=st(P,M),y=st(M,M),Y=x*x-y*(st(P,P)-1);if(!(Y<0)){var D=Ee(Y),q=ft(M,(-x-D)/y);if(Vt(q,P),q=Xt(q),!o)return q;var w=u[0],L=c[0],R=u[1],O=c[1],B;L<w&&(B=w,w=L,L=B);var J=L-w,$=U(J-H)<z,re=$||J<z;if(!$&&O<R&&(B=R,R=O,O=B),re?$?R+O>0^q[1]<(U(q[0]-w)<z?R:O):R<=q[1]&&q[1]<=O:J>H^(w<=q[0]&&q[0]<=L)){var me=ft(M,(-x+D)/y);return Vt(me,P),[q,Xt(me)]}}}function s(u,c){var o=r?e:H-e,d=0;return u<-o?d|=1:u>o&&(d|=2),c<-o?d|=4:c>o&&(d|=8),d}return _r(a,f,l,r?[0,-e]:[-H,e-H])}function yi(e,t,n,r,i,l){var a=e[0],f=e[1],h=t[0],s=t[1],u=0,c=1,o=h-a,d=s-f,g;if(g=n-a,!(!o&&g>0)){if(g/=o,o<0){if(g<u)return;g<c&&(c=g)}else if(o>0){if(g>c)return;g>u&&(u=g)}if(g=i-a,!(!o&&g<0)){if(g/=o,o<0){if(g>c)return;g>u&&(u=g)}else if(o>0){if(g<u)return;g<c&&(c=g)}if(g=r-f,!(!d&&g>0)){if(g/=d,d<0){if(g<u)return;g<c&&(c=g)}else if(d>0){if(g>c)return;g>u&&(u=g)}if(g=l-f,!(!d&&g<0)){if(g/=d,d<0){if(g>c)return;g>u&&(u=g)}else if(d>0){if(g<u)return;g<c&&(c=g)}return u>0&&(e[0]=a+u*o,e[1]=f+u*d),c<1&&(t[0]=a+c*o,t[1]=f+c*d),!0}}}}}var Ue=1e9,ht=-Ue;function Ei(e,t,n,r){function i(s,u){return e<=s&&s<=n&&t<=u&&u<=r}function l(s,u,c,o){var d=0,g=0;if(s==null||(d=a(s,c))!==(g=a(u,c))||h(s,u)<0^c>0)do o.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+c+4)%4)!==g);else o.point(u[0],u[1])}function a(s,u){return U(s[0]-e)<z?u>0?0:3:U(s[0]-n)<z?u>0?2:1:U(s[1]-t)<z?u>0?1:0:u>0?3:2}function f(s,u){return h(s.x,u.x)}function h(s,u){var c=a(s,1),o=a(u,1);return c!==o?c-o:c===0?u[1]-s[1]:c===1?s[0]-u[0]:c===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,c=vr(),o,d,g,p,m,E,v,N,_,S,b,P={point:I,lineStart:Y,lineEnd:D,polygonStart:x,polygonEnd:y};function I(w,L){i(w,L)&&u.point(w,L)}function M(){for(var w=0,L=0,R=d.length;L<R;++L)for(var O=d[L],B=1,J=O.length,$=O[0],re,me,lt=$[0],Ve=$[1];B<J;++B)re=lt,me=Ve,$=O[B],lt=$[0],Ve=$[1],me<=r?Ve>r&&(lt-re)*(r-me)>(Ve-me)*(e-re)&&++w:Ve<=r&&(lt-re)*(r-me)<(Ve-me)*(e-re)&&--w;return w}function x(){u=c,o=[],d=[],b=!0}function y(){var w=M(),L=b&&w,R=(o=mr(o)).length;(L||R)&&(s.polygonStart(),L&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),R&&wr(o,f,w,l,s),s.polygonEnd()),u=s,o=d=g=null}function Y(){P.point=q,d&&d.push(g=[]),S=!0,_=!1,v=N=NaN}function D(){o&&(q(p,m),E&&_&&c.rejoin(),o.push(c.result())),P.point=I,_&&u.lineEnd()}function q(w,L){var R=i(w,L);if(d&&g.push([w,L]),S)p=w,m=L,E=R,S=!1,R&&(u.lineStart(),u.point(w,L));else if(R&&_)u.point(w,L);else{var O=[v=Math.max(ht,Math.min(Ue,v)),N=Math.max(ht,Math.min(Ue,N))],B=[w=Math.max(ht,Math.min(Ue,w)),L=Math.max(ht,Math.min(Ue,L))];yi(O,B,e,t,n,r)?(_||(u.lineStart(),u.point(O[0],O[1])),u.point(B[0],B[1]),R||u.lineEnd(),b=!1):R&&(u.lineStart(),u.point(w,L),b=!1)}v=w,N=L,_=R}return P}}const Qt=e=>e;var Ft=new Ie,Kt=new Ie,yr,Er,Jt,$t,ve={point:le,lineStart:le,lineEnd:le,polygonStart:function(){ve.lineStart=Ni,ve.lineEnd=Si},polygonEnd:function(){ve.lineStart=ve.lineEnd=ve.point=le,Ft.add(U(Kt)),Kt=new Ie},result:function(){var e=Ft/2;return Ft=new Ie,e}};function Ni(){ve.point=bi}function bi(e,t){ve.point=Nr,yr=Jt=e,Er=$t=t}function Nr(e,t){Kt.add($t*e-Jt*t),Jt=e,$t=t}function Si(){Nr(yr,Er)}var Be=1/0,bt=Be,et=-Be,St=et,Mt={point:Mi,lineStart:le,lineEnd:le,polygonStart:le,polygonEnd:le,result:function(){var e=[[Be,bt],[et,St]];return et=St=-(bt=Be=1/0),e}};function Mi(e,t){e<Be&&(Be=e),e>et&&(et=e),t<bt&&(bt=t),t>St&&(St=t)}var en=0,tn=0,Xe=0,xt=0,kt=0,Fe=0,nn=0,rn=0,Ge=0,br,Sr,he,de,ie={point:Ye,lineStart:Pn,lineEnd:In,polygonStart:function(){ie.lineStart=Ai,ie.lineEnd=Ci},polygonEnd:function(){ie.point=Ye,ie.lineStart=Pn,ie.lineEnd=In},result:function(){var e=Ge?[nn/Ge,rn/Ge]:Fe?[xt/Fe,kt/Fe]:Xe?[en/Xe,tn/Xe]:[NaN,NaN];return en=tn=Xe=xt=kt=Fe=nn=rn=Ge=0,e}};function Ye(e,t){en+=e,tn+=t,++Xe}function Pn(){ie.point=xi}function xi(e,t){ie.point=ki,Ye(he=e,de=t)}function ki(e,t){var n=e-he,r=t-de,i=Ee(n*n+r*r);xt+=i*(he+e)/2,kt+=i*(de+t)/2,Fe+=i,Ye(he=e,de=t)}function In(){ie.point=Ye}function Ai(){ie.point=Pi}function Ci(){Mr(br,Sr)}function Pi(e,t){ie.point=Mr,Ye(br=he=e,Sr=de=t)}function Mr(e,t){var n=e-he,r=t-de,i=Ee(n*n+r*r);xt+=i*(he+e)/2,kt+=i*(de+t)/2,Fe+=i,i=de*e-he*t,nn+=i*(he+e),rn+=i*(de+t),Ge+=i*3,Ye(he=e,de=t)}function xr(e){this._context=e}xr.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,oe);break}}},result:le};var an=new Ie,Ot,kr,Ar,We,Ze,tt={point:le,lineStart:function(){tt.point=Ii},lineEnd:function(){Ot&&Cr(kr,Ar),tt.point=le},polygonStart:function(){Ot=!0},polygonEnd:function(){Ot=null},result:function(){var e=+an;return an=new Ie,e}};function Ii(e,t){tt.point=Cr,kr=We=e,Ar=Ze=t}function Cr(e,t){We-=e,Ze-=t,an.add(Ee(We*We+Ze*Ze)),We=e,Ze=t}let Rn,At,Yn,Dn;class qn{constructor(t){this._append=t==null?Pr:Ri(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Yn||this._append!==At){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Yn=r,At=this._append,Dn=this._,this._=i}this._+=Dn;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Pr(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ri(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Pr;if(t!==Rn){const n=10**t;Rn=t,At=function(i){let l=1;this._+=i[0];for(const a=i.length;l<a;++l)this._+=Math.round(arguments[l]*n)/n+i[l]}}return At}function Yi(e,t){let n=3,r=4.5,i,l;function a(f){return f&&(typeof r=="function"&&l.pointRadius(+r.apply(this,arguments)),Te(f,i(l))),l.result()}return a.area=function(f){return Te(f,i(ve)),ve.result()},a.measure=function(f){return Te(f,i(tt)),tt.result()},a.bounds=function(f){return Te(f,i(Mt)),Mt.result()},a.centroid=function(f){return Te(f,i(ie)),ie.result()},a.projection=function(f){return arguments.length?(i=f==null?(e=null,Qt):(e=f).stream,a):e},a.context=function(f){return arguments.length?(l=f==null?(t=null,new qn(n)):new xr(t=f),typeof r!="function"&&l.pointRadius(r),a):t},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(l.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const h=Math.floor(f);if(!(h>=0))throw new RangeError(`invalid digits: ${f}`);n=h}return t===null&&(l=new qn(n)),a},a.projection(e).digits(n).context(t)}function hn(e){return function(t){var n=new ln;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ln(){}ln.prototype={constructor:ln,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dn(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Te(n,e.stream(Mt)),t(Mt.result()),r!=null&&e.clipExtent(r),e}function gn(e,t,n){return dn(e,function(r){var i=t[1][0]-t[0][0],l=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),l/(r[1][1]-r[0][1])),f=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,h=+t[0][1]+(l-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([f,h])},n)}function Ir(e,t,n){return gn(e,[[0,0],t],n)}function Rr(e,t,n){return dn(e,function(r){var i=+t,l=i/(r[1][0]-r[0][0]),a=(i-l*(r[1][0]+r[0][0]))/2,f=-l*r[0][1];e.scale(150*l).translate([a,f])},n)}function Yr(e,t,n){return dn(e,function(r){var i=+t,l=i/(r[1][1]-r[0][1]),a=-l*r[0][0],f=(i-l*(r[1][1]+r[0][1]))/2;e.scale(150*l).translate([a,f])},n)}var Ln=16,Di=X(30*ee);function Vn(e,t){return+t?Li(e,t):qi(e)}function qi(e){return hn({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Li(e,t){function n(r,i,l,a,f,h,s,u,c,o,d,g,p,m){var E=s-r,v=u-i,N=E*E+v*v;if(N>4*t&&p--){var _=a+o,S=f+d,b=h+g,P=Ee(_*_+S*S+b*b),I=Re(b/=P),M=U(U(b)-1)<z||U(l-c)<z?(l+c)/2:He(S,_),x=e(M,I),y=x[0],Y=x[1],D=y-r,q=Y-i,w=v*D-E*q;(w*w/N>t||U((E*D+v*q)/N-.5)>.3||a*o+f*d+h*g<Di)&&(n(r,i,l,a,f,h,y,Y,M,_/=P,S/=P,b,p,m),m.point(y,Y),n(y,Y,M,_,S,b,s,u,c,o,d,g,p,m))}}return function(r){var i,l,a,f,h,s,u,c,o,d,g,p,m={point:E,lineStart:v,lineEnd:_,polygonStart:function(){r.polygonStart(),m.lineStart=S},polygonEnd:function(){r.polygonEnd(),m.lineStart=v}};function E(I,M){I=e(I,M),r.point(I[0],I[1])}function v(){c=NaN,m.point=N,r.lineStart()}function N(I,M){var x=ze([I,M]),y=e(I,M);n(c,o,u,d,g,p,c=y[0],o=y[1],u=I,d=x[0],g=x[1],p=x[2],Ln,r),r.point(c,o)}function _(){m.point=E,r.lineEnd()}function S(){v(),m.point=b,m.lineEnd=P}function b(I,M){N(i=I,M),l=c,a=o,f=d,h=g,s=p,m.point=N}function P(){n(c,o,u,d,g,p,l,a,i,f,h,s,Ln,r),m.lineEnd=_,_()}return m}}var Vi=hn({point:function(e,t){this.stream.point(e*ee,t*ee)}});function Ti(e){return hn({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Fi(e,t,n,r,i){function l(a,f){return a*=r,f*=i,[t+e*a,n-e*f]}return l.invert=function(a,f){return[(a-t)/e*r,(n-f)/e*i]},l}function Tn(e,t,n,r,i,l){if(!l)return Fi(e,t,n,r,i);var a=X(l),f=j(l),h=a*e,s=f*e,u=a/e,c=f/e,o=(f*n-a*t)/e,d=(f*t+a*n)/e;function g(p,m){return p*=r,m*=i,[h*p-s*m+t,n-s*p-h*m]}return g.invert=function(p,m){return[r*(u*p-c*m+o),i*(d-c*p-u*m)]},g}function Oi(e){var t,n=150,r=480,i=250,l=0,a=0,f=0,h=0,s=0,u,c=0,o=1,d=1,g=null,p=Cn,m=null,E,v,N,_=Qt,S=.5,b,P,I,M,x;function y(w){return I(w[0]*ee,w[1]*ee)}function Y(w){return w=I.invert(w[0],w[1]),w&&[w[0]*ue,w[1]*ue]}y.stream=function(w){return M&&x===w?M:M=Vi(Ti(u)(p(b(_(x=w)))))},y.preclip=function(w){return arguments.length?(p=w,g=void 0,q()):p},y.postclip=function(w){return arguments.length?(_=w,m=E=v=N=null,q()):_},y.clipAngle=function(w){return arguments.length?(p=+w?_i(g=w*ee):(g=null,Cn),q()):g*ue},y.clipExtent=function(w){return arguments.length?(_=w==null?(m=E=v=N=null,Qt):Ei(m=+w[0][0],E=+w[0][1],v=+w[1][0],N=+w[1][1]),q()):m==null?null:[[m,E],[v,N]]},y.scale=function(w){return arguments.length?(n=+w,D()):n},y.translate=function(w){return arguments.length?(r=+w[0],i=+w[1],D()):[r,i]},y.center=function(w){return arguments.length?(l=w[0]%360*ee,a=w[1]%360*ee,D()):[l*ue,a*ue]},y.rotate=function(w){return arguments.length?(f=w[0]%360*ee,h=w[1]%360*ee,s=w.length>2?w[2]%360*ee:0,D()):[f*ue,h*ue,s*ue]},y.angle=function(w){return arguments.length?(c=w%360*ee,D()):c*ue},y.reflectX=function(w){return arguments.length?(o=w?-1:1,D()):o<0},y.reflectY=function(w){return arguments.length?(d=w?-1:1,D()):d<0},y.precision=function(w){return arguments.length?(b=Vn(P,S=w*w),q()):Ee(S)},y.fitExtent=function(w,L){return gn(y,w,L)},y.fitSize=function(w,L){return Ir(y,w,L)},y.fitWidth=function(w,L){return Rr(y,w,L)},y.fitHeight=function(w,L){return Yr(y,w,L)};function D(){var w=Tn(n,0,0,o,d,c).apply(null,t(l,a)),L=Tn(n,r-w[0],i-w[1],o,d,c);return u=ci(f,h,s),P=Wt(t,L),I=Wt(u,P),b=Vn(P,S),q()}function q(){return M=x=null,y}return function(){return t=e.apply(this,arguments),y.invert=t.invert&&Y,D()}}function Hi(e){var t=0,n=H/3,r=Oi(e),i=r(t,n);return i.parallels=function(l){return arguments.length?r(t=l[0]*ee,n=l[1]*ee):[t*ue,n*ue]},i}function zi(e){var t=X(e);function n(r,i){return[r*t,j(i)/t]}return n.invert=function(r,i){return[r/t,Re(i*t)]},n}function Bi(e,t){var n=j(e),r=(n+j(t))/2;if(U(r)<z)return zi(e);var i=1+n*(2*r-n),l=Ee(i)/r;function a(f,h){var s=Ee(i-2*r*j(h))/r;return[s*j(f*=r),l-s*X(f)]}return a.invert=function(f,h){var s=l-h,u=He(f,U(s))*vt(s);return s*r<0&&(u-=H*vt(f)*vt(s)),[u/r,Re((i-(f*f+s*s)*r*r)/(2*r))]},a}function on(){return Hi(Bi).scale(155.424).center([0,33.6442])}function ji(){return on().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ui(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Xi(){var e,t,n=ji(),r,i=on().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l,a=on().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,h,s={point:function(o,d){h=[o,d]}};function u(o){var d=o[0],g=o[1];return h=null,r.point(d,g),h||(l.point(d,g),h)||(f.point(d,g),h)}u.invert=function(o){var d=n.scale(),g=n.translate(),p=(o[0]-g[0])/d,m=(o[1]-g[1])/d;return(m>=.12&&m<.234&&p>=-.425&&p<-.214?i:m>=.166&&m<.234&&p>=-.214&&p<-.115?a:n).invert(o)},u.stream=function(o){return e&&t===o?e:e=Ui([n.stream(t=o),i.stream(o),a.stream(o)])},u.precision=function(o){return arguments.length?(n.precision(o),i.precision(o),a.precision(o),c()):n.precision()},u.scale=function(o){return arguments.length?(n.scale(o),i.scale(o*.35),a.scale(o),u.translate(n.translate())):n.scale()},u.translate=function(o){if(!arguments.length)return n.translate();var d=n.scale(),g=+o[0],p=+o[1];return r=n.translate(o).clipExtent([[g-.455*d,p-.238*d],[g+.455*d,p+.238*d]]).stream(s),l=i.translate([g-.307*d,p+.201*d]).clipExtent([[g-.425*d+z,p+.12*d+z],[g-.214*d-z,p+.234*d-z]]).stream(s),f=a.translate([g-.205*d,p+.212*d]).clipExtent([[g-.214*d+z,p+.166*d+z],[g-.115*d-z,p+.234*d-z]]).stream(s),c()},u.fitExtent=function(o,d){return gn(u,o,d)},u.fitSize=function(o,d){return Ir(u,o,d)},u.fitWidth=function(o,d){return Rr(u,o,d)},u.fitHeight=function(o,d){return Yr(u,o,d)};function c(){return e=t=null,u}return u.scale(1070)}function Gi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Dr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function at(){}var nt=.7,Ct=1/nt,Oe="\\s*([+-]?\\d+)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wi=/^#([0-9a-f]{3,8})$/,Zi=new RegExp(`^rgb\\(${Oe},${Oe},${Oe}\\)$`),Qi=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),Ki=new RegExp(`^rgba\\(${Oe},${Oe},${Oe},${rt}\\)$`),Ji=new RegExp(`^rgba\\(${pe},${pe},${pe},${rt}\\)$`),$i=new RegExp(`^hsl\\(${rt},${pe},${pe}\\)$`),ea=new RegExp(`^hsla\\(${rt},${pe},${pe},${rt}\\)$`),Fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pn(at,it,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:On,formatHex:On,formatHex8:ta,formatHsl:na,formatRgb:Hn,toString:Hn});function On(){return this.rgb().formatHex()}function ta(){return this.rgb().formatHex8()}function na(){return qr(this).formatHsl()}function Hn(){return this.rgb().formatRgb()}function it(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zn(t):n===3?new te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zi.exec(e))?new te(t[1],t[2],t[3],1):(t=Qi.exec(e))?new te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ki.exec(e))?dt(t[1],t[2],t[3],t[4]):(t=Ji.exec(e))?dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$i.exec(e))?Un(t[1],t[2]/100,t[3]/100,1):(t=ea.exec(e))?Un(t[1],t[2]/100,t[3]/100,t[4]):Fn.hasOwnProperty(e)?zn(Fn[e]):e==="transparent"?new te(NaN,NaN,NaN,0):null}function zn(e){return new te(e>>16&255,e>>8&255,e&255,1)}function dt(e,t,n,r){return r<=0&&(e=t=n=NaN),new te(e,t,n,r)}function ra(e){return e instanceof at||(e=it(e)),e?(e=e.rgb(),new te(e.r,e.g,e.b,e.opacity)):new te}function un(e,t,n,r){return arguments.length===1?ra(e):new te(e,t,n,r??1)}function te(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pn(te,un,Dr(at,{brighter(e){return e=e==null?Ct:Math.pow(Ct,e),new te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nt:Math.pow(nt,e),new te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new te(Pe(this.r),Pe(this.g),Pe(this.b),Pt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bn,formatHex:Bn,formatHex8:ia,formatRgb:jn,toString:jn}));function Bn(){return`#${Ce(this.r)}${Ce(this.g)}${Ce(this.b)}`}function ia(){return`#${Ce(this.r)}${Ce(this.g)}${Ce(this.b)}${Ce((isNaN(this.opacity)?1:this.opacity)*255)}`}function jn(){const e=Pt(this.opacity);return`${e===1?"rgb(":"rgba("}${Pe(this.r)}, ${Pe(this.g)}, ${Pe(this.b)}${e===1?")":`, ${e})`}`}function Pt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ce(e){return e=Pe(e),(e<16?"0":"")+e.toString(16)}function Un(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new se(e,t,n,r)}function qr(e){if(e instanceof se)return new se(e.h,e.s,e.l,e.opacity);if(e instanceof at||(e=it(e)),!e)return new se;if(e instanceof se)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),a=NaN,f=l-i,h=(l+i)/2;return f?(t===l?a=(n-r)/f+(n<r)*6:n===l?a=(r-t)/f+2:a=(t-n)/f+4,f/=h<.5?l+i:2-l-i,a*=60):f=h>0&&h<1?0:a,new se(a,f,h,e.opacity)}function aa(e,t,n,r){return arguments.length===1?qr(e):new se(e,t,n,r??1)}function se(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pn(se,aa,Dr(at,{brighter(e){return e=e==null?Ct:Math.pow(Ct,e),new se(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nt:Math.pow(nt,e),new se(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new te(Ht(e>=240?e-240:e+120,i,r),Ht(e,i,r),Ht(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new se(Xn(this.h),gt(this.s),gt(this.l),Pt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pt(this.opacity);return`${e===1?"hsl(":"hsla("}${Xn(this.h)}, ${gt(this.s)*100}%, ${gt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xn(e){return e=(e||0)%360,e<0?e+360:e}function gt(e){return Math.max(0,Math.min(1,e||0))}function Ht(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mn=e=>()=>e;function la(e,t){return function(n){return e+n*t}}function oa(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ua(e){return(e=+e)==1?Lr:function(t,n){return n-t?oa(t,n,e):mn(isNaN(t)?n:t)}}function Lr(e,t){var n=t-e;return n?la(e,n):mn(isNaN(e)?t:e)}const Gn=function e(t){var n=ua(t);function r(i,l){var a=n((i=un(i)).r,(l=un(l)).r),f=n(i.g,l.g),h=n(i.b,l.b),s=Lr(i.opacity,l.opacity);return function(u){return i.r=a(u),i.g=f(u),i.b=h(u),i.opacity=s(u),i+""}}return r.gamma=e,r}(1);function sa(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=e[i]*(1-l)+t[i]*l;return r}}function fa(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ca(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n),a;for(a=0;a<r;++a)i[a]=vn(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(f){for(a=0;a<r;++a)l[a]=i[a](f);return l}}function ha(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function It(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function da(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=vn(e[i],t[i]):r[i]=t[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var sn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zt=new RegExp(sn.source,"g");function ga(e){return function(){return e}}function pa(e){return function(t){return e(t)+""}}function ma(e,t){var n=sn.lastIndex=zt.lastIndex=0,r,i,l,a=-1,f=[],h=[];for(e=e+"",t=t+"";(r=sn.exec(e))&&(i=zt.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),f[a]?f[a]+=l:f[++a]=l),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,h.push({i:a,x:It(r,i)})),n=zt.lastIndex;return n<t.length&&(l=t.slice(n),f[a]?f[a]+=l:f[++a]=l),f.length<2?h[0]?pa(h[0].x):ga(t):(t=h.length,function(s){for(var u=0,c;u<t;++u)f[(c=h[u]).i]=c.x(s);return f.join("")})}function vn(e,t){var n=typeof t,r;return t==null||n==="boolean"?mn(t):(n==="number"?It:n==="string"?(r=it(t))?(t=r,Gn):ma:t instanceof it?Gn:t instanceof Date?ha:fa(t)?sa:Array.isArray(t)?ca:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?da:It)(e,t)}function va(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wa(e){return function(){return e}}function _a(e){return+e}var Wn=[0,1];function be(e){return e}function fn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:wa(isNaN(t)?NaN:.5)}function ya(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ea(e,t,n){var r=e[0],i=e[1],l=t[0],a=t[1];return i<r?(r=fn(i,r),l=n(a,l)):(r=fn(r,i),l=n(l,a)),function(f){return l(r(f))}}function Na(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),l=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=fn(e[a],e[a+1]),l[a]=n(t[a],t[a+1]);return function(f){var h=ti(e,f,1,r)-1;return l[h](i[h](f))}}function ba(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sa(){var e=Wn,t=Wn,n=vn,r,i,l,a=be,f,h,s;function u(){var o=Math.min(e.length,t.length);return a!==be&&(a=ya(e[0],e[o-1])),f=o>2?Na:Ea,h=s=null,c}function c(o){return o==null||isNaN(o=+o)?l:(h||(h=f(e.map(r),t,n)))(r(a(o)))}return c.invert=function(o){return a(i((s||(s=f(t,e.map(r),It)))(o)))},c.domain=function(o){return arguments.length?(e=Array.from(o,_a),u()):e.slice()},c.range=function(o){return arguments.length?(t=Array.from(o),u()):t.slice()},c.rangeRound=function(o){return t=Array.from(o),n=va,u()},c.clamp=function(o){return arguments.length?(a=o?!0:be,u()):a!==be},c.interpolate=function(o){return arguments.length?(n=o,u()):n},c.unknown=function(o){return arguments.length?(l=o,c):l},function(o,d){return r=o,i=d,u()}}function Ma(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function je(e){return e=Rt(Math.abs(e)),e?e[1]:NaN}function xa(e,t){return function(n,r){for(var i=n.length,l=[],a=0,f=e[0],h=0;i>0&&f>0&&(h+f+1>r&&(f=Math.max(1,r-h)),l.push(n.substring(i-=f,i+f)),!((h+=f+1)>r));)f=e[a=(a+1)%e.length];return l.reverse().join(t)}}function ka(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yt(e){if(!(t=Aa.exec(e)))throw new Error("invalid format: "+e);var t;return new wn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yt.prototype=wn.prototype;function wn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}wn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ca(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Vr;function Pa(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1],l=i-(Vr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return l===a?r:l>a?r+new Array(l-a+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Rt(e,Math.max(0,t+l-1))[0]}function Zn(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ma,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zn(e*100,t),r:Zn,s:Pa,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kn(e){return e}var Jn=Array.prototype.map,$n=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ia(e){var t=e.grouping===void 0||e.thousands===void 0?Kn:xa(Jn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?Kn:ka(Jn.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function s(c){c=Yt(c);var o=c.fill,d=c.align,g=c.sign,p=c.symbol,m=c.zero,E=c.width,v=c.comma,N=c.precision,_=c.trim,S=c.type;S==="n"?(v=!0,S="g"):Qn[S]||(N===void 0&&(N=12),_=!0,S="g"),(m||o==="0"&&d==="=")&&(m=!0,o="0",d="=");var b=p==="$"?n:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=p==="$"?r:/[%p]/.test(S)?a:"",I=Qn[S],M=/[defgprs%]/.test(S);N=N===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function x(y){var Y=b,D=P,q,w,L;if(S==="c")D=I(y)+D,y="";else{y=+y;var R=y<0||1/y<0;if(y=isNaN(y)?h:I(Math.abs(y),N),_&&(y=Ca(y)),R&&+y==0&&g!=="+"&&(R=!1),Y=(R?g==="("?g:f:g==="-"||g==="("?"":g)+Y,D=(S==="s"?$n[8+Vr/3]:"")+D+(R&&g==="("?")":""),M){for(q=-1,w=y.length;++q<w;)if(L=y.charCodeAt(q),48>L||L>57){D=(L===46?i+y.slice(q+1):y.slice(q))+D,y=y.slice(0,q);break}}}v&&!m&&(y=t(y,1/0));var O=Y.length+y.length+D.length,B=O<E?new Array(E-O+1).join(o):"";switch(v&&m&&(y=t(B+y,B.length?E-D.length:1/0),B=""),d){case"<":y=Y+y+D+B;break;case"=":y=Y+B+y+D;break;case"^":y=B.slice(0,O=B.length>>1)+Y+y+D+B.slice(O);break;default:y=B+Y+y+D;break}return l(y)}return x.toString=function(){return c+""},x}function u(c,o){var d=s((c=Yt(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(je(o)/3)))*3,p=Math.pow(10,-g),m=$n[8+g/3];return function(E){return d(p*E)+m}}return{format:s,formatPrefix:u}}var pt,Tr,Fr;Ra({thousands:",",grouping:[3],currency:["$",""]});function Ra(e){return pt=Ia(e),Tr=pt.format,Fr=pt.formatPrefix,pt}function Ya(e){return Math.max(0,-je(Math.abs(e)))}function Da(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(je(t)/3)))*3-je(Math.abs(e)))}function qa(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,je(t)-je(e))+1}function La(e,t,n,r){var i=li(e,t,n),l;switch(r=Yt(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=Da(i,a))&&(r.precision=l),Fr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=qa(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=Ya(i))&&(r.precision=l-(r.type==="%")*2);break}}return Tr(r)}function Va(e){var t=e.domain;return e.ticks=function(n){var r=t();return ai(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return La(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,l=r.length-1,a=r[i],f=r[l],h,s,u=10;for(f<a&&(s=a,a=f,f=s,s=i,i=l,l=s);u-- >0;){if(s=jt(a,f,n),s===h)return r[i]=a,r[l]=f,t(r);if(s>0)a=Math.floor(a/s)*s,f=Math.ceil(f/s)*s;else if(s<0)a=Math.ceil(a*s)/s,f=Math.floor(f*s)/s;else break;h=s}return e},e}function er(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ta(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fa(e){return e<0?-e*e:e*e}function Oa(e){var t=e(be,be),n=1;function r(){return n===1?e(be,be):n===.5?e(Ta,Fa):e(er(n),er(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Va(t)}function Or(){var e=Oa(Sa());return e.copy=function(){return ba(e,Or()).exponent(e.exponent())},Gi.apply(e,arguments),e}function Ha(){return Or.apply(null,arguments).exponent(.5)}function tr(e,t,n){const r=e.slice();return r[14]=t[n].cx,r[15]=t[n].cy,r[16]=t[n].count,r}function nr(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function rr(e){let t,n;return{c(){t=Qe("path"),this.h()},l(r){t=Ke(r,"path",{d:!0,class:!0}),F(t).forEach(C),this.h()},h(){A(t,"d",n=e[4](e[19])),A(t,"class","country svelte-dpwry7")},m(r,i){Z(r,t,i)},p(r,i){i&1&&n!==(n=r[4](r[19]))&&A(t,"d",n)},d(r){r&&C(t)}}}function ir(e){let t,n,r,i;return{c(){t=Qe("circle"),this.h()},l(l){t=Ke(l,"circle",{cx:!0,cy:!0,r:!0,class:!0}),F(t).forEach(C),this.h()},h(){A(t,"cx",n=e[14]),A(t,"cy",r=e[15]),A(t,"r",i=e[5](e[16])),A(t,"class","point svelte-dpwry7")},m(l,a){Z(l,t,a)},p(l,a){a&8&&n!==(n=l[14])&&A(t,"cx",n),a&8&&r!==(r=l[15])&&A(t,"cy",r),a&8&&i!==(i=l[5](l[16]))&&A(t,"r",i)},d(l){l&&C(t)}}}function ar(e){let t,n=e[14]&&e[15]&&ir(e);return{c(){n&&n.c(),t=_t()},l(r){n&&n.l(r),t=_t()},m(r,i){n&&n.m(r,i),Z(r,t,i)},p(r,i){r[14]&&r[15]?n?n.p(r,i):(n=ir(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&C(t),n&&n.d(r)}}}function za(e){let t,n,r,i,l,a=ge(e[0]),f=[];for(let u=0;u<a.length;u+=1)f[u]=rr(nr(e,a,u));let h=ge(e[3]),s=[];for(let u=0;u<h.length;u+=1)s[u]=ar(tr(e,h,u));return{c(){t=V("article"),n=Qe("svg"),r=Qe("g");for(let u=0;u<f.length;u+=1)f[u].c();i=Qe("g");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){t=T(u,"ARTICLE",{class:!0});var c=F(t);n=Ke(c,"svg",{viewBox:!0});var o=F(n);r=Ke(o,"g",{fill:!0,stroke:!0});var d=F(r);for(let p=0;p<f.length;p+=1)f[p].l(d);d.forEach(C),i=Ke(o,"g",{class:!0});var g=F(i);for(let p=0;p<s.length;p+=1)s[p].l(g);g.forEach(C),o.forEach(C),c.forEach(C),this.h()},h(){A(r,"fill","white"),A(r,"stroke","black"),A(i,"class","points"),A(n,"viewBox","0 0 975 610"),A(t,"class","container svelte-dpwry7"),Hr(()=>e[9].call(t))},m(u,c){Z(u,t,c),k(t,n),k(n,r);for(let o=0;o<f.length;o+=1)f[o]&&f[o].m(r,null);k(n,i);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(i,null);l=zr(t,e[9].bind(t))},p(u,[c]){if(c&17){a=ge(u[0]);let o;for(o=0;o<a.length;o+=1){const d=nr(u,a,o);f[o]?f[o].p(d,c):(f[o]=rr(d),f[o].c(),f[o].m(r,null))}for(;o<f.length;o+=1)f[o].d(1);f.length=a.length}if(c&40){h=ge(u[3]);let o;for(o=0;o<h.length;o+=1){const d=tr(u,h,o);s[o]?s[o].p(d,c):(s[o]=ar(d),s[o].c(),s[o].m(i,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=h.length}},i:ne,o:ne,d(u){u&&C(t),$e(f,u),$e(s,u),l()}}}function Ba(e,t,n){let r,{data:i=[]}=t,{itemName:l}=t,{agencyName:a}=t,f=[],h,s;gr(async()=>{const p=await fetch("us.json").then(m=>m.json());n(0,f=Zr(p,p.objects.states).features)});let u=Xi().scale(1300).translate([487.5,305]),c=Yi().projection(null);function o(p){const m=new Map;return p.forEach(E=>{const v=u([E.Longitude,E.Latitude]);if(!v)return;const[N,_]=v,S=`${N}-${_}`;m.has(S)||m.set(S,{...E,cx:N,cy:_,count:0}),m.get(S).count+=1}),Array.from(m.values())}function d(p){return Ha().domain([1,Math.max(...r.map(N=>N.count))]).range([3,30])(p)}function g(){h=this.clientWidth,s=this.clientHeight,n(1,h),n(2,s)}return e.$$set=p=>{"data"in p&&n(6,i=p.data),"itemName"in p&&n(7,l=p.itemName),"agencyName"in p&&n(8,a=p.agencyName)},e.$$.update=()=>{e.$$.dirty&64&&n(3,r=o(i))},[f,h,s,r,c,d,i,l,a,g]}class ja extends qe{constructor(t){super(),Le(this,t,Ba,za,De,{data:6,itemName:7,agencyName:8})}}function lr(e,t,n){const r=e.slice();return r[11]=t[n],r}function or(e){let t,n=e[11]+"",r,i,l,a;function f(){return e[8](e[11])}return{c(){t=V("div"),r=Q(n),i=G(),this.h()},l(h){t=T(h,"DIV",{class:!0});var s=F(t);r=K(s,n),i=W(s),s.forEach(C),this.h()},h(){A(t,"class","svelte-mie8sr")},m(h,s){Z(h,t,s),k(t,r),k(t,i),l||(a=ye(t,"click",f),l=!0)},p(h,s){e=h,s&4&&n!==(n=e[11]+"")&&fe(r,n)},d(h){h&&C(t),l=!1,a()}}}function Ua(e){let t,n,r,i,l,a,f=ge(e[2]),h=[];for(let s=0;s<f.length;s+=1)h[s]=or(lr(e,f,s));return{c(){t=V("div"),n=V("input"),r=G(),i=V("div");for(let s=0;s<h.length;s+=1)h[s].c();this.h()},l(s){t=T(s,"DIV",{class:!0});var u=F(t);n=T(u,"INPUT",{type:!0,placeholder:!0,class:!0}),r=W(u),i=T(u,"DIV",{class:!0});var c=F(i);for(let o=0;o<h.length;o+=1)h[o].l(c);c.forEach(C),u.forEach(C),this.h()},h(){A(n,"type","text"),A(n,"placeholder",e[0]),A(n,"class","svelte-mie8sr"),A(i,"class","dropdown-content svelte-mie8sr"),A(t,"class","dropdown svelte-mie8sr")},m(s,u){Z(s,t,u),k(t,n),Je(n,e[1]),k(t,r),k(t,i);for(let c=0;c<h.length;c+=1)h[c]&&h[c].m(i,null);l||(a=[ye(n,"input",e[7]),ye(n,"input",e[4])],l=!0)},p(s,[u]){if(u&1&&A(n,"placeholder",s[0]),u&2&&n.value!==s[1]&&Je(n,s[1]),u&12){f=ge(s[2]);let c;for(c=0;c<f.length;c+=1){const o=lr(s,f,c);h[c]?h[c].p(o,u):(h[c]=or(o),h[c].c(),h[c].m(i,null))}for(;c<h.length;c+=1)h[c].d(1);h.length=f.length}},i:ne,o:ne,d(s){s&&C(t),$e(h,s),l=!1,cn(a)}}}function Xa(e,t,n){let r,{options:i=[]}=t,{placeholder:l=""}=t,{selected:a=""}=t;const f=Br();let h="";function s(d){n(5,a=d),n(1,h=d),f("select",d)}function u(d){n(1,h=d.target.value),f("input",h)}function c(){h=this.value,n(1,h),n(5,a)}const o=d=>s(d);return e.$$set=d=>{"options"in d&&n(6,i=d.options),"placeholder"in d&&n(0,l=d.placeholder),"selected"in d&&n(5,a=d.selected)},e.$$.update=()=>{e.$$.dirty&32&&n(1,h=a),e.$$.dirty&66&&n(2,r=i.filter(d=>d.toLowerCase().includes(h.toLowerCase())).sort())},[l,h,r,s,u,a,i,c,o]}class ur extends qe{constructor(t){super(),Le(this,t,Xa,Ua,De,{options:6,placeholder:0,selected:5})}}function Ga(e){let t,n,r,i,l,a,f,h,s,u,c,o,d;return{c(){t=V("div"),n=V("div"),r=V("div"),i=G(),l=V("div"),a=V("span"),f=Q(e[0]),h=G(),s=V("div"),u=V("span"),c=Q(e[1]),this.h()},l(g){t=T(g,"DIV",{class:!0});var p=F(t);n=T(p,"DIV",{class:!0});var m=F(n);r=T(m,"DIV",{class:!0,style:!0}),F(r).forEach(C),i=W(m),l=T(m,"DIV",{class:!0,"data-which":!0,style:!0});var E=F(l);a=T(E,"SPAN",{class:!0});var v=F(a);f=K(v,e[0]),v.forEach(C),E.forEach(C),h=W(m),s=T(m,"DIV",{class:!0,"data-which":!0,style:!0});var N=F(s);u=T(N,"SPAN",{class:!0});var _=F(u);c=K(_,e[1]),_.forEach(C),N.forEach(C),m.forEach(C),p.forEach(C),this.h()},h(){A(r,"class","body svelte-1as0dqw"),ce(r,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),ce(r,"right",100*(1-(e[1]-e[2])/(e[3]-e[2]))+"%"),A(a,"class","svelte-1as0dqw"),A(l,"class","handle svelte-1as0dqw"),A(l,"data-which","start"),ce(l,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),A(u,"class","svelte-1as0dqw"),A(s,"class","handle svelte-1as0dqw"),A(s,"data-which","end"),ce(s,"left",100*((e[1]-e[2])/(e[3]-e[2]))+"%"),A(n,"class","slider svelte-1as0dqw"),A(t,"class","double-range-container svelte-1as0dqw")},m(g,p){Z(g,t,p),k(t,n),k(n,r),e[9](r),k(n,i),k(n,l),k(l,a),k(a,f),e[10](l),k(n,h),k(n,s),k(s,u),k(u,c),e[11](n),o||(d=[Dt(Bt.call(null,r)),ye(r,"dragmove",qt(Lt(e[8]))),Dt(Bt.call(null,l)),ye(l,"dragmove",qt(Lt(e[7]("start")))),Dt(Bt.call(null,s)),ye(s,"dragmove",qt(Lt(e[7]("end"))))],o=!0)},p(g,[p]){p&13&&ce(r,"left",100*((g[0]-g[2])/(g[3]-g[2]))+"%"),p&14&&ce(r,"right",100*(1-(g[1]-g[2])/(g[3]-g[2]))+"%"),p&1&&fe(f,g[0]),p&13&&ce(l,"left",100*((g[0]-g[2])/(g[3]-g[2]))+"%"),p&2&&fe(c,g[1]),p&14&&ce(s,"left",100*((g[1]-g[2])/(g[3]-g[2]))+"%")},i:ne,o:ne,d(g){g&&C(t),e[9](null),e[10](null),e[11](null),o=!1,cn(d)}}}function sr(e,t,n){return e<t?t:e>n?n:e}function Bt(e){let t,n;function r(a){a.type==="touchstart"&&(a=a.touches[0]),t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:t,y:n}})),window.addEventListener("mousemove",i),window.addEventListener("mouseup",l),window.addEventListener("touchmove",i),window.addEventListener("touchend",l)}function i(a){a.type==="touchmove"&&(a=a.changedTouches[0]);const f=a.clientX-t,h=a.clientY-n;t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:t,y:n,dx:f,dy:h}}))}function l(a){t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:t,y:n}})),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",l),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",l)}return e.addEventListener("mousedown",r),e.addEventListener("touchstart",r),{destroy(){e.removeEventListener("mousedown",r),e.removeEventListener("touchstart",r)}}}function Wa(e,t,n){let{minYear:r}=t,{maxYear:i}=t,{startYear:l=1990}=t,{endYear:a=new Date().getFullYear()}=t,f,h,s;function u(p){return function(m){const{left:E,right:v}=s.getBoundingClientRect(),N=v-E,_=Math.min(Math.max((m.detail.x-E)/N,0),1);p==="start"?(n(0,l=Math.round(r+_*(i-r))),n(1,a=Math.max(a,l))):(n(0,l=Math.min(l,a)),n(1,a=Math.round(r+_*(i-r))))}}function c(p){const{width:m}=h.getBoundingClientRect(),{left:E,right:v}=s.getBoundingClientRect(),N=v-E,_=f.getBoundingClientRect().left,S=sr(_+event.detail.dx-E,0,N-m),b=sr(S+m,m,N),P=S/N,I=b/N;n(0,l=Math.round(r+P*(i-r))),n(1,a=Math.round(r+I*(i-r)))}function o(p){Se[p?"unshift":"push"](()=>{h=p,n(5,h)})}function d(p){Se[p?"unshift":"push"](()=>{f=p,n(4,f)})}function g(p){Se[p?"unshift":"push"](()=>{s=p,n(6,s)})}return e.$$set=p=>{"minYear"in p&&n(2,r=p.minYear),"maxYear"in p&&n(3,i=p.maxYear),"startYear"in p&&n(0,l=p.startYear),"endYear"in p&&n(1,a=p.endYear)},[l,a,r,i,f,h,s,u,c,o,d,g]}class Za extends qe{constructor(t){super(),Le(this,t,Wa,Ga,De,{minYear:2,maxYear:3,startYear:0,endYear:1})}}function Qa(e){let t,n=`<p class="svelte-16lv7xm">It includes the item name, quantity, cost, and date of shipment for
        police departments the US.</p> <p class="svelte-16lv7xm">The data comes from the Defense Logistics Agency.</p>`;return{c(){t=V("header"),t.innerHTML=n,this.h()},l(r){t=T(r,"HEADER",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-1458xmh"&&(t.innerHTML=n),this.h()},h(){A(t,"class","svelte-16lv7xm")},m(r,i){Z(r,t,i)},p:ne,i:ne,o:ne,d(r){r&&C(t)}}}class Ka extends qe{constructor(t){super(),Le(this,t,null,Qa,De,{})}}function Ja(e){let t,n,r,i,l,a,f,h,s,u,c,o,d,g,p,m,E,v,N="Apply Filters",_,S,b="Reset Filters",P,I,M;r=new Ka({});function x(R){e[12](R)}function y(R){e[13](R)}let Y={minYear:e[6],maxYear:e[7]};e[2]!==void 0&&(Y.startYear=e[2]),e[3]!==void 0&&(Y.endYear=e[3]),a=new Za({props:Y}),Se.push(()=>ut(a,"startYear",x)),Se.push(()=>ut(a,"endYear",y));function D(R){e[14](R)}let q={options:e[5],placeholder:"Type to filter Agency Names..."};e[1]!==void 0&&(q.selected=e[1]),u=new ur({props:q}),Se.push(()=>ut(u,"selected",D)),u.$on("select",e[8]);function w(R){e[15](R)}let L={options:e[4],placeholder:"Type to filter Item Names..."};return e[0]!==void 0&&(L.selected=e[0]),d=new ur({props:L}),Se.push(()=>ut(d,"selected",w)),d.$on("select",e[8]),{c(){t=V("div"),n=V("section"),Me(r.$$.fragment),i=G(),l=V("section"),Me(a.$$.fragment),s=G(),Me(u.$$.fragment),o=G(),Me(d.$$.fragment),p=G(),m=V("section"),E=V("div"),v=V("button"),v.textContent=N,_=G(),S=V("button"),S.textContent=b,this.h()},l(R){t=T(R,"DIV",{class:!0});var O=F(t);n=T(O,"SECTION",{class:!0});var B=F(n);xe(r.$$.fragment,B),B.forEach(C),i=W(O),l=T(O,"SECTION",{class:!0});var J=F(l);xe(a.$$.fragment,J),s=W(J),xe(u.$$.fragment,J),o=W(J),xe(d.$$.fragment,J),J.forEach(C),p=W(O),m=T(O,"SECTION",{class:!0});var $=F(m);E=T($,"DIV",{class:!0});var re=F(E);v=T(re,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(v)!=="svelte-1mdto3n"&&(v.textContent=N),_=W(re),S=T(re,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(S)!=="svelte-p5k4b6"&&(S.textContent=b),re.forEach(C),$.forEach(C),O.forEach(C),this.h()},h(){A(n,"class","svelte-430mf7"),A(l,"class","svelte-430mf7"),A(v,"class","svelte-430mf7"),A(S,"class","svelte-430mf7"),A(E,"class","actions svelte-430mf7"),A(m,"class","svelte-430mf7"),A(t,"class","filterContainer svelte-430mf7")},m(R,O){Z(R,t,O),k(t,n),ke(r,n,null),k(t,i),k(t,l),ke(a,l,null),k(l,s),ke(u,l,null),k(l,o),ke(d,l,null),k(t,p),k(t,m),k(m,E),k(E,v),k(E,_),k(E,S),P=!0,I||(M=[ye(v,"click",e[8]),ye(S,"click",e[9])],I=!0)},p(R,[O]){const B={};!f&&O&4&&(f=!0,B.startYear=R[2],ot(()=>f=!1)),!h&&O&8&&(h=!0,B.endYear=R[3],ot(()=>h=!1)),a.$set(B);const J={};O&32&&(J.options=R[5]),!c&&O&2&&(c=!0,J.selected=R[1],ot(()=>c=!1)),u.$set(J);const $={};O&16&&($.options=R[4]),!g&&O&1&&(g=!0,$.selected=R[0],ot(()=>g=!1)),d.$set($)},i(R){P||(we(r.$$.fragment,R),we(a.$$.fragment,R),we(u.$$.fragment,R),we(d.$$.fragment,R),P=!0)},o(R){_e(r.$$.fragment,R),_e(a.$$.fragment,R),_e(u.$$.fragment,R),_e(d.$$.fragment,R),P=!1},d(R){R&&C(t),Ae(r),Ae(a),Ae(u),Ae(d),I=!1,cn(M)}}}function $a(e,t,n){let{data:r=[]}=t,{selectedItemName:i=""}=t,{selectedAgencyName:l=""}=t,{startYear:a=1990}=t,{endYear:f=new Date().getFullYear()}=t,{onFilterChange:h}=t,s=10,u=44e5,c=a,o=f,d=[],g=[];const p=b=>parseFloat(b.replace("US$","").replace(/\./g,"").replace(",","."));m();function m(){let b=r;(a||f)&&(b=b.filter(P=>{const I=new Date(P["Ship Date"]).getFullYear();return I>=a&&I<=f})),(s||u)&&(b=b.filter(P=>{const I=p(P["Acquisition Value"]);return I>=s&&I<=u})),i&&(b=b.filter(P=>P["Item Name"].toLowerCase().includes(i.toLowerCase()))),l&&(b=b.filter(P=>P["Agency Name"].toLowerCase().includes(l.toLowerCase()))),n(4,d=[...new Set(b.map(P=>P["Item Name"]))]),n(5,g=[...new Set(b.map(P=>P["Agency Name"]))]),h(i,l,a,f,s,u)}function E(){n(0,i=""),n(1,l=""),n(2,a=1990),n(3,f=new Date().getFullYear()),s=10,u=44e5,m()}function v(b){a=b,n(2,a)}function N(b){f=b,n(3,f)}function _(b){l=b,n(1,l)}function S(b){i=b,n(0,i)}return e.$$set=b=>{"data"in b&&n(10,r=b.data),"selectedItemName"in b&&n(0,i=b.selectedItemName),"selectedAgencyName"in b&&n(1,l=b.selectedAgencyName),"startYear"in b&&n(2,a=b.startYear),"endYear"in b&&n(3,f=b.endYear),"onFilterChange"in b&&n(11,h=b.onFilterChange)},[i,l,a,f,d,g,c,o,m,E,r,h,v,N,_,S]}class el extends qe{constructor(t){super(),Le(this,t,$a,Ja,De,{data:10,selectedItemName:0,selectedAgencyName:1,startYear:2,endYear:3,onFilterChange:11})}}function fr(e,t,n){const r=e.slice();return r[9]=t[n],r}function cr(e,t,n){const r=e.slice();return r[12]=t[n],r}function hr(e){let t,n,r=new Date(e[0][e[9]].dates[e[12]].date).toLocaleDateString()+"",i,l,a,f,h,s,u,c=e[0][e[9]].dates[e[12]].quantity+"",o,d,g,p,m,E,v=e[0][e[9]].dates[e[12]].acquisitionValue+"",N,_,S,b,P=e[0][e[9]].nsn+"",I;return{c(){t=V("div"),n=V("div"),i=Q(r),l=G(),a=V("div"),h=G(),s=V("p"),u=Q("("),o=Q(c),d=Q(")"),g=G(),p=V("div"),m=V("p"),E=Q("Acquisition Value: "),N=Q(v),_=G(),S=V("p"),b=Q("NSN: "),I=Q(P),this.h()},l(M){t=T(M,"DIV",{class:!0});var x=F(t);n=T(x,"DIV",{class:!0});var y=F(n);i=K(y,r),y.forEach(C),l=W(x),a=T(x,"DIV",{class:!0,title:!0,style:!0}),F(a).forEach(C),h=W(x),s=T(x,"P",{class:!0});var Y=F(s);u=K(Y,"("),o=K(Y,c),d=K(Y,")"),Y.forEach(C),x.forEach(C),g=W(M),p=T(M,"DIV",{class:!0});var D=F(p);m=T(D,"P",{class:!0});var q=F(m);E=K(q,"Acquisition Value: "),N=K(q,v),q.forEach(C),_=W(D),S=T(D,"P",{class:!0});var w=F(S);b=K(w,"NSN: "),I=K(w,P),w.forEach(C),D.forEach(C),this.h()},h(){A(n,"class","date svelte-lmotak"),A(a,"class","bar svelte-lmotak"),A(a,"title",f=`Quantity: ${e[0][e[9]].dates[e[12]].quantity}`),ce(a,"width",e[0][e[9]].dates[e[12]].quantity*10+"px"),A(s,"class","tiny svelte-lmotak"),A(t,"class","item svelte-lmotak"),A(m,"class","tiny svelte-lmotak"),A(S,"class","tiny svelte-lmotak"),A(p,"class","meta svelte-lmotak")},m(M,x){Z(M,t,x),k(t,n),k(n,i),k(t,l),k(t,a),k(t,h),k(t,s),k(s,u),k(s,o),k(s,d),Z(M,g,x),Z(M,p,x),k(p,m),k(m,E),k(m,N),k(p,_),k(p,S),k(S,b),k(S,I)},p(M,x){x&3&&r!==(r=new Date(M[0][M[9]].dates[M[12]].date).toLocaleDateString()+"")&&fe(i,r),x&3&&f!==(f=`Quantity: ${M[0][M[9]].dates[M[12]].quantity}`)&&A(a,"title",f),x&3&&ce(a,"width",M[0][M[9]].dates[M[12]].quantity*10+"px"),x&3&&c!==(c=M[0][M[9]].dates[M[12]].quantity+"")&&fe(o,c),x&3&&v!==(v=M[0][M[9]].dates[M[12]].acquisitionValue+"")&&fe(N,v),x&3&&P!==(P=M[0][M[9]].nsn+"")&&fe(I,P)},d(M){M&&(C(t),C(g),C(p))}}}function dr(e){let t,n,r,i=e[0][e[9]].totalValue+"",l,a,f,h,s,u=e[0][e[9]].agency+"",c,o,d,g,p=e[0][e[9]].state+"",m,E,v,N,_=e[0][e[9]].item+"",S,b,P,I=ge(Object.keys(e[0][e[9]].dates)),M=[];for(let x=0;x<I.length;x+=1)M[x]=hr(cr(e,I,x));return{c(){t=V("div"),n=V("span"),r=Q("(Total Value: $"),l=Q(i),a=Q(")"),f=G(),h=V("div"),s=V("h3"),c=Q(u),o=G(),d=V("span"),g=Q("("),m=Q(p),E=Q(")"),v=G(),N=V("h3"),S=Q(_),b=G();for(let x=0;x<M.length;x+=1)M[x].c();P=G(),this.h()},l(x){t=T(x,"DIV",{class:!0});var y=F(t);n=T(y,"SPAN",{class:!0});var Y=F(n);r=K(Y,"(Total Value: $"),l=K(Y,i),a=K(Y,")"),Y.forEach(C),f=W(y),h=T(y,"DIV",{class:!0});var D=F(h);s=T(D,"H3",{class:!0});var q=F(s);c=K(q,u),o=W(q),d=T(q,"SPAN",{class:!0});var w=F(d);g=K(w,"("),m=K(w,p),E=K(w,")"),w.forEach(C),q.forEach(C),v=W(D),N=T(D,"H3",{class:!0});var L=F(N);S=K(L,_),L.forEach(C),D.forEach(C),b=W(y);for(let R=0;R<M.length;R+=1)M[R].l(y);P=W(y),y.forEach(C),this.h()},h(){A(n,"class","tiny svelte-lmotak"),A(d,"class","tiny svelte-lmotak"),A(s,"class","agency svelte-lmotak"),A(N,"class","svelte-lmotak"),A(h,"class","header svelte-lmotak"),A(t,"class","group svelte-lmotak")},m(x,y){Z(x,t,y),k(t,n),k(n,r),k(n,l),k(n,a),k(t,f),k(t,h),k(h,s),k(s,c),k(s,o),k(s,d),k(d,g),k(d,m),k(d,E),k(h,v),k(h,N),k(N,S),k(t,b);for(let Y=0;Y<M.length;Y+=1)M[Y]&&M[Y].m(t,null);k(t,P)},p(x,y){if(y&3&&i!==(i=x[0][x[9]].totalValue+"")&&fe(l,i),y&3&&u!==(u=x[0][x[9]].agency+"")&&fe(c,u),y&3&&p!==(p=x[0][x[9]].state+"")&&fe(m,p),y&3&&_!==(_=x[0][x[9]].item+"")&&fe(S,_),y&3){I=ge(Object.keys(x[0][x[9]].dates));let Y;for(Y=0;Y<I.length;Y+=1){const D=cr(x,I,Y);M[Y]?M[Y].p(D,y):(M[Y]=hr(D),M[Y].c(),M[Y].m(t,P))}for(;Y<M.length;Y+=1)M[Y].d(1);M.length=I.length}},d(x){x&&C(t),$e(M,x)}}}function tl(e){let t,n,r="Sort by:",i,l,a,f="Value",h,s="Alphabet",u,c="Date",o,d,g,p,m=ge(e[1]),E=[];for(let v=0;v<m.length;v+=1)E[v]=dr(fr(e,m,v));return{c(){t=V("div"),n=V("label"),n.textContent=r,i=G(),l=V("select"),a=V("option"),a.textContent=f,h=V("option"),h.textContent=s,u=V("option"),u.textContent=c,o=G(),d=V("div");for(let v=0;v<E.length;v+=1)E[v].c();this.h()},l(v){t=T(v,"DIV",{class:!0});var N=F(t);n=T(N,"LABEL",{for:!0,"data-svelte-h":!0}),Ne(n)!=="svelte-ne7zl7"&&(n.textContent=r),i=W(N),l=T(N,"SELECT",{id:!0});var _=F(l);a=T(_,"OPTION",{"data-svelte-h":!0}),Ne(a)!=="svelte-zquwu0"&&(a.textContent=f),h=T(_,"OPTION",{"data-svelte-h":!0}),Ne(h)!=="svelte-1egzec6"&&(h.textContent=s),u=T(_,"OPTION",{"data-svelte-h":!0}),Ne(u)!=="svelte-38wycu"&&(u.textContent=c),_.forEach(C),N.forEach(C),o=W(v),d=T(v,"DIV",{class:!0});var S=F(d);for(let b=0;b<E.length;b+=1)E[b].l(S);S.forEach(C),this.h()},h(){A(n,"for","sortOptions"),a.__value="value",Je(a,a.__value),h.__value="alphabet",Je(h,h.__value),u.__value="date",Je(u,u.__value),A(l,"id","sortOptions"),A(t,"class","info svelte-lmotak"),A(d,"class","timeline svelte-lmotak")},m(v,N){Z(v,t,N),k(t,n),k(t,i),k(t,l),k(l,a),k(l,h),k(l,u),Z(v,o,N),Z(v,d,N);for(let _=0;_<E.length;_+=1)E[_]&&E[_].m(d,null);g||(p=ye(l,"change",e[2]),g=!0)},p(v,[N]){if(N&3){m=ge(v[1]);let _;for(_=0;_<m.length;_+=1){const S=fr(v,m,_);E[_]?E[_].p(S,N):(E[_]=dr(S),E[_].c(),E[_].m(d,null))}for(;_<E.length;_+=1)E[_].d(1);E.length=m.length}},i:ne,o:ne,d(v){v&&(C(t),C(o),C(d)),$e(E,v),g=!1,p()}}}function nl(e,t,n){let r,i,l,{data:a=[]}=t,{itemName:f=""}=t,{agencyName:h=""}=t,{sortOption:s="value"}=t;const u=o=>parseFloat(o.replace("US$","").replace(/\./g,"").replace(",","."));function c(o){n(3,s=o.target.value)}return e.$$set=o=>{"data"in o&&n(4,a=o.data),"itemName"in o&&n(5,f=o.itemName),"agencyName"in o&&n(6,h=o.agencyName),"sortOption"in o&&n(3,s=o.sortOption)},e.$$.update=()=>{e.$$.dirty&112&&n(7,r=a.filter(o=>(f===""||o["Item Name"]===f)&&(h===""||o["Agency Name"]===h))),e.$$.dirty&128&&n(0,i=r.reduce((o,d)=>{const g=`${d["Agency Name"]}, ${d["Item Name"]}`,p=new Date(d["Ship Date"]).toLocaleDateString();o[g]||(o[g]={totalValue:0,dates:{}}),o[g].dates[p]||(o[g].dates[p]={date:d["Ship Date"],quantity:0,items:[]});const m=u(d["Acquisition Value"]);return o[g].totalValue+=m,o[g].dates[p].quantity+=parseInt(d.Quantity),o[g].dates[p].acquisitionValue=d["Acquisition Value"],o[g].dates[p].items.push(d),o[g].agency=d["Agency Name"].toLowerCase(),o[g].item=d["Item Name"].toLowerCase(),o[g].state=d.State,o[g].nsn=d.NSN,o},{})),e.$$.dirty&9&&n(1,l=Object.keys(i).sort((o,d)=>{if(s==="value")return i[d].totalValue-i[o].totalValue;if(s==="alphabet")return o.localeCompare(d);if(s==="date"){const g=new Date(i[o].dates[Object.keys(i[o].dates)[0]].date),p=new Date(i[d].dates[Object.keys(i[d].dates)[0]].date);return g-p}}).slice(0,500))},[i,l,c,s,a,f,h,r]}class rl extends qe{constructor(t){super(),Le(this,t,nl,tl,De,{data:4,itemName:5,agencyName:6,sortOption:3})}}function il(e){let t,n="Loading...";return{c(){t=V("p"),t.textContent=n,this.h()},l(r){t=T(r,"P",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-qdsr2u"&&(t.textContent=n),this.h()},h(){A(t,"class","svelte-8buc32")},m(r,i){Z(r,t,i)},p:ne,i:ne,o:ne,d(r){r&&C(t)}}}function al(e){let t,n,r,i,l,a,f,h,s,u;return n=new el({props:{data:e[0],selectedItemName:e[1],selectedAgencyName:e[2],startYear:e[3],endYear:e[4],startValue:e[5],endValue:e[6],onFilterChange:e[8]}}),a=new ja({props:{data:e[7],itemName:e[1],agencyName:e[2]}}),s=new rl({props:{data:e[7],itemName:e[1],agencyName:e[2]}}),{c(){t=V("section"),Me(n.$$.fragment),r=G(),i=V("section"),l=V("div"),Me(a.$$.fragment),f=G(),h=V("div"),Me(s.$$.fragment),this.h()},l(c){t=T(c,"SECTION",{class:!0});var o=F(t);xe(n.$$.fragment,o),o.forEach(C),r=W(c),i=T(c,"SECTION",{class:!0});var d=F(i);l=T(d,"DIV",{class:!0});var g=F(l);xe(a.$$.fragment,g),g.forEach(C),f=W(d),h=T(d,"DIV",{class:!0});var p=F(h);xe(s.$$.fragment,p),p.forEach(C),d.forEach(C),this.h()},h(){A(t,"class","filters svelte-8buc32"),A(l,"class","map svelte-8buc32"),A(h,"class","timeline svelte-8buc32"),A(i,"class","vizContainer svelte-8buc32")},m(c,o){Z(c,t,o),ke(n,t,null),Z(c,r,o),Z(c,i,o),k(i,l),ke(a,l,null),k(i,f),k(i,h),ke(s,h,null),u=!0},p(c,o){const d={};o&1&&(d.data=c[0]),o&2&&(d.selectedItemName=c[1]),o&4&&(d.selectedAgencyName=c[2]),o&8&&(d.startYear=c[3]),o&16&&(d.endYear=c[4]),o&32&&(d.startValue=c[5]),o&64&&(d.endValue=c[6]),n.$set(d);const g={};o&128&&(g.data=c[7]),o&2&&(g.itemName=c[1]),o&4&&(g.agencyName=c[2]),a.$set(g);const p={};o&128&&(p.data=c[7]),o&2&&(p.itemName=c[1]),o&4&&(p.agencyName=c[2]),s.$set(p)},i(c){u||(we(n.$$.fragment,c),we(a.$$.fragment,c),we(s.$$.fragment,c),u=!0)},o(c){_e(n.$$.fragment,c),_e(a.$$.fragment,c),_e(s.$$.fragment,c),u=!1},d(c){c&&(C(t),C(r),C(i)),Ae(n),Ae(a),Ae(s)}}}function ll(e){let t,n,r,i;const l=[al,il],a=[];function f(h,s){return h[7].length>0?0:1}return t=f(e),n=a[t]=l[t](e),{c(){n.c(),r=_t()},l(h){n.l(h),r=_t()},m(h,s){a[t].m(h,s),Z(h,r,s),i=!0},p(h,[s]){let u=t;t=f(h),t===u?a[t].p(h,s):(Ur(),_e(a[u],1,1,()=>{a[u]=null}),jr(),n=a[t],n?n.p(h,s):(n=a[t]=l[t](h),n.c()),we(n,1),n.m(r.parentNode,r))},i(h){i||(we(n),i=!0)},o(h){_e(n),i=!1},d(h){h&&C(r),a[t].d(h)}}}function ol(e,t,n){let r=[],i="",l="",a=1990,f=new Date().getFullYear(),h=10,s=1e3,u=[];const c=g=>parseFloat(g.replace("US$","").replace(/\./g,"").replace(",","."));gr(async()=>{const g=await fetch("data.json");n(0,r=await g.json()),o()});function o(){n(7,u=r.filter(g=>{const p=new Date(g["Ship Date"]).getFullYear(),m=c(g["Acquisition Value"]);return(i==""||g["Item Name"].toLowerCase().includes(i.toLowerCase()))&&(l==""||g["Agency Name"].toLowerCase().includes(l.toLowerCase()))&&p>=a&&p<=f&&m>=h&&m<=s}))}function d(g,p,m,E,v,N){n(1,i=g),n(2,l=p),n(3,a=m),n(4,f=E),n(5,h=v),n(6,s=N),o()}return[r,i,l,a,f,h,s,u,d]}class fl extends qe{constructor(t){super(),Le(this,t,ol,ll,De,{})}}export{fl as component};
