import{s as De,e as q,P as Qe,a as G,c as L,b as z,Q as Ke,f as I,g as W,p as C,B as Hr,i as K,h as k,R as Br,n as ne,S as $e,o as pr,l as wt,t as Z,d as Q,q as ie,j as le,T as he,w as Dt,U as Je,V as jr,W as qt,X as Lt,Y as Vt,r as Se,K as Ne,Z as ot}from"../chunks/scheduler.Dib3pwfa.js";import{S as qe,i as Le,f as st,b as Me,d as xe,m as ke,a as we,t as ye,e as Ce,c as Ur,g as Xr}from"../chunks/index.D2AXWxM7.js";function pe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Gr(e){return e}function Wr(e){if(e==null)return Gr;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(u,c){c||(t=n=0);var f=2,s=u.length,h=new Array(s);for(h[0]=(t+=u[0])*r+o,h[1]=(n+=u[1])*i+a;f<s;)h[f]=u[f],++f;return h}}function Zr(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Qr(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return wn(e,n)})}:wn(e,t)}function wn(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=Kr(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function Kr(e,t){var n=Wr(e.transform),r=e.arcs;function i(s,h){h.length&&h.pop();for(var l=r[s<0?~s:s],d=0,g=l.length;d<g;++d)h.push(n(l[d],d));s<0&&Zr(h,g)}function o(s){return n(s)}function a(s){for(var h=[],l=0,d=s.length;l<d;++l)i(s[l],h);return h.length<2&&h.push(h[0]),h}function u(s){for(var h=a(s);h.length<4;)h.push(h[0]);return h}function c(s){return s.map(u)}function f(s){var h=s.type,l;switch(h){case"GeometryCollection":return{type:h,geometries:s.geometries.map(f)};case"Point":l=o(s.coordinates);break;case"MultiPoint":l=s.coordinates.map(o);break;case"LineString":l=a(s.arcs);break;case"MultiLineString":l=s.arcs.map(a);break;case"Polygon":l=c(s.arcs);break;case"MultiPolygon":l=s.arcs.map(c);break;default:return null}return{type:h,coordinates:l}}return f(t)}function mt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mr(e){let t,n,r;e.length!==2?(t=mt,n=(u,c)=>mt(e(u),c),r=(u,c)=>e(u)-c):(t=e===mt||e===Jr?e:$r,n=e,r=e);function i(u,c,f=0,s=u.length){if(f<s){if(t(c,c)!==0)return s;do{const h=f+s>>>1;n(u[h],c)<0?f=h+1:s=h}while(f<s)}return f}function o(u,c,f=0,s=u.length){if(f<s){if(t(c,c)!==0)return s;do{const h=f+s>>>1;n(u[h],c)<=0?f=h+1:s=h}while(f<s)}return f}function a(u,c,f=0,s=u.length){const h=i(u,c,f,s-1);return h>f&&r(u[h-1],c)>-r(u[h],c)?h-1:h}return{left:i,center:a,right:o}}function $r(){return 0}function ei(e){return e===null?NaN:+e}const ti=mr(mt),ni=ti.right;mr(ei).center;class Ie{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,u=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);u&&(n[r++]=u),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}const ri=Math.sqrt(50),ii=Math.sqrt(10),ai=Math.sqrt(2);function yt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ri?10:o>=ii?5:o>=ai?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/a,u=Math.round(e*f),c=Math.round(t*f),u/f<e&&++u,c/f>t&&--c,f=-f):(f=Math.pow(10,i)*a,u=Math.round(e/f),c=Math.round(t/f),u*f<e&&++u,c*f>t&&--c),c<u&&.5<=n&&n<2?yt(e,t,n*2):[u,c,f]}function li(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?yt(t,e,n):yt(e,t,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(a<0)for(let f=0;f<u;++f)c[f]=(o-f)/-a;else for(let f=0;f<u;++f)c[f]=(o-f)*a;else if(a<0)for(let f=0;f<u;++f)c[f]=(i+f)/-a;else for(let f=0;f<u;++f)c[f]=(i+f)*a;return c}function Ut(e,t,n){return t=+t,e=+e,n=+n,yt(e,t,n)[2]}function oi(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ut(t,e,n):Ut(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function*si(e){for(const t of e)yield*t}function vr(e){return Array.from(si(e))}var H=1e-6,ui=1e-12,O=Math.PI,oe=O/2,yn=O/4,ue=O*2,fe=180/O,ee=O/180,U=Math.abs,fi=Math.atan,Oe=Math.atan2,X=Math.cos,j=Math.sin,vt=Math.sign||function(e){return e>0?1:e<0?-1:0},Ee=Math.sqrt;function ci(e){return e>1?0:e<-1?O:Math.acos(e)}function Re(e){return e>1?oe:e<-1?-oe:Math.asin(e)}function se(){}function Et(e,t){e&&Nn.hasOwnProperty(e.type)&&Nn[e.type](e,t)}var En={Feature:function(e,t){Et(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Et(n[r].geometry,t)}},Nn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Xt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Xt(n[r],t,0)},Polygon:function(e,t){bn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Et(n[r],t)}};function Xt(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function bn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Xt(e[n],t,1);t.polygonEnd()}function Te(e,t){e&&En.hasOwnProperty(e.type)?En[e.type](e,t):Et(e,t)}function Gt(e){return[Oe(e[1],e[0]),Re(e[2])]}function He(e){var t=e[0],n=e[1],r=X(n);return[r*X(t),r*j(t),j(n)]}function ut(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Nt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Tt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ft(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Wt(e){var t=Ee(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Zt(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Qt(e,t){return U(e)>O&&(e-=Math.round(e/ue)*ue),[e,t]}Qt.invert=Qt;function hi(e,t,n){return(e%=ue)?t||n?Zt(Mn(e),xn(t,n)):Mn(e):t||n?xn(t,n):Qt}function Sn(e){return function(t,n){return t+=e,U(t)>O&&(t-=Math.round(t/ue)*ue),[t,n]}}function Mn(e){var t=Sn(e);return t.invert=Sn(-e),t}function xn(e,t){var n=X(e),r=j(e),i=X(t),o=j(t);function a(u,c){var f=X(c),s=X(u)*f,h=j(u)*f,l=j(c),d=l*n+s*r;return[Oe(h*i-d*o,s*n-l*r),Re(d*i+h*o)]}return a.invert=function(u,c){var f=X(c),s=X(u)*f,h=j(u)*f,l=j(c),d=l*i-h*o;return[Oe(h*i+l*o,s*n+d*r),Re(d*n-s*r)]},a}function di(e,t,n,r,i,o){if(n){var a=X(t),u=j(t),c=r*n;i==null?(i=t+r*ue,o=t-c/2):(i=kn(a,i),o=kn(a,o),(r>0?i<o:i>o)&&(i+=r*ue));for(var f,s=i;r>0?s>o:s<o;s-=c)f=Gt([a,-u*X(s),-u*j(s)]),e.point(f[0],f[1])}}function kn(e,t){t=He(t),t[0]-=e,Wt(t);var n=ci(-t[1]);return((-t[2]<0?-n:n)+ue-H)%ue}function _r(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:se,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function _t(e,t){return U(e[0]-t[0])<H&&U(e[1]-t[1])<H}function ct(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function wr(e,t,n,r,i){var o=[],a=[],u,c;if(e.forEach(function(g){if(!((p=g.length-1)<=0)){var p,m=g[0],y=g[p],_;if(_t(m,y)){if(!m[2]&&!y[2]){for(i.lineStart(),u=0;u<p;++u)i.point((m=g[u])[0],m[1]);i.lineEnd();return}y[0]+=2*H}o.push(_=new ct(m,g,null,!0)),a.push(_.o=new ct(m,null,_,!1)),o.push(_=new ct(y,g,null,!1)),a.push(_.o=new ct(y,null,_,!0))}}),!!o.length){for(a.sort(t),Cn(o),Cn(a),u=0,c=a.length;u<c;++u)a[u].e=n=!n;for(var f=o[0],s,h;;){for(var l=f,d=!0;l.v;)if((l=l.n)===f)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(u=0,c=s.length;u<c;++u)i.point((h=s[u])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(s=l.p.z,u=s.length-1;u>=0;--u)i.point((h=s[u])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,d=!d}while(!l.v);i.lineEnd()}}}function Cn(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function zt(e){return U(e[0])<=O?e[0]:vt(e[0])*((U(e[0])+O)%ue-O)}function gi(e,t){var n=zt(t),r=t[1],i=j(r),o=[j(n),-X(n),0],a=0,u=0,c=new Ie;i===1?r=oe+H:i===-1&&(r=-oe-H);for(var f=0,s=e.length;f<s;++f)if(l=(h=e[f]).length)for(var h,l,d=h[l-1],g=zt(d),p=d[1]/2+yn,m=j(p),y=X(p),_=0;_<l;++_,g=v,m=E,y=A,d=S){var S=h[_],v=zt(S),b=S[1]/2+yn,E=j(b),A=X(b),P=v-g,M=P>=0?1:-1,x=M*P,N=x>O,Y=m*E;if(c.add(Oe(Y*M*j(x),y*A+Y*X(x))),a+=N?P+M*ue:P,N^g>=n^v>=n){var D=Nt(He(d),He(S));Wt(D);var V=Nt(o,D);Wt(V);var w=(N^P>=0?-1:1)*Re(V[2]);(r>w||r===w&&(D[0]||D[1]))&&(u+=N^P>=0?1:-1)}}return(a<-H||a<H&&c<-ui)^u&1}function yr(e,t,n,r){return function(i){var o=t(i),a=_r(),u=t(a),c=!1,f,s,h,l={point:d,lineStart:p,lineEnd:m,polygonStart:function(){l.point=y,l.lineStart=_,l.lineEnd=S,s=[],f=[]},polygonEnd:function(){l.point=d,l.lineStart=p,l.lineEnd=m,s=vr(s);var v=gi(f,r);s.length?(c||(i.polygonStart(),c=!0),wr(s,mi,v,n,i)):v&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),s=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(v,b){e(v,b)&&i.point(v,b)}function g(v,b){o.point(v,b)}function p(){l.point=g,o.lineStart()}function m(){l.point=d,o.lineEnd()}function y(v,b){h.push([v,b]),u.point(v,b)}function _(){u.lineStart(),h=[]}function S(){y(h[0][0],h[0][1]),u.lineEnd();var v=u.clean(),b=a.result(),E,A=b.length,P,M,x;if(h.pop(),f.push(h),h=null,!!A){if(v&1){if(M=b[0],(P=M.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),E=0;E<P;++E)i.point((x=M[E])[0],x[1]);i.lineEnd()}return}A>1&&v&2&&b.push(b.pop().concat(b.shift())),s.push(b.filter(pi))}}return l}}function pi(e){return e.length>1}function mi(e,t){return((e=e.x)[0]<0?e[1]-oe-H:oe-e[1])-((t=t.x)[0]<0?t[1]-oe-H:oe-t[1])}const An=yr(function(){return!0},vi,wi,[-O,-oe]);function vi(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var u=o>0?O:-O,c=U(o-t);U(c-O)<H?(e.point(t,n=(n+a)/2>0?oe:-oe),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),e.point(o,n),i=0):r!==u&&c>=O&&(U(t-r)<H&&(t-=r*H),U(o-u)<H&&(o-=u*H),n=_i(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),i=0),e.point(t=o,n=a),r=u},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function _i(e,t,n,r){var i,o,a=j(e-n);return U(a)>H?fi((j(t)*(o=X(r))*j(n)-j(r)*(i=X(t))*j(e))/(i*o*a)):(t+r)/2}function wi(e,t,n,r){var i;if(e==null)i=n*oe,r.point(-O,i),r.point(0,i),r.point(O,i),r.point(O,0),r.point(O,-i),r.point(0,-i),r.point(-O,-i),r.point(-O,0),r.point(-O,i);else if(U(e[0]-t[0])>H){var o=e[0]<t[0]?O:-O;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function yi(e){var t=X(e),n=2*ee,r=t>0,i=U(t)>H;function o(s,h,l,d){di(d,e,n,l,s,h)}function a(s,h){return X(s)*X(h)>t}function u(s){var h,l,d,g,p;return{lineStart:function(){g=d=!1,p=1},point:function(m,y){var _=[m,y],S,v=a(m,y),b=r?v?0:f(m,y):v?f(m+(m<0?O:-O),y):0;if(!h&&(g=d=v)&&s.lineStart(),v!==d&&(S=c(h,_),(!S||_t(h,S)||_t(_,S))&&(_[2]=1)),v!==d)p=0,v?(s.lineStart(),S=c(_,h),s.point(S[0],S[1])):(S=c(h,_),s.point(S[0],S[1],2),s.lineEnd()),h=S;else if(i&&h&&r^v){var E;!(b&l)&&(E=c(_,h,!0))&&(p=0,r?(s.lineStart(),s.point(E[0][0],E[0][1]),s.point(E[1][0],E[1][1]),s.lineEnd()):(s.point(E[1][0],E[1][1]),s.lineEnd(),s.lineStart(),s.point(E[0][0],E[0][1],3)))}v&&(!h||!_t(h,_))&&s.point(_[0],_[1]),h=_,d=v,l=b},lineEnd:function(){d&&s.lineEnd(),h=null},clean:function(){return p|(g&&d)<<1}}}function c(s,h,l){var d=He(s),g=He(h),p=[1,0,0],m=Nt(d,g),y=ut(m,m),_=m[0],S=y-_*_;if(!S)return!l&&s;var v=t*y/S,b=-t*_/S,E=Nt(p,m),A=ft(p,v),P=ft(m,b);Tt(A,P);var M=E,x=ut(A,M),N=ut(M,M),Y=x*x-N*(ut(A,A)-1);if(!(Y<0)){var D=Ee(Y),V=ft(M,(-x-D)/N);if(Tt(V,A),V=Gt(V),!l)return V;var w=s[0],T=h[0],R=s[1],F=h[1],B;T<w&&(B=w,w=T,T=B);var J=T-w,$=U(J-O)<H,re=$||J<H;if(!$&&F<R&&(B=R,R=F,F=B),re?$?R+F>0^V[1]<(U(V[0]-w)<H?R:F):R<=V[1]&&V[1]<=F:J>O^(w<=V[0]&&V[0]<=T)){var ve=ft(M,(-x+D)/N);return Tt(ve,A),[V,Gt(ve)]}}}function f(s,h){var l=r?e:O-e,d=0;return s<-l?d|=1:s>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return yr(a,u,o,r?[0,-e]:[-O,e-O])}function Ei(e,t,n,r,i,o){var a=e[0],u=e[1],c=t[0],f=t[1],s=0,h=1,l=c-a,d=f-u,g;if(g=n-a,!(!l&&g>0)){if(g/=l,l<0){if(g<s)return;g<h&&(h=g)}else if(l>0){if(g>h)return;g>s&&(s=g)}if(g=i-a,!(!l&&g<0)){if(g/=l,l<0){if(g>h)return;g>s&&(s=g)}else if(l>0){if(g<s)return;g<h&&(h=g)}if(g=r-u,!(!d&&g>0)){if(g/=d,d<0){if(g<s)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>s&&(s=g)}if(g=o-u,!(!d&&g<0)){if(g/=d,d<0){if(g>h)return;g>s&&(s=g)}else if(d>0){if(g<s)return;g<h&&(h=g)}return s>0&&(e[0]=a+s*l,e[1]=u+s*d),h<1&&(t[0]=a+h*l,t[1]=u+h*d),!0}}}}}var Ue=1e9,ht=-Ue;function Ni(e,t,n,r){function i(f,s){return e<=f&&f<=n&&t<=s&&s<=r}function o(f,s,h,l){var d=0,g=0;if(f==null||(d=a(f,h))!==(g=a(s,h))||c(f,s)<0^h>0)do l.point(d===0||d===3?e:n,d>1?r:t);while((d=(d+h+4)%4)!==g);else l.point(s[0],s[1])}function a(f,s){return U(f[0]-e)<H?s>0?0:3:U(f[0]-n)<H?s>0?2:1:U(f[1]-t)<H?s>0?1:0:s>0?3:2}function u(f,s){return c(f.x,s.x)}function c(f,s){var h=a(f,1),l=a(s,1);return h!==l?h-l:h===0?s[1]-f[1]:h===1?f[0]-s[0]:h===2?f[1]-s[1]:s[0]-f[0]}return function(f){var s=f,h=_r(),l,d,g,p,m,y,_,S,v,b,E,A={point:P,lineStart:Y,lineEnd:D,polygonStart:x,polygonEnd:N};function P(w,T){i(w,T)&&s.point(w,T)}function M(){for(var w=0,T=0,R=d.length;T<R;++T)for(var F=d[T],B=1,J=F.length,$=F[0],re,ve,lt=$[0],Ve=$[1];B<J;++B)re=lt,ve=Ve,$=F[B],lt=$[0],Ve=$[1],ve<=r?Ve>r&&(lt-re)*(r-ve)>(Ve-ve)*(e-re)&&++w:Ve<=r&&(lt-re)*(r-ve)<(Ve-ve)*(e-re)&&--w;return w}function x(){s=h,l=[],d=[],E=!0}function N(){var w=M(),T=E&&w,R=(l=vr(l)).length;(T||R)&&(f.polygonStart(),T&&(f.lineStart(),o(null,null,1,f),f.lineEnd()),R&&wr(l,u,w,o,f),f.polygonEnd()),s=f,l=d=g=null}function Y(){A.point=V,d&&d.push(g=[]),b=!0,v=!1,_=S=NaN}function D(){l&&(V(p,m),y&&v&&h.rejoin(),l.push(h.result())),A.point=P,v&&s.lineEnd()}function V(w,T){var R=i(w,T);if(d&&g.push([w,T]),b)p=w,m=T,y=R,b=!1,R&&(s.lineStart(),s.point(w,T));else if(R&&v)s.point(w,T);else{var F=[_=Math.max(ht,Math.min(Ue,_)),S=Math.max(ht,Math.min(Ue,S))],B=[w=Math.max(ht,Math.min(Ue,w)),T=Math.max(ht,Math.min(Ue,T))];Ei(F,B,e,t,n,r)?(v||(s.lineStart(),s.point(F[0],F[1])),s.point(B[0],B[1]),R||s.lineEnd(),E=!1):R&&(s.lineStart(),s.point(w,T),E=!1)}_=w,S=T,v=R}return A}}const Kt=e=>e;var Ft=new Ie,Jt=new Ie,Er,Nr,$t,en,_e={point:se,lineStart:se,lineEnd:se,polygonStart:function(){_e.lineStart=bi,_e.lineEnd=Mi},polygonEnd:function(){_e.lineStart=_e.lineEnd=_e.point=se,Ft.add(U(Jt)),Jt=new Ie},result:function(){var e=Ft/2;return Ft=new Ie,e}};function bi(){_e.point=Si}function Si(e,t){_e.point=br,Er=$t=e,Nr=en=t}function br(e,t){Jt.add(en*e-$t*t),$t=e,en=t}function Mi(){br(Er,Nr)}var Be=1/0,bt=Be,et=-Be,St=et,Mt={point:xi,lineStart:se,lineEnd:se,polygonStart:se,polygonEnd:se,result:function(){var e=[[Be,bt],[et,St]];return et=St=-(bt=Be=1/0),e}};function xi(e,t){e<Be&&(Be=e),e>et&&(et=e),t<bt&&(bt=t),t>St&&(St=t)}var tn=0,nn=0,Xe=0,xt=0,kt=0,ze=0,rn=0,an=0,Ge=0,Sr,Mr,de,ge,ae={point:Ye,lineStart:Pn,lineEnd:In,polygonStart:function(){ae.lineStart=Ai,ae.lineEnd=Pi},polygonEnd:function(){ae.point=Ye,ae.lineStart=Pn,ae.lineEnd=In},result:function(){var e=Ge?[rn/Ge,an/Ge]:ze?[xt/ze,kt/ze]:Xe?[tn/Xe,nn/Xe]:[NaN,NaN];return tn=nn=Xe=xt=kt=ze=rn=an=Ge=0,e}};function Ye(e,t){tn+=e,nn+=t,++Xe}function Pn(){ae.point=ki}function ki(e,t){ae.point=Ci,Ye(de=e,ge=t)}function Ci(e,t){var n=e-de,r=t-ge,i=Ee(n*n+r*r);xt+=i*(de+e)/2,kt+=i*(ge+t)/2,ze+=i,Ye(de=e,ge=t)}function In(){ae.point=Ye}function Ai(){ae.point=Ii}function Pi(){xr(Sr,Mr)}function Ii(e,t){ae.point=xr,Ye(Sr=de=e,Mr=ge=t)}function xr(e,t){var n=e-de,r=t-ge,i=Ee(n*n+r*r);xt+=i*(de+e)/2,kt+=i*(ge+t)/2,ze+=i,i=ge*e-de*t,rn+=i*(de+e),an+=i*(ge+t),Ge+=i*3,Ye(de=e,ge=t)}function kr(e){this._context=e}kr.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ue);break}}},result:se};var ln=new Ie,Ot,Cr,Ar,We,Ze,tt={point:se,lineStart:function(){tt.point=Ri},lineEnd:function(){Ot&&Pr(Cr,Ar),tt.point=se},polygonStart:function(){Ot=!0},polygonEnd:function(){Ot=null},result:function(){var e=+ln;return ln=new Ie,e}};function Ri(e,t){tt.point=Pr,Cr=We=e,Ar=Ze=t}function Pr(e,t){We-=e,Ze-=t,ln.add(Ee(We*We+Ze*Ze)),We=e,Ze=t}let Rn,Ct,Yn,Dn;class qn{constructor(t){this._append=t==null?Ir:Yi(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Yn||this._append!==Ct){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Yn=r,Ct=this._append,Dn=this._,this._=i}this._+=Dn;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Ir(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Yi(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Ir;if(t!==Rn){const n=10**t;Rn=t,Ct=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Ct}function Di(e,t){let n=3,r=4.5,i,o;function a(u){return u&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Te(u,i(o))),o.result()}return a.area=function(u){return Te(u,i(_e)),_e.result()},a.measure=function(u){return Te(u,i(tt)),tt.result()},a.bounds=function(u){return Te(u,i(Mt)),Mt.result()},a.centroid=function(u){return Te(u,i(ae)),ae.result()},a.projection=function(u){return arguments.length?(i=u==null?(e=null,Kt):(e=u).stream,a):e},a.context=function(u){return arguments.length?(o=u==null?(t=null,new qn(n)):new kr(t=u),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(o.pointRadius(+u),+u),a):r},a.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const c=Math.floor(u);if(!(c>=0))throw new RangeError(`invalid digits: ${u}`);n=c}return t===null&&(o=new qn(n)),a},a.projection(e).digits(n).context(t)}function hn(e){return function(t){var n=new on;for(var r in e)n[r]=e[r];return n.stream=t,n}}function on(){}on.prototype={constructor:on,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dn(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Te(n,e.stream(Mt)),t(Mt.result()),r!=null&&e.clipExtent(r),e}function gn(e,t,n){return dn(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),u=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([u,c])},n)}function Rr(e,t,n){return gn(e,[[0,0],t],n)}function Yr(e,t,n){return dn(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,u=-o*r[0][1];e.scale(150*o).translate([a,u])},n)}function Dr(e,t,n){return dn(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],u=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,u])},n)}var Ln=16,qi=X(30*ee);function Vn(e,t){return+t?Vi(e,t):Li(e)}function Li(e){return hn({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Vi(e,t){function n(r,i,o,a,u,c,f,s,h,l,d,g,p,m){var y=f-r,_=s-i,S=y*y+_*_;if(S>4*t&&p--){var v=a+l,b=u+d,E=c+g,A=Ee(v*v+b*b+E*E),P=Re(E/=A),M=U(U(E)-1)<H||U(o-h)<H?(o+h)/2:Oe(b,v),x=e(M,P),N=x[0],Y=x[1],D=N-r,V=Y-i,w=_*D-y*V;(w*w/S>t||U((y*D+_*V)/S-.5)>.3||a*l+u*d+c*g<qi)&&(n(r,i,o,a,u,c,N,Y,M,v/=A,b/=A,E,p,m),m.point(N,Y),n(N,Y,M,v,b,E,f,s,h,l,d,g,p,m))}}return function(r){var i,o,a,u,c,f,s,h,l,d,g,p,m={point:y,lineStart:_,lineEnd:v,polygonStart:function(){r.polygonStart(),m.lineStart=b},polygonEnd:function(){r.polygonEnd(),m.lineStart=_}};function y(P,M){P=e(P,M),r.point(P[0],P[1])}function _(){h=NaN,m.point=S,r.lineStart()}function S(P,M){var x=He([P,M]),N=e(P,M);n(h,l,s,d,g,p,h=N[0],l=N[1],s=P,d=x[0],g=x[1],p=x[2],Ln,r),r.point(h,l)}function v(){m.point=y,r.lineEnd()}function b(){_(),m.point=E,m.lineEnd=A}function E(P,M){S(i=P,M),o=h,a=l,u=d,c=g,f=p,m.point=S}function A(){n(h,l,s,d,g,p,o,a,i,u,c,f,Ln,r),m.lineEnd=v,v()}return m}}var Ti=hn({point:function(e,t){this.stream.point(e*ee,t*ee)}});function zi(e){return hn({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Fi(e,t,n,r,i){function o(a,u){return a*=r,u*=i,[t+e*a,n-e*u]}return o.invert=function(a,u){return[(a-t)/e*r,(n-u)/e*i]},o}function Tn(e,t,n,r,i,o){if(!o)return Fi(e,t,n,r,i);var a=X(o),u=j(o),c=a*e,f=u*e,s=a/e,h=u/e,l=(u*n-a*t)/e,d=(u*t+a*n)/e;function g(p,m){return p*=r,m*=i,[c*p-f*m+t,n-f*p-c*m]}return g.invert=function(p,m){return[r*(s*p-h*m+l),i*(d-h*p-s*m)]},g}function Oi(e){var t,n=150,r=480,i=250,o=0,a=0,u=0,c=0,f=0,s,h=0,l=1,d=1,g=null,p=An,m=null,y,_,S,v=Kt,b=.5,E,A,P,M,x;function N(w){return P(w[0]*ee,w[1]*ee)}function Y(w){return w=P.invert(w[0],w[1]),w&&[w[0]*fe,w[1]*fe]}N.stream=function(w){return M&&x===w?M:M=Ti(zi(s)(p(E(v(x=w)))))},N.preclip=function(w){return arguments.length?(p=w,g=void 0,V()):p},N.postclip=function(w){return arguments.length?(v=w,m=y=_=S=null,V()):v},N.clipAngle=function(w){return arguments.length?(p=+w?yi(g=w*ee):(g=null,An),V()):g*fe},N.clipExtent=function(w){return arguments.length?(v=w==null?(m=y=_=S=null,Kt):Ni(m=+w[0][0],y=+w[0][1],_=+w[1][0],S=+w[1][1]),V()):m==null?null:[[m,y],[_,S]]},N.scale=function(w){return arguments.length?(n=+w,D()):n},N.translate=function(w){return arguments.length?(r=+w[0],i=+w[1],D()):[r,i]},N.center=function(w){return arguments.length?(o=w[0]%360*ee,a=w[1]%360*ee,D()):[o*fe,a*fe]},N.rotate=function(w){return arguments.length?(u=w[0]%360*ee,c=w[1]%360*ee,f=w.length>2?w[2]%360*ee:0,D()):[u*fe,c*fe,f*fe]},N.angle=function(w){return arguments.length?(h=w%360*ee,D()):h*fe},N.reflectX=function(w){return arguments.length?(l=w?-1:1,D()):l<0},N.reflectY=function(w){return arguments.length?(d=w?-1:1,D()):d<0},N.precision=function(w){return arguments.length?(E=Vn(A,b=w*w),V()):Ee(b)},N.fitExtent=function(w,T){return gn(N,w,T)},N.fitSize=function(w,T){return Rr(N,w,T)},N.fitWidth=function(w,T){return Yr(N,w,T)},N.fitHeight=function(w,T){return Dr(N,w,T)};function D(){var w=Tn(n,0,0,l,d,h).apply(null,t(o,a)),T=Tn(n,r-w[0],i-w[1],l,d,h);return s=hi(u,c,f),A=Zt(t,T),P=Zt(s,A),E=Vn(A,b),V()}function V(){return M=x=null,N}return function(){return t=e.apply(this,arguments),N.invert=t.invert&&Y,D()}}function Hi(e){var t=0,n=O/3,r=Oi(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*ee,n=o[1]*ee):[t*fe,n*fe]},i}function Bi(e){var t=X(e);function n(r,i){return[r*t,j(i)/t]}return n.invert=function(r,i){return[r/t,Re(i*t)]},n}function ji(e,t){var n=j(e),r=(n+j(t))/2;if(U(r)<H)return Bi(e);var i=1+n*(2*r-n),o=Ee(i)/r;function a(u,c){var f=Ee(i-2*r*j(c))/r;return[f*j(u*=r),o-f*X(u)]}return a.invert=function(u,c){var f=o-c,s=Oe(u,U(f))*vt(f);return f*r<0&&(s-=O*vt(u)*vt(f)),[s/r,Re((i-(u*u+f*f)*r*r)/(2*r))]},a}function sn(){return Hi(ji).scale(155.424).center([0,33.6442])}function Ui(){return sn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Xi(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Gi(){var e,t,n=Ui(),r,i=sn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=sn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,c,f={point:function(l,d){c=[l,d]}};function s(l){var d=l[0],g=l[1];return c=null,r.point(d,g),c||(o.point(d,g),c)||(u.point(d,g),c)}s.invert=function(l){var d=n.scale(),g=n.translate(),p=(l[0]-g[0])/d,m=(l[1]-g[1])/d;return(m>=.12&&m<.234&&p>=-.425&&p<-.214?i:m>=.166&&m<.234&&p>=-.214&&p<-.115?a:n).invert(l)},s.stream=function(l){return e&&t===l?e:e=Xi([n.stream(t=l),i.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),h()):n.precision()},s.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),s.translate(n.translate())):n.scale()},s.translate=function(l){if(!arguments.length)return n.translate();var d=n.scale(),g=+l[0],p=+l[1];return r=n.translate(l).clipExtent([[g-.455*d,p-.238*d],[g+.455*d,p+.238*d]]).stream(f),o=i.translate([g-.307*d,p+.201*d]).clipExtent([[g-.425*d+H,p+.12*d+H],[g-.214*d-H,p+.234*d-H]]).stream(f),u=a.translate([g-.205*d,p+.212*d]).clipExtent([[g-.214*d+H,p+.166*d+H],[g-.115*d-H,p+.234*d-H]]).stream(f),h()},s.fitExtent=function(l,d){return gn(s,l,d)},s.fitSize=function(l,d){return Rr(s,l,d)},s.fitWidth=function(l,d){return Yr(s,l,d)},s.fitHeight=function(l,d){return Dr(s,l,d)};function h(){return e=t=null,s}return s.scale(1070)}function Wi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function at(){}var nt=.7,At=1/nt,Fe="\\s*([+-]?\\d+)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zi=/^#([0-9a-f]{3,8})$/,Qi=new RegExp(`^rgb\\(${Fe},${Fe},${Fe}\\)$`),Ki=new RegExp(`^rgb\\(${me},${me},${me}\\)$`),Ji=new RegExp(`^rgba\\(${Fe},${Fe},${Fe},${rt}\\)$`),$i=new RegExp(`^rgba\\(${me},${me},${me},${rt}\\)$`),ea=new RegExp(`^hsl\\(${rt},${me},${me}\\)$`),ta=new RegExp(`^hsla\\(${rt},${me},${me},${rt}\\)$`),zn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pn(at,it,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fn,formatHex:Fn,formatHex8:na,formatHsl:ra,formatRgb:On,toString:On});function Fn(){return this.rgb().formatHex()}function na(){return this.rgb().formatHex8()}function ra(){return Lr(this).formatHsl()}function On(){return this.rgb().formatRgb()}function it(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hn(t):n===3?new te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Qi.exec(e))?new te(t[1],t[2],t[3],1):(t=Ki.exec(e))?new te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ji.exec(e))?dt(t[1],t[2],t[3],t[4]):(t=$i.exec(e))?dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ea.exec(e))?Un(t[1],t[2]/100,t[3]/100,1):(t=ta.exec(e))?Un(t[1],t[2]/100,t[3]/100,t[4]):zn.hasOwnProperty(e)?Hn(zn[e]):e==="transparent"?new te(NaN,NaN,NaN,0):null}function Hn(e){return new te(e>>16&255,e>>8&255,e&255,1)}function dt(e,t,n,r){return r<=0&&(e=t=n=NaN),new te(e,t,n,r)}function ia(e){return e instanceof at||(e=it(e)),e?(e=e.rgb(),new te(e.r,e.g,e.b,e.opacity)):new te}function un(e,t,n,r){return arguments.length===1?ia(e):new te(e,t,n,r??1)}function te(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pn(te,un,qr(at,{brighter(e){return e=e==null?At:Math.pow(At,e),new te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nt:Math.pow(nt,e),new te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new te(Pe(this.r),Pe(this.g),Pe(this.b),Pt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bn,formatHex:Bn,formatHex8:aa,formatRgb:jn,toString:jn}));function Bn(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}`}function aa(){return`#${Ae(this.r)}${Ae(this.g)}${Ae(this.b)}${Ae((isNaN(this.opacity)?1:this.opacity)*255)}`}function jn(){const e=Pt(this.opacity);return`${e===1?"rgb(":"rgba("}${Pe(this.r)}, ${Pe(this.g)}, ${Pe(this.b)}${e===1?")":`, ${e})`}`}function Pt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ae(e){return e=Pe(e),(e<16?"0":"")+e.toString(16)}function Un(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ce(e,t,n,r)}function Lr(e){if(e instanceof ce)return new ce(e.h,e.s,e.l,e.opacity);if(e instanceof at||(e=it(e)),!e)return new ce;if(e instanceof ce)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,u=o-i,c=(o+i)/2;return u?(t===o?a=(n-r)/u+(n<r)*6:n===o?a=(r-t)/u+2:a=(t-n)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=c>0&&c<1?0:a,new ce(a,u,c,e.opacity)}function la(e,t,n,r){return arguments.length===1?Lr(e):new ce(e,t,n,r??1)}function ce(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pn(ce,la,qr(at,{brighter(e){return e=e==null?At:Math.pow(At,e),new ce(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nt:Math.pow(nt,e),new ce(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new te(Ht(e>=240?e-240:e+120,i,r),Ht(e,i,r),Ht(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ce(Xn(this.h),gt(this.s),gt(this.l),Pt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pt(this.opacity);return`${e===1?"hsl(":"hsla("}${Xn(this.h)}, ${gt(this.s)*100}%, ${gt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xn(e){return e=(e||0)%360,e<0?e+360:e}function gt(e){return Math.max(0,Math.min(1,e||0))}function Ht(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mn=e=>()=>e;function oa(e,t){return function(n){return e+n*t}}function sa(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ua(e){return(e=+e)==1?Vr:function(t,n){return n-t?sa(t,n,e):mn(isNaN(t)?n:t)}}function Vr(e,t){var n=t-e;return n?oa(e,n):mn(isNaN(e)?t:e)}const Gn=function e(t){var n=ua(t);function r(i,o){var a=n((i=un(i)).r,(o=un(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=Vr(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=u(s),i.b=c(s),i.opacity=f(s),i+""}}return r.gamma=e,r}(1);function fa(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function ca(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ha(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=vn(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function da(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function It(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ga(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=vn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bt=new RegExp(fn.source,"g");function pa(e){return function(){return e}}function ma(e){return function(t){return e(t)+""}}function va(e,t){var n=fn.lastIndex=Bt.lastIndex=0,r,i,o,a=-1,u=[],c=[];for(e=e+"",t=t+"";(r=fn.exec(e))&&(i=Bt.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,c.push({i:a,x:It(r,i)})),n=Bt.lastIndex;return n<t.length&&(o=t.slice(n),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?ma(c[0].x):pa(t):(t=c.length,function(f){for(var s=0,h;s<t;++s)u[(h=c[s]).i]=h.x(f);return u.join("")})}function vn(e,t){var n=typeof t,r;return t==null||n==="boolean"?mn(t):(n==="number"?It:n==="string"?(r=it(t))?(t=r,Gn):va:t instanceof it?Gn:t instanceof Date?da:ca(t)?fa:Array.isArray(t)?ha:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ga:It)(e,t)}function _a(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wa(e){return function(){return e}}function ya(e){return+e}var Wn=[0,1];function be(e){return e}function cn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:wa(isNaN(t)?NaN:.5)}function Ea(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Na(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=cn(i,r),o=n(a,o)):(r=cn(r,i),o=n(o,a)),function(u){return o(r(u))}}function ba(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=cn(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(u){var c=ni(e,u,1,r)-1;return o[c](i[c](u))}}function Sa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ma(){var e=Wn,t=Wn,n=vn,r,i,o,a=be,u,c,f;function s(){var l=Math.min(e.length,t.length);return a!==be&&(a=Ea(e[0],e[l-1])),u=l>2?ba:Na,c=f=null,h}function h(l){return l==null||isNaN(l=+l)?o:(c||(c=u(e.map(r),t,n)))(r(a(l)))}return h.invert=function(l){return a(i((f||(f=u(t,e.map(r),It)))(l)))},h.domain=function(l){return arguments.length?(e=Array.from(l,ya),s()):e.slice()},h.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},h.rangeRound=function(l){return t=Array.from(l),n=_a,s()},h.clamp=function(l){return arguments.length?(a=l?!0:be,s()):a!==be},h.interpolate=function(l){return arguments.length?(n=l,s()):n},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,s()}}function xa(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function je(e){return e=Rt(Math.abs(e)),e?e[1]:NaN}function ka(e,t){return function(n,r){for(var i=n.length,o=[],a=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(t)}}function Ca(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yt(e){if(!(t=Aa.exec(e)))throw new Error("invalid format: "+e);var t;return new _n({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yt.prototype=_n.prototype;function _n(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pa(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Tr;function Ia(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Tr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Rt(e,Math.max(0,t+o-1))[0]}function Zn(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xa,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zn(e*100,t),r:Zn,s:Ia,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kn(e){return e}var Jn=Array.prototype.map,$n=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ra(e){var t=e.grouping===void 0||e.thousands===void 0?Kn:ka(Jn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Kn:Ca(Jn.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Yt(h);var l=h.fill,d=h.align,g=h.sign,p=h.symbol,m=h.zero,y=h.width,_=h.comma,S=h.precision,v=h.trim,b=h.type;b==="n"?(_=!0,b="g"):Qn[b]||(S===void 0&&(S=12),v=!0,b="g"),(m||l==="0"&&d==="=")&&(m=!0,l="0",d="=");var E=p==="$"?n:p==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",A=p==="$"?r:/[%p]/.test(b)?a:"",P=Qn[b],M=/[defgprs%]/.test(b);S=S===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function x(N){var Y=E,D=A,V,w,T;if(b==="c")D=P(N)+D,N="";else{N=+N;var R=N<0||1/N<0;if(N=isNaN(N)?c:P(Math.abs(N),S),v&&(N=Pa(N)),R&&+N==0&&g!=="+"&&(R=!1),Y=(R?g==="("?g:u:g==="-"||g==="("?"":g)+Y,D=(b==="s"?$n[8+Tr/3]:"")+D+(R&&g==="("?")":""),M){for(V=-1,w=N.length;++V<w;)if(T=N.charCodeAt(V),48>T||T>57){D=(T===46?i+N.slice(V+1):N.slice(V))+D,N=N.slice(0,V);break}}}_&&!m&&(N=t(N,1/0));var F=Y.length+N.length+D.length,B=F<y?new Array(y-F+1).join(l):"";switch(_&&m&&(N=t(B+N,B.length?y-D.length:1/0),B=""),d){case"<":N=Y+N+D+B;break;case"=":N=Y+B+N+D;break;case"^":N=B.slice(0,F=B.length>>1)+Y+N+D+B.slice(F);break;default:N=B+Y+N+D;break}return o(N)}return x.toString=function(){return h+""},x}function s(h,l){var d=f((h=Yt(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(je(l)/3)))*3,p=Math.pow(10,-g),m=$n[8+g/3];return function(y){return d(p*y)+m}}return{format:f,formatPrefix:s}}var pt,zr,Fr;Ya({thousands:",",grouping:[3],currency:["$",""]});function Ya(e){return pt=Ra(e),zr=pt.format,Fr=pt.formatPrefix,pt}function Da(e){return Math.max(0,-je(Math.abs(e)))}function qa(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(je(t)/3)))*3-je(Math.abs(e)))}function La(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,je(t)-je(e))+1}function Va(e,t,n,r){var i=oi(e,t,n),o;switch(r=Yt(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=qa(i,a))&&(r.precision=o),Fr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=La(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Da(i))&&(r.precision=o-(r.type==="%")*2);break}}return zr(r)}function Ta(e){var t=e.domain;return e.ticks=function(n){var r=t();return li(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Va(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],u=r[o],c,f,s=10;for(u<a&&(f=a,a=u,u=f,f=i,i=o,o=f);s-- >0;){if(f=Ut(a,u,n),f===c)return r[i]=a,r[o]=u,t(r);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;c=f}return e},e}function er(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function za(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fa(e){return e<0?-e*e:e*e}function Oa(e){var t=e(be,be),n=1;function r(){return n===1?e(be,be):n===.5?e(za,Fa):e(er(n),er(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ta(t)}function Or(){var e=Oa(Ma());return e.copy=function(){return Sa(e,Or()).exponent(e.exponent())},Wi.apply(e,arguments),e}function Ha(){return Or.apply(null,arguments).exponent(.5)}function tr(e,t,n){const r=e.slice();return r[19]=t[n].cx,r[20]=t[n].cy,r[21]=t[n].count,r[0]=t[n]["Agency Name"],r[22]=t[n].State,r}function nr(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}function rr(e){let t,n;return{c(){t=Qe("path"),this.h()},l(r){t=Ke(r,"path",{d:!0,class:!0}),z(t).forEach(I),this.h()},h(){C(t,"d",n=e[7](e[25])),C(t,"class","country svelte-zomvzk")},m(r,i){K(r,t,i)},p(r,i){i&2&&n!==(n=r[7](r[25]))&&C(t,"d",n)},d(r){r&&I(t)}}}function ir(e){let t,n,r,i,o,a;function u(...c){return e[13](e[0],e[22],...c)}return{c(){t=Qe("circle"),this.h()},l(c){t=Ke(c,"circle",{cx:!0,cy:!0,r:!0,class:!0}),z(t).forEach(I),this.h()},h(){C(t,"cx",n=e[19]),C(t,"cy",r=e[20]),C(t,"r",i=e[8](e[21])),C(t,"class","point svelte-zomvzk")},m(c,f){K(c,t,f),o||(a=[he(t,"mouseover",u),he(t,"mouseout",e[10])],o=!0)},p(c,f){e=c,f&64&&n!==(n=e[19])&&C(t,"cx",n),f&64&&r!==(r=e[20])&&C(t,"cy",r),f&64&&i!==(i=e[8](e[21]))&&C(t,"r",i)},d(c){c&&I(t),o=!1,Dt(a)}}}function ar(e){let t,n=e[19]&&e[20]&&ir(e);return{c(){n&&n.c(),t=wt()},l(r){n&&n.l(r),t=wt()},m(r,i){n&&n.m(r,i),K(r,t,i)},p(r,i){r[19]&&r[20]?n?n.p(r,i):(n=ir(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&I(t),n&&n.d(r)}}}function lr(e){let t,n;return{c(){t=q("div"),n=Z(e[5]),this.h()},l(r){t=L(r,"DIV",{class:!0,style:!0});var i=z(t);n=Q(i,e[5]),i.forEach(I),this.h()},h(){C(t,"class","tooltip svelte-zomvzk"),ie(t,"top","10px"),ie(t,"left","10px")},m(r,i){K(r,t,i),k(t,n)},p(r,i){i&32&&le(n,r[5])},d(r){r&&I(t)}}}function Ba(e){let t,n,r,i,o,a,u=pe(e[1]),c=[];for(let l=0;l<u.length;l+=1)c[l]=rr(nr(e,u,l));let f=pe(e[6]),s=[];for(let l=0;l<f.length;l+=1)s[l]=ar(tr(e,f,l));let h=e[4]&&lr(e);return{c(){t=q("article"),n=Qe("svg"),r=Qe("g");for(let l=0;l<c.length;l+=1)c[l].c();i=Qe("g");for(let l=0;l<s.length;l+=1)s[l].c();o=G(),h&&h.c(),this.h()},l(l){t=L(l,"ARTICLE",{class:!0});var d=z(t);n=Ke(d,"svg",{viewBox:!0});var g=z(n);r=Ke(g,"g",{fill:!0,stroke:!0});var p=z(r);for(let y=0;y<c.length;y+=1)c[y].l(p);p.forEach(I),i=Ke(g,"g",{class:!0});var m=z(i);for(let y=0;y<s.length;y+=1)s[y].l(m);m.forEach(I),g.forEach(I),o=W(d),h&&h.l(d),d.forEach(I),this.h()},h(){C(r,"fill","white"),C(r,"stroke","black"),C(i,"class","points"),C(n,"viewBox","0 0 975 610"),C(t,"class","container svelte-zomvzk"),Hr(()=>e[14].call(t))},m(l,d){K(l,t,d),k(t,n),k(n,r);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(r,null);k(n,i);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(i,null);k(t,o),h&&h.m(t,null),a=Br(t,e[14].bind(t))},p(l,[d]){if(d&130){u=pe(l[1]);let g;for(g=0;g<u.length;g+=1){const p=nr(l,u,g);c[g]?c[g].p(p,d):(c[g]=rr(p),c[g].c(),c[g].m(r,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=u.length}if(d&1856){f=pe(l[6]);let g;for(g=0;g<f.length;g+=1){const p=tr(l,f,g);s[g]?s[g].p(p,d):(s[g]=ar(p),s[g].c(),s[g].m(i,null))}for(;g<s.length;g+=1)s[g].d(1);s.length=f.length}l[4]?h?h.p(l,d):(h=lr(l),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i:ne,o:ne,d(l){l&&I(t),$e(c,l),$e(s,l),h&&h.d(),a()}}}function ja(e,t,n){let r,{data:i=[]}=t,{itemName:o}=t,{agencyName:a}=t,u=[],c,f,s=!1,h="";pr(async()=>{const v=await fetch("us.json").then(b=>b.json());n(1,u=Qr(v,v.objects.states).features)});let l=Gi().scale(1300).translate([487.5,305]),d=Di().projection(null);function g(v){const b=new Map;return v.forEach(E=>{const A=l([E.Longitude,E.Latitude]);if(!A)return;const[P,M]=A,x=`${P}-${M}`;b.has(x)||b.set(x,{...E,cx:P,cy:M,count:0}),b.get(x).count+=1}),Array.from(b.values())}function p(v){return Ha().domain([1,Math.max(...r.map(P=>P.count))]).range([3,20])(v)}function m(v,b,E){n(5,h=`${b}, ${E} `),n(4,s=!0)}function y(){n(4,s=!1)}const _=(v,b,E)=>m(E,v,b);function S(){c=this.clientWidth,f=this.clientHeight,n(2,c),n(3,f)}return e.$$set=v=>{"data"in v&&n(11,i=v.data),"itemName"in v&&n(12,o=v.itemName),"agencyName"in v&&n(0,a=v.agencyName)},e.$$.update=()=>{e.$$.dirty&2048&&n(6,r=g(i))},[a,u,c,f,s,h,r,d,p,m,y,i,o,_,S]}class Ua extends qe{constructor(t){super(),Le(this,t,ja,Ba,De,{data:11,itemName:12,agencyName:0})}}function or(e,t,n){const r=e.slice();return r[11]=t[n],r}function sr(e){let t,n=e[11]+"",r,i,o,a;function u(){return e[8](e[11])}return{c(){t=q("div"),r=Z(n),i=G(),this.h()},l(c){t=L(c,"DIV",{class:!0});var f=z(t);r=Q(f,n),i=W(f),f.forEach(I),this.h()},h(){C(t,"class","svelte-mie8sr")},m(c,f){K(c,t,f),k(t,r),k(t,i),o||(a=he(t,"click",u),o=!0)},p(c,f){e=c,f&4&&n!==(n=e[11]+"")&&le(r,n)},d(c){c&&I(t),o=!1,a()}}}function Xa(e){let t,n,r,i,o,a,u=pe(e[2]),c=[];for(let f=0;f<u.length;f+=1)c[f]=sr(or(e,u,f));return{c(){t=q("div"),n=q("input"),r=G(),i=q("div");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){t=L(f,"DIV",{class:!0});var s=z(t);n=L(s,"INPUT",{type:!0,placeholder:!0,class:!0}),r=W(s),i=L(s,"DIV",{class:!0});var h=z(i);for(let l=0;l<c.length;l+=1)c[l].l(h);h.forEach(I),s.forEach(I),this.h()},h(){C(n,"type","text"),C(n,"placeholder",e[0]),C(n,"class","svelte-mie8sr"),C(i,"class","dropdown-content svelte-mie8sr"),C(t,"class","dropdown svelte-mie8sr")},m(f,s){K(f,t,s),k(t,n),Je(n,e[1]),k(t,r),k(t,i);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(i,null);o||(a=[he(n,"input",e[7]),he(n,"input",e[4])],o=!0)},p(f,[s]){if(s&1&&C(n,"placeholder",f[0]),s&2&&n.value!==f[1]&&Je(n,f[1]),s&12){u=pe(f[2]);let h;for(h=0;h<u.length;h+=1){const l=or(f,u,h);c[h]?c[h].p(l,s):(c[h]=sr(l),c[h].c(),c[h].m(i,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}},i:ne,o:ne,d(f){f&&I(t),$e(c,f),o=!1,Dt(a)}}}function Ga(e,t,n){let r,{options:i=[]}=t,{placeholder:o=""}=t,{selected:a=""}=t;const u=jr();let c="";function f(d){n(5,a=d),n(1,c=d),u("select",d)}function s(d){n(1,c=d.target.value),u("input",c)}function h(){c=this.value,n(1,c),n(5,a)}const l=d=>f(d);return e.$$set=d=>{"options"in d&&n(6,i=d.options),"placeholder"in d&&n(0,o=d.placeholder),"selected"in d&&n(5,a=d.selected)},e.$$.update=()=>{e.$$.dirty&32&&n(1,c=a),e.$$.dirty&66&&n(2,r=i.filter(d=>d.toLowerCase().includes(c.toLowerCase())).sort())},[o,c,r,f,s,a,i,h,l]}class ur extends qe{constructor(t){super(),Le(this,t,Ga,Xa,De,{options:6,placeholder:0,selected:5})}}function Wa(e){let t,n,r,i,o,a,u,c,f,s,h,l,d;return{c(){t=q("div"),n=q("div"),r=q("div"),i=G(),o=q("div"),a=q("span"),u=Z(e[0]),c=G(),f=q("div"),s=q("span"),h=Z(e[1]),this.h()},l(g){t=L(g,"DIV",{class:!0});var p=z(t);n=L(p,"DIV",{class:!0});var m=z(n);r=L(m,"DIV",{class:!0,style:!0}),z(r).forEach(I),i=W(m),o=L(m,"DIV",{class:!0,"data-which":!0,style:!0});var y=z(o);a=L(y,"SPAN",{class:!0});var _=z(a);u=Q(_,e[0]),_.forEach(I),y.forEach(I),c=W(m),f=L(m,"DIV",{class:!0,"data-which":!0,style:!0});var S=z(f);s=L(S,"SPAN",{class:!0});var v=z(s);h=Q(v,e[1]),v.forEach(I),S.forEach(I),m.forEach(I),p.forEach(I),this.h()},h(){C(r,"class","body svelte-1as0dqw"),ie(r,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),ie(r,"right",100*(1-(e[1]-e[2])/(e[3]-e[2]))+"%"),C(a,"class","svelte-1as0dqw"),C(o,"class","handle svelte-1as0dqw"),C(o,"data-which","start"),ie(o,"left",100*((e[0]-e[2])/(e[3]-e[2]))+"%"),C(s,"class","svelte-1as0dqw"),C(f,"class","handle svelte-1as0dqw"),C(f,"data-which","end"),ie(f,"left",100*((e[1]-e[2])/(e[3]-e[2]))+"%"),C(n,"class","slider svelte-1as0dqw"),C(t,"class","double-range-container svelte-1as0dqw")},m(g,p){K(g,t,p),k(t,n),k(n,r),e[9](r),k(n,i),k(n,o),k(o,a),k(a,u),e[10](o),k(n,c),k(n,f),k(f,s),k(s,h),e[11](n),l||(d=[qt(jt.call(null,r)),he(r,"dragmove",Lt(Vt(e[8]))),qt(jt.call(null,o)),he(o,"dragmove",Lt(Vt(e[7]("start")))),qt(jt.call(null,f)),he(f,"dragmove",Lt(Vt(e[7]("end"))))],l=!0)},p(g,[p]){p&13&&ie(r,"left",100*((g[0]-g[2])/(g[3]-g[2]))+"%"),p&14&&ie(r,"right",100*(1-(g[1]-g[2])/(g[3]-g[2]))+"%"),p&1&&le(u,g[0]),p&13&&ie(o,"left",100*((g[0]-g[2])/(g[3]-g[2]))+"%"),p&2&&le(h,g[1]),p&14&&ie(f,"left",100*((g[1]-g[2])/(g[3]-g[2]))+"%")},i:ne,o:ne,d(g){g&&I(t),e[9](null),e[10](null),e[11](null),l=!1,Dt(d)}}}function fr(e,t,n){return e<t?t:e>n?n:e}function jt(e){let t,n;function r(a){a.type==="touchstart"&&(a=a.touches[0]),t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragstart",{detail:{x:t,y:n}})),window.addEventListener("mousemove",i),window.addEventListener("mouseup",o),window.addEventListener("touchmove",i),window.addEventListener("touchend",o)}function i(a){a.type==="touchmove"&&(a=a.changedTouches[0]);const u=a.clientX-t,c=a.clientY-n;t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragmove",{detail:{x:t,y:n,dx:u,dy:c}}))}function o(a){t=a.clientX,n=a.clientY,e.dispatchEvent(new CustomEvent("dragend",{detail:{x:t,y:n}})),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",o),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",o)}return e.addEventListener("mousedown",r),e.addEventListener("touchstart",r),{destroy(){e.removeEventListener("mousedown",r),e.removeEventListener("touchstart",r)}}}function Za(e,t,n){let{minYear:r}=t,{maxYear:i}=t,{startYear:o=1990}=t,{endYear:a=new Date().getFullYear()}=t,u,c,f;function s(p){return function(m){const{left:y,right:_}=f.getBoundingClientRect(),S=_-y,v=Math.min(Math.max((m.detail.x-y)/S,0),1);p==="start"?(n(0,o=Math.round(r+v*(i-r))),n(1,a=Math.max(a,o))):(n(0,o=Math.min(o,a)),n(1,a=Math.round(r+v*(i-r))))}}function h(p){const{width:m}=c.getBoundingClientRect(),{left:y,right:_}=f.getBoundingClientRect(),S=_-y,v=u.getBoundingClientRect().left,b=fr(v+event.detail.dx-y,0,S-m),E=fr(b+m,m,S),A=b/S,P=E/S;n(0,o=Math.round(r+A*(i-r))),n(1,a=Math.round(r+P*(i-r)))}function l(p){Se[p?"unshift":"push"](()=>{c=p,n(5,c)})}function d(p){Se[p?"unshift":"push"](()=>{u=p,n(4,u)})}function g(p){Se[p?"unshift":"push"](()=>{f=p,n(6,f)})}return e.$$set=p=>{"minYear"in p&&n(2,r=p.minYear),"maxYear"in p&&n(3,i=p.maxYear),"startYear"in p&&n(0,o=p.startYear),"endYear"in p&&n(1,a=p.endYear)},[o,a,r,i,u,c,f,s,h,l,d,g]}class Qa extends qe{constructor(t){super(),Le(this,t,Za,Wa,De,{minYear:2,maxYear:3,startYear:0,endYear:1})}}function Ka(e){let t,n=`<p class="svelte-16lv7xm">It includes the item name, quantity, cost, and date of shipment for
        police departments the US.</p> <p class="svelte-16lv7xm">The data comes from the Defense Logistics Agency.</p>`;return{c(){t=q("header"),t.innerHTML=n,this.h()},l(r){t=L(r,"HEADER",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-1458xmh"&&(t.innerHTML=n),this.h()},h(){C(t,"class","svelte-16lv7xm")},m(r,i){K(r,t,i)},p:ne,i:ne,o:ne,d(r){r&&I(t)}}}class Ja extends qe{constructor(t){super(),Le(this,t,null,Ka,De,{})}}function $a(e){let t,n,r,i,o,a,u,c,f,s,h,l,d,g,p,m,y,_,S="Apply Filters",v,b,E="Reset Filters",A,P,M;r=new Ja({});function x(R){e[12](R)}function N(R){e[13](R)}let Y={minYear:e[6],maxYear:e[7]};e[2]!==void 0&&(Y.startYear=e[2]),e[3]!==void 0&&(Y.endYear=e[3]),a=new Qa({props:Y}),Se.push(()=>st(a,"startYear",x)),Se.push(()=>st(a,"endYear",N));function D(R){e[14](R)}let V={options:e[5],placeholder:"Type to filter Agency Names..."};e[1]!==void 0&&(V.selected=e[1]),s=new ur({props:V}),Se.push(()=>st(s,"selected",D)),s.$on("select",e[8]);function w(R){e[15](R)}let T={options:e[4],placeholder:"Type to filter Item Names..."};return e[0]!==void 0&&(T.selected=e[0]),d=new ur({props:T}),Se.push(()=>st(d,"selected",w)),d.$on("select",e[8]),{c(){t=q("div"),n=q("section"),Me(r.$$.fragment),i=G(),o=q("section"),Me(a.$$.fragment),f=G(),Me(s.$$.fragment),l=G(),Me(d.$$.fragment),p=G(),m=q("section"),y=q("div"),_=q("button"),_.textContent=S,v=G(),b=q("button"),b.textContent=E,this.h()},l(R){t=L(R,"DIV",{class:!0});var F=z(t);n=L(F,"SECTION",{class:!0});var B=z(n);xe(r.$$.fragment,B),B.forEach(I),i=W(F),o=L(F,"SECTION",{class:!0});var J=z(o);xe(a.$$.fragment,J),f=W(J),xe(s.$$.fragment,J),l=W(J),xe(d.$$.fragment,J),J.forEach(I),p=W(F),m=L(F,"SECTION",{class:!0});var $=z(m);y=L($,"DIV",{class:!0});var re=z(y);_=L(re,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(_)!=="svelte-1mdto3n"&&(_.textContent=S),v=W(re),b=L(re,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(b)!=="svelte-p5k4b6"&&(b.textContent=E),re.forEach(I),$.forEach(I),F.forEach(I),this.h()},h(){C(n,"class","svelte-430mf7"),C(o,"class","svelte-430mf7"),C(_,"class","svelte-430mf7"),C(b,"class","svelte-430mf7"),C(y,"class","actions svelte-430mf7"),C(m,"class","svelte-430mf7"),C(t,"class","filterContainer svelte-430mf7")},m(R,F){K(R,t,F),k(t,n),ke(r,n,null),k(t,i),k(t,o),ke(a,o,null),k(o,f),ke(s,o,null),k(o,l),ke(d,o,null),k(t,p),k(t,m),k(m,y),k(y,_),k(y,v),k(y,b),A=!0,P||(M=[he(_,"click",e[8]),he(b,"click",e[9])],P=!0)},p(R,[F]){const B={};!u&&F&4&&(u=!0,B.startYear=R[2],ot(()=>u=!1)),!c&&F&8&&(c=!0,B.endYear=R[3],ot(()=>c=!1)),a.$set(B);const J={};F&32&&(J.options=R[5]),!h&&F&2&&(h=!0,J.selected=R[1],ot(()=>h=!1)),s.$set(J);const $={};F&16&&($.options=R[4]),!g&&F&1&&(g=!0,$.selected=R[0],ot(()=>g=!1)),d.$set($)},i(R){A||(we(r.$$.fragment,R),we(a.$$.fragment,R),we(s.$$.fragment,R),we(d.$$.fragment,R),A=!0)},o(R){ye(r.$$.fragment,R),ye(a.$$.fragment,R),ye(s.$$.fragment,R),ye(d.$$.fragment,R),A=!1},d(R){R&&I(t),Ce(r),Ce(a),Ce(s),Ce(d),P=!1,Dt(M)}}}function el(e,t,n){let{data:r=[]}=t,{selectedItemName:i=""}=t,{selectedAgencyName:o=""}=t,{startYear:a=1990}=t,{endYear:u=new Date().getFullYear()}=t,{onFilterChange:c}=t,f=10,s=44e5,h=a,l=u,d=[],g=[];const p=E=>parseFloat(E.replace("US$","").replace(/\./g,"").replace(",","."));m();function m(){let E=r;(a||u)&&(E=E.filter(A=>{const P=new Date(A["Ship Date"]).getFullYear();return P>=a&&P<=u})),(f||s)&&(E=E.filter(A=>{const P=p(A["Acquisition Value"]);return P>=f&&P<=s})),i&&(E=E.filter(A=>A["Item Name"].toLowerCase().includes(i.toLowerCase()))),o&&(E=E.filter(A=>A["Agency Name"].toLowerCase().includes(o.toLowerCase()))),n(4,d=[...new Set(r.map(A=>A["Item Name"]))]),n(5,g=[...new Set(r.map(A=>A["Agency Name"]))]),c(i,o,a,u,f,s)}function y(){n(0,i=""),n(1,o=""),n(2,a=1990),n(3,u=new Date().getFullYear()),f=10,s=44e5,m()}function _(E){a=E,n(2,a)}function S(E){u=E,n(3,u)}function v(E){o=E,n(1,o)}function b(E){i=E,n(0,i)}return e.$$set=E=>{"data"in E&&n(10,r=E.data),"selectedItemName"in E&&n(0,i=E.selectedItemName),"selectedAgencyName"in E&&n(1,o=E.selectedAgencyName),"startYear"in E&&n(2,a=E.startYear),"endYear"in E&&n(3,u=E.endYear),"onFilterChange"in E&&n(11,c=E.onFilterChange)},[i,o,a,u,d,g,h,l,m,y,r,c,_,S,v,b]}class tl extends qe{constructor(t){super(),Le(this,t,el,$a,De,{data:10,selectedItemName:0,selectedAgencyName:1,startYear:2,endYear:3,onFilterChange:11})}}function cr(e,t,n){const r=e.slice();return r[9]=t[n],r}function hr(e,t,n){const r=e.slice();return r[12]=t[n],r}function dr(e){let t,n,r=new Date(e[0][e[9]].dates[e[12]].date).toLocaleDateString()+"",i,o,a,u,c,f,s,h=e[0][e[9]].dates[e[12]].quantity+"",l,d,g,p,m,y,_=e[0][e[9]].dates[e[12]].acquisitionValue+"",S,v,b,E,A=e[0][e[9]].nsn+"",P;return{c(){t=q("div"),n=q("div"),i=Z(r),o=G(),a=q("div"),c=G(),f=q("p"),s=Z("("),l=Z(h),d=Z(")"),g=G(),p=q("div"),m=q("p"),y=Z("Acquisition Value: "),S=Z(_),v=G(),b=q("p"),E=Z("NSN: "),P=Z(A),this.h()},l(M){t=L(M,"DIV",{class:!0});var x=z(t);n=L(x,"DIV",{class:!0});var N=z(n);i=Q(N,r),N.forEach(I),o=W(x),a=L(x,"DIV",{class:!0,title:!0,style:!0}),z(a).forEach(I),c=W(x),f=L(x,"P",{class:!0});var Y=z(f);s=Q(Y,"("),l=Q(Y,h),d=Q(Y,")"),Y.forEach(I),x.forEach(I),g=W(M),p=L(M,"DIV",{class:!0});var D=z(p);m=L(D,"P",{class:!0});var V=z(m);y=Q(V,"Acquisition Value: "),S=Q(V,_),V.forEach(I),v=W(D),b=L(D,"P",{class:!0});var w=z(b);E=Q(w,"NSN: "),P=Q(w,A),w.forEach(I),D.forEach(I),this.h()},h(){C(n,"class","date svelte-lmotak"),C(a,"class","bar svelte-lmotak"),C(a,"title",u=`Quantity: ${e[0][e[9]].dates[e[12]].quantity}`),ie(a,"width",e[0][e[9]].dates[e[12]].quantity*10+"px"),C(f,"class","tiny svelte-lmotak"),C(t,"class","item svelte-lmotak"),C(m,"class","tiny svelte-lmotak"),C(b,"class","tiny svelte-lmotak"),C(p,"class","meta svelte-lmotak")},m(M,x){K(M,t,x),k(t,n),k(n,i),k(t,o),k(t,a),k(t,c),k(t,f),k(f,s),k(f,l),k(f,d),K(M,g,x),K(M,p,x),k(p,m),k(m,y),k(m,S),k(p,v),k(p,b),k(b,E),k(b,P)},p(M,x){x&3&&r!==(r=new Date(M[0][M[9]].dates[M[12]].date).toLocaleDateString()+"")&&le(i,r),x&3&&u!==(u=`Quantity: ${M[0][M[9]].dates[M[12]].quantity}`)&&C(a,"title",u),x&3&&ie(a,"width",M[0][M[9]].dates[M[12]].quantity*10+"px"),x&3&&h!==(h=M[0][M[9]].dates[M[12]].quantity+"")&&le(l,h),x&3&&_!==(_=M[0][M[9]].dates[M[12]].acquisitionValue+"")&&le(S,_),x&3&&A!==(A=M[0][M[9]].nsn+"")&&le(P,A)},d(M){M&&(I(t),I(g),I(p))}}}function gr(e){let t,n,r,i=e[0][e[9]].totalValue+"",o,a,u,c,f,s=e[0][e[9]].agency+"",h,l,d,g,p=e[0][e[9]].state+"",m,y,_,S,v=e[0][e[9]].item+"",b,E,A,P=pe(Object.keys(e[0][e[9]].dates)),M=[];for(let x=0;x<P.length;x+=1)M[x]=dr(hr(e,P,x));return{c(){t=q("div"),n=q("span"),r=Z("(Total Value: $"),o=Z(i),a=Z(")"),u=G(),c=q("div"),f=q("h3"),h=Z(s),l=G(),d=q("span"),g=Z("("),m=Z(p),y=Z(")"),_=G(),S=q("h3"),b=Z(v),E=G();for(let x=0;x<M.length;x+=1)M[x].c();A=G(),this.h()},l(x){t=L(x,"DIV",{class:!0});var N=z(t);n=L(N,"SPAN",{class:!0});var Y=z(n);r=Q(Y,"(Total Value: $"),o=Q(Y,i),a=Q(Y,")"),Y.forEach(I),u=W(N),c=L(N,"DIV",{class:!0});var D=z(c);f=L(D,"H3",{class:!0});var V=z(f);h=Q(V,s),l=W(V),d=L(V,"SPAN",{class:!0});var w=z(d);g=Q(w,"("),m=Q(w,p),y=Q(w,")"),w.forEach(I),V.forEach(I),_=W(D),S=L(D,"H3",{class:!0});var T=z(S);b=Q(T,v),T.forEach(I),D.forEach(I),E=W(N);for(let R=0;R<M.length;R+=1)M[R].l(N);A=W(N),N.forEach(I),this.h()},h(){C(n,"class","tiny svelte-lmotak"),C(d,"class","tiny svelte-lmotak"),C(f,"class","agency svelte-lmotak"),C(S,"class","svelte-lmotak"),C(c,"class","header svelte-lmotak"),C(t,"class","group svelte-lmotak")},m(x,N){K(x,t,N),k(t,n),k(n,r),k(n,o),k(n,a),k(t,u),k(t,c),k(c,f),k(f,h),k(f,l),k(f,d),k(d,g),k(d,m),k(d,y),k(c,_),k(c,S),k(S,b),k(t,E);for(let Y=0;Y<M.length;Y+=1)M[Y]&&M[Y].m(t,null);k(t,A)},p(x,N){if(N&3&&i!==(i=x[0][x[9]].totalValue+"")&&le(o,i),N&3&&s!==(s=x[0][x[9]].agency+"")&&le(h,s),N&3&&p!==(p=x[0][x[9]].state+"")&&le(m,p),N&3&&v!==(v=x[0][x[9]].item+"")&&le(b,v),N&3){P=pe(Object.keys(x[0][x[9]].dates));let Y;for(Y=0;Y<P.length;Y+=1){const D=hr(x,P,Y);M[Y]?M[Y].p(D,N):(M[Y]=dr(D),M[Y].c(),M[Y].m(t,A))}for(;Y<M.length;Y+=1)M[Y].d(1);M.length=P.length}},d(x){x&&I(t),$e(M,x)}}}function nl(e){let t,n,r="Sort by:",i,o,a,u="Value",c,f="Alphabet",s,h="Date",l,d,g,p,m=pe(e[1]),y=[];for(let _=0;_<m.length;_+=1)y[_]=gr(cr(e,m,_));return{c(){t=q("div"),n=q("label"),n.textContent=r,i=G(),o=q("select"),a=q("option"),a.textContent=u,c=q("option"),c.textContent=f,s=q("option"),s.textContent=h,l=G(),d=q("div");for(let _=0;_<y.length;_+=1)y[_].c();this.h()},l(_){t=L(_,"DIV",{class:!0});var S=z(t);n=L(S,"LABEL",{for:!0,"data-svelte-h":!0}),Ne(n)!=="svelte-ne7zl7"&&(n.textContent=r),i=W(S),o=L(S,"SELECT",{id:!0});var v=z(o);a=L(v,"OPTION",{"data-svelte-h":!0}),Ne(a)!=="svelte-zquwu0"&&(a.textContent=u),c=L(v,"OPTION",{"data-svelte-h":!0}),Ne(c)!=="svelte-1egzec6"&&(c.textContent=f),s=L(v,"OPTION",{"data-svelte-h":!0}),Ne(s)!=="svelte-38wycu"&&(s.textContent=h),v.forEach(I),S.forEach(I),l=W(_),d=L(_,"DIV",{class:!0});var b=z(d);for(let E=0;E<y.length;E+=1)y[E].l(b);b.forEach(I),this.h()},h(){C(n,"for","sortOptions"),a.__value="value",Je(a,a.__value),c.__value="alphabet",Je(c,c.__value),s.__value="date",Je(s,s.__value),C(o,"id","sortOptions"),C(t,"class","info svelte-lmotak"),C(d,"class","timeline svelte-lmotak")},m(_,S){K(_,t,S),k(t,n),k(t,i),k(t,o),k(o,a),k(o,c),k(o,s),K(_,l,S),K(_,d,S);for(let v=0;v<y.length;v+=1)y[v]&&y[v].m(d,null);g||(p=he(o,"change",e[2]),g=!0)},p(_,[S]){if(S&3){m=pe(_[1]);let v;for(v=0;v<m.length;v+=1){const b=cr(_,m,v);y[v]?y[v].p(b,S):(y[v]=gr(b),y[v].c(),y[v].m(d,null))}for(;v<y.length;v+=1)y[v].d(1);y.length=m.length}},i:ne,o:ne,d(_){_&&(I(t),I(l),I(d)),$e(y,_),g=!1,p()}}}function rl(e,t,n){let r,i,o,{data:a=[]}=t,{itemName:u=""}=t,{agencyName:c=""}=t,{sortOption:f="value"}=t;const s=l=>parseFloat(l.replace("US$","").replace(/\./g,"").replace(",","."));function h(l){n(3,f=l.target.value)}return e.$$set=l=>{"data"in l&&n(4,a=l.data),"itemName"in l&&n(5,u=l.itemName),"agencyName"in l&&n(6,c=l.agencyName),"sortOption"in l&&n(3,f=l.sortOption)},e.$$.update=()=>{e.$$.dirty&112&&n(7,r=a.filter(l=>(u===""||l["Item Name"]===u)&&(c===""||l["Agency Name"]===c))),e.$$.dirty&128&&n(0,i=r.reduce((l,d)=>{const g=`${d["Agency Name"]}, ${d["Item Name"]}`,p=new Date(d["Ship Date"]).toLocaleDateString();l[g]||(l[g]={totalValue:0,dates:{}}),l[g].dates[p]||(l[g].dates[p]={date:d["Ship Date"],quantity:0,items:[]});const m=s(d["Acquisition Value"]);return l[g].totalValue+=m,l[g].dates[p].quantity+=parseInt(d.Quantity),l[g].dates[p].acquisitionValue=d["Acquisition Value"],l[g].dates[p].items.push(d),l[g].agency=d["Agency Name"].toLowerCase(),l[g].item=d["Item Name"].toLowerCase(),l[g].state=d.State,l[g].nsn=d.NSN,l},{})),e.$$.dirty&9&&n(1,o=Object.keys(i).sort((l,d)=>{if(f==="value")return i[d].totalValue-i[l].totalValue;if(f==="alphabet")return l.localeCompare(d);if(f==="date"){const g=new Date(i[l].dates[Object.keys(i[l].dates)[0]].date),p=new Date(i[d].dates[Object.keys(i[d].dates)[0]].date);return g-p}}).slice(0,500))},[i,o,h,f,a,u,c,r]}class il extends qe{constructor(t){super(),Le(this,t,rl,nl,De,{data:4,itemName:5,agencyName:6,sortOption:3})}}function al(e){let t,n="Loading...";return{c(){t=q("p"),t.textContent=n,this.h()},l(r){t=L(r,"P",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-qdsr2u"&&(t.textContent=n),this.h()},h(){C(t,"class","svelte-ybf4om")},m(r,i){K(r,t,i)},p:ne,i:ne,o:ne,d(r){r&&I(t)}}}function ll(e){let t,n,r,i,o,a,u,c,f,s,h;return i=new tl({props:{data:e[0],selectedItemName:e[1],selectedAgencyName:e[2],startYear:e[3],endYear:e[4],startValue:e[5],endValue:e[6],onFilterChange:e[8]}}),u=new Ua({props:{data:e[7],itemName:e[1],agencyName:e[2]}}),s=new il({props:{data:e[7],itemName:e[1],agencyName:e[2]}}),{c(){t=q("section"),n=q("div"),r=q("section"),Me(i.$$.fragment),o=G(),a=q("section"),Me(u.$$.fragment),c=G(),f=q("section"),Me(s.$$.fragment),this.h()},l(l){t=L(l,"SECTION",{class:!0});var d=z(t);n=L(d,"DIV",{class:!0});var g=z(n);r=L(g,"SECTION",{class:!0});var p=z(r);xe(i.$$.fragment,p),p.forEach(I),o=W(g),a=L(g,"SECTION",{class:!0});var m=z(a);xe(u.$$.fragment,m),m.forEach(I),g.forEach(I),c=W(d),f=L(d,"SECTION",{class:!0});var y=z(f);xe(s.$$.fragment,y),y.forEach(I),d.forEach(I),this.h()},h(){C(r,"class","filters svelte-ybf4om"),C(a,"class","map svelte-ybf4om"),C(n,"class","svelte-ybf4om"),C(f,"class","timeline svelte-ybf4om"),C(t,"class","vizContainer svelte-ybf4om")},m(l,d){K(l,t,d),k(t,n),k(n,r),ke(i,r,null),k(n,o),k(n,a),ke(u,a,null),k(t,c),k(t,f),ke(s,f,null),h=!0},p(l,d){const g={};d&1&&(g.data=l[0]),d&2&&(g.selectedItemName=l[1]),d&4&&(g.selectedAgencyName=l[2]),d&8&&(g.startYear=l[3]),d&16&&(g.endYear=l[4]),d&32&&(g.startValue=l[5]),d&64&&(g.endValue=l[6]),i.$set(g);const p={};d&128&&(p.data=l[7]),d&2&&(p.itemName=l[1]),d&4&&(p.agencyName=l[2]),u.$set(p);const m={};d&128&&(m.data=l[7]),d&2&&(m.itemName=l[1]),d&4&&(m.agencyName=l[2]),s.$set(m)},i(l){h||(we(i.$$.fragment,l),we(u.$$.fragment,l),we(s.$$.fragment,l),h=!0)},o(l){ye(i.$$.fragment,l),ye(u.$$.fragment,l),ye(s.$$.fragment,l),h=!1},d(l){l&&I(t),Ce(i),Ce(u),Ce(s)}}}function ol(e){let t,n,r,i;const o=[ll,al],a=[];function u(c,f){return c[0].length>0?0:1}return t=u(e),n=a[t]=o[t](e),{c(){n.c(),r=wt()},l(c){n.l(c),r=wt()},m(c,f){a[t].m(c,f),K(c,r,f),i=!0},p(c,[f]){let s=t;t=u(c),t===s?a[t].p(c,f):(Xr(),ye(a[s],1,1,()=>{a[s]=null}),Ur(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),we(n,1),n.m(r.parentNode,r))},i(c){i||(we(n),i=!0)},o(c){ye(n),i=!1},d(c){c&&I(r),a[t].d(c)}}}function sl(e,t,n){let r=[],i="",o="",a=1990,u=new Date().getFullYear(),c=10,f=1e3,s=[];const h=g=>parseFloat(g.replace("US$","").replace(/\./g,"").replace(",","."));pr(async()=>{const g=await fetch("data.json");n(0,r=await g.json()),l()});function l(){n(7,s=r.filter(g=>{const p=new Date(g["Ship Date"]).getFullYear(),m=h(g["Acquisition Value"]);return(i==""||g["Item Name"].toLowerCase().includes(i.toLowerCase()))&&(o==""||g["Agency Name"].toLowerCase().includes(o.toLowerCase()))&&p>=a&&p<=u&&m>=c&&m<=f}))}function d(g,p,m,y,_,S){n(1,i=g),n(2,o=p),n(3,a=m),n(4,u=y),n(5,c=_),n(6,f=S),l()}return[r,i,o,a,u,c,f,s,d]}class cl extends qe{constructor(t){super(),Le(this,t,sl,ol,De,{})}}export{cl as component};
